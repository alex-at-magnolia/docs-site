<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Single-page applications :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/features/spa.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="spa.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="spa.html">Single-page applications</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#features/Features.adoc">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Single-page applications</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="/Developing/SPA+development+and+Magnolia">SPA development and
Magnolia</a></p>
</li>
<li>
<p><a href="https://hd.magnolia-cms.com/">Headless Documentation</a></p>
</li>
<li>
<p><a href="https://hd.magnolia-cms.com/docs/getting-started/hello-spa">Hello
Magnolia - SPA</a></p>
</li>
<li>
<p><a href="/Modules/List+of+modules/Pages+module">Pages module</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since the 6.2 LTS release, marketers and content practitioners can edit
a JavaScript-based SPA (such as React or Angular) in the Magnolia Page
editor in the same way they would edit a traditional website. This means
developers can implement a headless approach with all of its advantages,
and yet content authors still get the control, context and high-fidelity
preview of the Page Editor.</p>
</div>
<div class="paragraph">
<p>Magnolia comes with modules and libraries that help you develop a
<em>Single-Page Application</em> (SPA),</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>``a web application or web site that interacts with the user by
dynamically rewriting the current page rather than loading entire new
pages from a server.'' (Wikipedia).</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>In the SPA scenario, while editing and publishing of page content that
is fed to an SPA still happens in a Magnolia author instance, retrieval
and rendering of that content is delegated to a JavaScript-based
front-end web framework running externally to Magnolia instances.
Likewise, development of an SPA is completely independent of Magnolia:
You don’t need to have our libraries or support to write an SPA.</p>
</div>
<div class="paragraph">
<p><a href="!toc" class="bare">!toc</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To serve SPA pages, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Develop and host a JavaScript SPA. It could be hosted on a Magnolia
instance or another delivery platform such as a CDN, front-end app
server like Next, or any other server. Currently, Angular and React are
supported.</p>
</li>
<li>
<p>Connect the SPA to the REST endpoints of the Magnolia public instance
which will serve page content and template information to the SPA.</p>
</li>
<li>
<p>Make sure that page and component templates developed in the front-end
framework are correctly mapped to their Magnolia counterparts, and that
the page template definition (using the SPA root index.html file)
correctly references all CSS and JavaScript files assembled by the
front-end framework.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_is_a_magnolia_page_served_as_an_spa_page"><a class="anchor" href="#_how_is_a_magnolia_page_served_as_an_spa_page"></a>How is a Magnolia page served as an SPA page?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An SPA expects two types of input: <em>page content</em> and <em>template
definitions</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Page content, which is always edited in the
<a href="/Apps/List+of+apps/Pages+app">Pages app</a>, is requested by an
external SPA through the
<a href="/Developing/API/REST+API/Delivery+endpoint+API/Delivery+endpoint+API+v2">Magnolia
Delivery endpoint API v2</a>.</p>
</li>
<li>
<p>Page, area and component template definitions are requested by the SPA
through a dedicated Magnolia template definition endpoint.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once available to the external app, they are passed to a function in the
app app that renders the final page tree.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rendering_an_spa_page"><a class="anchor" href="#_rendering_an_spa_page"></a>Rendering an SPA page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The rendering of an SPA page is done through the Magnolia JavaScript
libraries available via npm
([@magnolia/react-editor](<a href="https://www.npmjs.com/package/@magnolia/react-editor" class="bare">https://www.npmjs.com/package/@magnolia/react-editor</a>)
and
[@magnolia/angular-editor](<a href="https://www.npmjs.com/package/@magnolia/angular-editor)" class="bare">https://www.npmjs.com/package/@magnolia/angular-editor)</a>).
The libraries assemble a component tree from the REST-delivered content
and templates.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The page node represents the root content for a given application
state, for example a page title or page properties.</p>
<div class="paragraph">
<p>Note: In front-end terms, a page is also a component, just a top-level
one.</p>
</div>
</li>
<li>
<p>Each JCR node then represents a page, area or component.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The
<a href="/Templating/Template+definition#referencing-templates-with-id-property">template
id</a>, typically stored in the
<a href="/Administration/Architecture/Node+types#magnolia-mixin-node-types"><code>mgnl:template</code></a>
property, is used as a key to get the correct JavaScript component.</p>
</div>
<div class="paragraph">
<p>In order to create components based on their template id, component
mappings must be defined. The mappings contain entries whose key is the
template id string, and whose value is a direct JavaScript reference to
the component type. The mappings are stored in the front-end project,
close to template implementations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_editing_content_of_an_spa_page"><a class="anchor" href="#_editing_content_of_an_spa_page"></a>Editing content of an SPA page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All content editing is done in the Pages app of the Magnolia author
instance. The Magnolia-provided
<a href="/Developing/SPA+development+and+Magnolia/Magnolia+front-end+helpers+for+SPA">SPA
renderer libraries</a> ensure that a SPA project can be edited in the Pages
app. The SPA renderer produces template annotations, which the Pages app
transforms into the green
<a href="/Authoring/Editing+pages#toolbars">toolbars</a> – editable page
elements. Note: The green toolbars are generated whenever the page
iFrame is loaded. Additionally, the green toolbars can also be generated
by calling the <code>document.mgnlRefresh()</code> function.</p>
</div>
<div class="paragraph">
<p>The renderer libraries allow you to work with page hierarchies in the
same way you would expect when creating non-SPA pages. SPA applications
can load content from different Magnolia pages. The content can be
organized using a navigation component or through back and forth
buttons.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>The <code>angular-minimal</code> is a parent page to the <code>about</code> page:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPages.png" alt="image" width="600"></span></p>
</div>
<div class="paragraph">
<p>Content of both pages is freely accessible to the editor of an SPA
application and links to both pages are placed next to each other on a
blue navigation bar:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPagesEditMode.png" alt="image" width="600"></span>
<span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPagesEditModeAbout.png" alt="image" width="600"></span></p>
</div>
<div class="paragraph">
<p>On the Magnolia side, an SPA has a very simple template definition that
just references the index.html file generated by the external React or
Angular app.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spa_editing_tutorial"><a class="anchor" href="#_spa_editing_tutorial"></a>SPA editing tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Walk through the steps of adding new dynamic components to a managed
SPA:</p>
</div>
<div class="paragraph">
<p><a href="https://hd.magnolia-cms.com/docs/getting-started/hello-spa">Hello
Magnolia - SPA</a></p>
</div>
<div class="paragraph">
<p>Browse a minimal demonstration project:</p>
</div>
<div class="paragraph">
<p><a href="https://git.magnolia-cms.com/projects/demos/repos/minimal-headless-spa-demos">Minimal
Headless SPA Demo</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>See also</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Single-page_application">Single-page
application</a> (Wikipedia).</p>
</li>
<li>
<p><a href="https://angular.io/">angular.io</a> - a TypeScript-based open-source web
application framework.</p>
</li>
<li>
<p><a href="https://reactjs.org/">reactjs.org</a> - a JavaScript library for building
user interfaces.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
