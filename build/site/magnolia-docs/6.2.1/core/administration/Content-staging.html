<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content staging - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/administration/Content-staging.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Content-staging.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Content-staging.html">Content staging - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/dump/Magnolia-Cloud.html">Dump Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Administration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Content staging - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Instances.html">Instances</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595677"><a class="anchor" href="#src-196595677"></a>Content staging</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Content staging is the practice of publishing content to an intermediate
instance (<a href="https://en.wikipedia.org/wiki/Staging_site">staging site</a>) for
review and test. Once the content is approved, it is published forward
to production instances. Staging is useful when you need to publish
large amounts of content such as a campaign that consists of many pages
and assets. You can also use staging as workflow step when content needs
to be user acceptance tested or reviewed for compliance.</p>
</div>
<div class="paragraph">
<p>Create a new staging instance between the author and public instance.
Publish content first to this staging instance, then to production.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595677/content-staging.png" alt="images/download/attachments/196595677/content-staging.png"></span></p>
</div>
<div class="sect2">
<h3 id="src-196595677_Contentstaging-Creatingastaginginstance"><a class="anchor" href="#src-196595677_Contentstaging-Creatingastaginginstance"></a>Creating a staging instance</h3>
<div class="paragraph">
<p>To create a staging instance:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop Magnolia.</p>
</li>
<li>
<p><a href="Creating-a-new-public-instance.html">Copy an existing public
instance</a> to create a new instance. See best practice below.</p>
</li>
<li>
<p>Rename the copied instance folder so that you can identify it as
staging, for example <code>magnoliaStaging</code>.</p>
</li>
<li>
<p>Copy the <code>magnolia-activation-keypair.properties</code> file from the author
instance to the staging instance and all other public instances. The
keypair file contains the private and public
<a href="Activation-security.html">activation keys</a>. This ensures that the
staging instance can publish content forward. The file is in
<code>${magnolia.home}/WEB-INF/config/default/</code> by default.</p>
</li>
<li>
<p>Start Magnolia.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595677/magnoliaStaging-folder.png" alt="images/download/attachments/196595677/magnoliaStaging-folder.png"></span></p>
</div>
<div class="paragraph">
<p>Best practice</p>
</div>
<div class="paragraph">
<p>Configure your content staging instance as a <em>public</em> instance so that
users cannot edit pages on it. The Pages app does not display the green
edit bars on public instances. You typically don&#8217;t want reviewers to
change content on the staging instance. While reviewers may need
permission to log into the AdminCentral to review functionality such as
new apps, they should not edit pages. The staging instance is intended
for testing and approving only. If something is not correct, fix it on
the author instance and publish again to staging for another test.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595677_Contentstaging-Configuringstagingasasubscribertotheauthorinstance"><a class="anchor" href="#src-196595677_Contentstaging-Configuringstagingasasubscribertotheauthorinstance"></a>Configuring staging as a subscriber to the author instance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the author instance</p>
</li>
<li>
<p>Configure the staging instance as a
<a href="Subscribers.html#src-196595667_Subscribers-Subscribers">subscriber</a>
to the author.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">activation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subscribers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">magnoliaStaging8080</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://localhost:8080/magnoliaStaging" class="bare">http://localhost:8080/magnoliaStaging</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">active</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.activation.DefaultSubscriber</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196595677_Contentstaging-Configuringproductionasasubscribertothestaginginstance"><a class="anchor" href="#src-196595677_Contentstaging-Configuringproductionasasubscribertothestaginginstance"></a>Configuring production as a subscriber to the staging instance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the staging instance. It&#8217;s a public instance but you can find
AdminCentral at
`http://localhost:8080/magnoliaStaging/.magnolia/admincentral `.</p>
</li>
<li>
<p>Configure production instances as
<a href="Subscribers.html#src-196595667_Subscribers-Subscribers">subscribers</a>
to the staging.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">activation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subscribers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">magnoliaPublic8080</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://localhost:8080/magnoliaPublic" class="bare">http://localhost:8080/magnoliaPublic</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">active</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.activation.DefaultSubscriber</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Normally public instances don&#8217;t have any subscribers but the staging
instance is a special case. This instance will display the publishing
status of content but the status is only synched with the public
subscribers in front of it, not with the author behind it.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595677_Contentstaging-Unpublishinganddeletingcontent"><a class="anchor" href="#src-196595677_Contentstaging-Unpublishinganddeletingcontent"></a>Unpublishing and deleting content</h3>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Handle unpublishing and deleting of content carefully. Make sure that
you unpublish content from the public instances before unpublishing it
from staging. Unpublishing does not ripple backwards in the chain
automatically.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595677_Contentstaging-Contentstagingisnotcodestaging"><a class="anchor" href="#src-196595677_Contentstaging-Contentstagingisnotcodestaging"></a>Content staging is not code staging</h3>
<div class="paragraph">
<p>Content staging is not the same as code staging. In a code staging
environment, developers test application code and verify deployment
procedures. A code staging environment should mirror the production
environment as closely as possible. This ensures that when the code is
production ready it can be deployed to production without issues. This
page is about creating a content staging instance for reviewing content.</p>
</div>
<div class="paragraph">
<p>Receivers</p>
</div>
<div class="paragraph">
<p>Clustering</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
