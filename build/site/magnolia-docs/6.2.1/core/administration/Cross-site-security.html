<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cross-site security - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/administration/Cross-site-security.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Cross-site-security.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Cross-site-security.html">Cross-site security - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Cross-site security - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Security.html">Security</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595944"><a class="anchor" href="#src-196595944"></a>Cross-site security</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>DX Core allows you to run multiple sites in a single Magnolia instance.
In a multisite scenario, allowing the content of one site to be accessed
through the URL of a sibling site hurts search engine optimization
(SEO). Web crawlers interpret the sibling content as duplicate content,
that is the same content but visible through a different URL. Content
should only be accessible through one own domain name for each site.</p>
</div>
<div class="paragraph">
<p>Magnolia provides two ways to prevent cross-site access:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#src-196595944_Cross-sitesecurity-Cross-sitesecurityfilter">Cross-site
security filter</a> grants and denies the permission to access a site
through a particular domain name. For example, if you only grant access
to the travel site through <code>travel-demo.magnolia-cms.com</code>, no other URL
can be used to access the content. When a user tries to access one
site&#8217;s content through another site&#8217;s domain name, the system displays
an HTTP 404 error (page not found).</p>
</li>
<li>
<p><a href="#src-196595944_Cross-sitesecurity-Site-specificACLs">Site-specific
ACL</a> grants or denies the permission to access a site to a particular
role. For example, if you deny the <code>anonymous</code> role access to a site
then anonymous users will see a login box. They must authenticate
themselves in order to gain access to the content through a more
permissive role. Use site-specific ACLs if you want to make sibling site
content available through the same URL but only for authenticated users
such as registered members. A Web crawler such as Googlebot, which is
equal to an anonymous user, cannot see the content and will not penalize
your SEO efforts for duplicate content.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use either mechanism alone or both mechanisms together. If you
use them together, remember that the
<a href="Filters.html#src-196595729_Filters-Crosssitesecurity">cross-site
security filter</a> is executed before the
<a href="Filters.html#src-196595729_Filters-URIsecurity">URI security filter</a>
in the Magnolia filter chain. This means that the cross-site filter must
grant permission to access the site first. Only then will roles and ACLs
be evaluated.</p>
</div>
<div class="paragraph">
<p>The <a href="Filters.html#src-196595729_Filters-Crosssitesecurity">cross-site
security filter</a> is executed in the Magnolia filter chain before the URI
security filter.</p>
</div>
<div class="sect2">
<h3 id="src-196595944_Cross-sitesecurity-Sitenamesanddomainnames"><a class="anchor" href="#src-196595944_Cross-sitesecurity-Sitenamesanddomainnames"></a>Site names and domain names</h3>
<div class="paragraph">
<p>A site name identifies a site. The site name is the name of the site
definition node. For example, the name of the travel site is <code>travel</code>.
You need the site name when controlling cross-site access with the
filter or with ACLs.</p>
</div>
<div class="paragraph">
<p>A domain name is mapped to a site in the <code>domains</code> node under the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Site+definition">site
definition</a>. For example, the <code>travel</code> site has the domain
<code>travel-demo.magnolia-cms.com</code> mapped to it. When a user requests the
site with this domain name, content is served from the path defined in
the <code>handlePrefix</code> property. You will need the domain name when
controlling cross-site access with the filter.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fallback</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domains</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel-demo</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel-demo.magnolia-cms.com</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mappings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">website</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URIPrefix</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">handlePrefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/travel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">website</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">theme</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domains</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation.magnolia-cms.com</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mappings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">theme</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../travel</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196595944_Cross-sitesecurity-Cross-sitesecurityfilter"><a class="anchor" href="#src-196595944_Cross-sitesecurity-Cross-sitesecurityfilter"></a>Cross-site security filter</h3>
<div class="paragraph">
<p>The <a href="Filters.html#src-196595729_Filters-Crosssitesecurity">cross-site
security filter</a> is executed in the Magnolia filter chain before the
<a href="Filters.html#src-196595729_Filters-URIsecurity">URI security
filter</a>. This means that a user must pass the cross-site filter before
any ACLs are evaluated. The cross-site filter grants or denies
permission to a site when the site is requested through a particular
domain name.</p>
</div>
<div class="paragraph">
<p>The cross-site security filter is configured using resolvers. Each
resolver grants access to one site through one domain. If no resolvers
exist the filter does not grant access to any site through any domain.</p>
</div>
<div class="paragraph">
<p>However, a very permissive <code>allToAll</code> resolver is enabled by default. It
grants permission to access all sites through all domains. This is the
starting point from which you can configure more restricted access.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filters</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">crossSite</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bypasses</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dotMagnolia</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resources</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolvers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">allToAll</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromDomain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toSite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.multisite.filters.CrossSiteSecurityFilter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resolvers</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Resolvers configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allToall</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Resolver name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fromDomain</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Domain name that is used to request a site</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>toSite</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of the site that is requested.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocol</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Protocol used to request the site such as <code>http</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Port number such as <code>8080</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>context</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Context path is the part of the URL where the Magnolia webapp lives. For
example in <code><a href="http://domain.com/magnoliaPublic" class="bare">http://domain.com/magnoliaPublic</a></code> the context path is
<code>/magnoliaPublic</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Enables and disables the resolver.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To deny cross-site access, disable the <code>allToAll</code> resolver and configure
new ones.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>The example resolvers below grant access to the <code>travel</code> site via
<code><a href="https://travel-demo.magnolia-cms.com/" class="bare">https://travel-demo.magnolia-cms.com/</a></code> and to the <code>sportstation</code> site
via <code><a href="https://sportstation.magnolia-cms.com/" class="bare">https://sportstation.magnolia-cms.com/</a></code>. This is adequate to
prevent cross-site access. If a user requests the <code>travel</code> site via
<code><a href="https://sportstation.magnolia-cms.com/" class="bare">https://sportstation.magnolia-cms.com/</a></code> they will get a 404 error.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filters</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">crossSite</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bypasses</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolvers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">allToAll</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromDomain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toSite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">.*</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromDomain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel-demo.magnolia-cms.com</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toSite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromDomain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation.magnolia-cms.com</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toSite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can test cross-site security by adding these configurations on the
public site and requesting content at
<code><a href="https://sportstation.magnolia-cms.com/travel.html" class="bare">https://sportstation.magnolia-cms.com/travel.html</a> `or
`https://travel-demo.magnolia-cms.com/sportstation</code>. The requests should
result in 404 errors.</p>
</div>
<div class="paragraph">
<p>In specific server configurations, it may also be necessary to add an
additional resolver for the administrator/editor to be able to access
both the administration and public instances.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595944_Cross-sitesecurity-Site-specificACLs"><a class="anchor" href="#src-196595944_Cross-sitesecurity-Site-specificACLs"></a>Site-specific ACLs</h3>
<div class="paragraph">
<p>You can also prevent cross-site access using ACLs. This is the
recommended practice if you have authenticated users who should have
cross-site access when they are logged in.</p>
</div>
<div class="paragraph">
<p>The <code>&lt;site name&gt;</code> parameter makes an ACL rule site specific. You can use
the site name in URLs and paths. Enclose the name in angle brackets (&lt;
&gt;) at the beginning of the rule. The system applies the ACL when a
matching site definition node exists.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>This ACL rule prevents cross-site access from the <code>travel</code> site to the
<code>sportstation</code> site.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the public instance, create a new role, for example <code>cross-site</code></p>
</li>
<li>
<p>Assign the following ACL to the role.</p>
<div class="paragraph">
<p><a href="https://nexus.magnolia-cms.com/content/repositories/magnolia.enterprise.sites/magnolia-module-multisite/1.1.1/magnolia-module-multisite/apidocs/info/magnolia/multisite/filters/CrossSiteSecurityFilter.html"><span class="image"><img src="../../_images/images/download/attachments/196595944/site-specific-acl.png" alt="images/download/attachments/196595944/site-specific-acl.png"></span></a></p>
</div>
</li>
<li>
<p>Now when the anonymous requests content at
<code><a href="https://travel-demo.magnolia-cms.com/sportstation" class="bare">https://travel-demo.magnolia-cms.com/sportstation</a></code> the standard login
form is displayed.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="src-196595944_Cross-sitesecurity-Filtersthatcontrolsitesecurity"><a class="anchor" href="#src-196595944_Cross-sitesecurity-Filtersthatcontrolsitesecurity"></a>Filters that control site security</h3>
<div class="paragraph">
<p>Three filters control site security:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="Filters.html#src-196595729_Filters-Multisite">Multisite</a> filter
(MultiSiteFilter) initializes multidomain support and makes domain
related properties available in the aggregation state. This filter finds
a domain name that matches a name configured in a site definition.</p>
</li>
<li>
<p><a href="Filters.html#src-196595729_Filters-Crosssitesecurity">Cross-site
security</a> filter (CrossSiteSecurityFilter) handles cross-site security.
It controls site access based on registered resolvers. This filter
imports a CrossSiteAccessResolver that makes a number of properties
available in the filter configuration.</p>
</li>
<li>
<p><a href="Filters.html#src-196595729_Filters-URIsecurity">Site URI security</a>
filter (SiteUriSecurityFilter) provides site-aware URI security. This
filter extends the Community Edition
<a href="Filters.html#src-196595729_Filters-URIsecurity">URI security filter</a>
that checks if the current user has permissions to the requested
resource. The following permissions are taken into consideration:</p>
</li>
<li>
<p>URI ACLs of the user&#8217;s roles.</p>
</li>
<li>
<p>URI ACLs of the roles in the user&#8217;s groups.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Activation keys</p>
</div>
<div class="paragraph">
<p>IP and HTTP permissions</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
