<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Magnolia CLI v2 - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/cli/Magnolia-CLI-v2.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Magnolia-CLI-v2.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Magnolia-CLI-v2.html">Magnolia CLI v2 - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Magnolia CLI v2 - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Magnolia-CLI.html" class="bare">Magnolia-CLI.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Magnolia-CLI.html">Magnolia 6.2 documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598525"><a class="anchor" href="#src-196598525"></a>Magnolia CLI v2</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Magnolia CLI is an <a href="https://www.npmjs.com/">npm</a> package providing a
command line interface (CLI) tool to set up and facilitate light
development with Magnolia. This page describes how to install, set up,
configure and use the commands in the version 2 branch. If you are using
a Magnolia CLI version 3, see the page called
<a href="Magnolia-CLI-v3.html">Magnolia CLI v3</a> instead.</p>
</div>
<div class="paragraph">
<p>To install Magnolia CLI, see the
<a href="https://documentation.magnolia-cms.com/pages/viewpage.action?pageId=152835224">main
Magnolia CLI page</a>.</p>
</div>
<div class="paragraph">
<p>The commands of the Magnolia CLI package facilitate the creation of a
light module skeleton: the folders and files that form a typical
Magnolia light module. We assume that you are already familiar with some
Magnolia basics of creating
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Module+structure">light
modules</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Template+definition">templates</a>
and
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Dialog+definition">dialogs</a>.</p>
</div>
<div class="sect2">
<h3 id="src-196598525_MagnoliaCLIv2-Configuration"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Configuration"></a>Configuration</h3>
<div class="paragraph">
<p>Magnolia CLI is configured in these files/folders:</p>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-Files"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Files"></a>Files</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mgnl‑cli‑prototypes/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A folder which contains the prototypes for
template and dialog definitions and the README file. For further details
see <a href="#src-196598525_MagnoliaCLIv2-prototypes">prototypes</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mgnl‑cli.json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The configuration file defining the folders of the
light module skeleton and some other things.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When a CLI command is executed, the system searches for the JSON
configuration.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Do not modify the <code>package.json</code> of your global installation, consider
creating one local <code>package.json</code> for each project instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-Globalandlocalconfigurations"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Globalandlocalconfigurations"></a>Global and local configurations</h4>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the <code>-h</code> option to show the location of the configuration files
corresponding to the location where you run the command. Using this
option also shows the general help text. The command itself is not
executed.</p>
</li>
<li>
<p>You can use the placeholder variables <code><em>name</em></code> and
<code><em>lightDevModuleFolder</em></code> in all prototypes files for page and
component templates (in <code>mgnl-cli-prototypes/page/*</code> and
<code>mgnl-cli-prototypes/component</code>).</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Global"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Global"></a>Global</h5>
<div class="paragraph">
<p>The global configuration is created during the global
<a href="Magnolia-CLI.html#src-196598509_MagnoliaCLI-InstallingMagnoliaCLI">installation</a>
of the Magnolia CLI package. On Linux or OS-X the global configuration
files are typically located in the
<code>/usr/local/lib/node_modules/@magnolia/cli</code> folder.</p>
</div>
<div class="paragraph">
<p>The CLI commands use the global configuration if no local configuration
is found in the current directory or in its parent folders.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-local-prototypes"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-local-prototypes"></a><span id="src-196598525_MagnoliaCLIv2-local-prototypes2 " class="confluence-anchor-link">#</span>#</h5>

</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Local"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Local"></a>Local</h5>
<div class="paragraph">
<p>For different projects you can create various local configurations with
the <code>customize-local-config `command. This command creates local
configuration files in the
`/wherever/you-have/executed/the-customize-local-config-command</code> folder.</p>
</div>
<div class="paragraph">
<p>The local configuration is created as a copy of the current
configuration (used during execution of the <code>customize-local-config</code>
command), which you can edit to define project specific prototypes or
dependencies.</p>
</div>
<div class="paragraph">
<p>When executing commands from within the local configuration folders or
subfolders, the local configuration is used.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>You cannot mix global and local configurations. When adding a local
configuration it must be complete: it must contain the <code>mgnl-cli.json</code>
file and the complete <code>mgnl-cli-prototypes</code> folder.</p>
</div>
<div class="paragraph">
<p>If Magnolia CLI finds the <code>mgnl-cli.json</code> file in the current or a
parent directory, it expects to find the complete <code>mgnl-cli-prototypes</code>
as well.</p>
</div>
<div class="paragraph">
<p>[<mark>src-196598525_MagnoliaCLIv2-mgnl-cli.json]</mark>#</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-mgnl-cli.json"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-mgnl-cli.json"></a>mgnl-cli.json</h4>
<div class="paragraph">
<p>This <a href="http://www.json.org/">JSON</a> file contains basic configurations which
are used when running the Magnolia CLI commands. Here is a partial list
of the properties which you might want to edit:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Used by</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>downloadUrl</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The URL used to download the bundle.</p>
</div>
<div class="paragraph">
<p>We do not recommend editing this property.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command <em>jumpstart</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>downloadJars</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of artifacts to be added to the <code>WEB-INF/lib</code>
directory.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command <em>jumpstart</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tomcatFolder</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the folder where the Magnolia bundled with
Tomcat is installed during the execution of the jumpstart command.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command <em>jumpstart</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>magnoliaAuthor</code>,</p>
</div>
<div class="paragraph">
<p><code>magnoliaPublic</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If set these properties override the same properties in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Configuration+management">magnolia.properties</a>
file by overwriting them there.</p>
</div>
<div class="paragraph">
<p>Note that you cannot set the <code>magnolia.resources.dir</code> property since
Magnolia CLI overrides it.</p>
</div>
<div class="paragraph">
<p>The properties are used to update the magnolia.properties files (on both
public and author) when executing the <em>jumpstart</em> command.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command <em>jumpstart</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lightDevFoldersInModule</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The folders which are created for a light
module.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command <em>create-light-module</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Click here to expand to see the source of mgnl-cli.json</p>
</div>
<div class="paragraph">
<p>mgnl-cli.json</p>
</div>
<div class="paragraph">
<p>` {`</p>
</div>
<div class="paragraph">
<p>`  <code>"setupMagnolia"</code>: {`</p>
</div>
<div class="paragraph">
<p>`    <code>"downloadUrl"</code>: <code>"https://nexus.magnolia-cms.com/service/local/artifact/maven/content?r=magnolia.public.releases&amp;g=info.magnolia.bundle&amp;a=magnolia-community-demo-bundle&amp;c=tomcat-bundle&amp;e=zip&amp;v=${magnoliaVersion}"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"tomcatFolder"</code>: <code>"apache-tomcat"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"webapps"</code>: {`</p>
</div>
<div class="paragraph">
<p>`      <code>"magnoliaAuthor"</code>: {`</p>
</div>
<div class="paragraph">
<p>`        <code>"magnolia.develop"</code>: <code>true</code>,`</p>
</div>
<div class="paragraph">
<p>`        <code>"magnolia.update.auto"</code>: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`      },`</p>
</div>
<div class="paragraph">
<p>`      <code>"magnoliaPublic"</code>: {`</p>
</div>
<div class="paragraph">
<p>`        <code>"magnolia.update.auto"</code>: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`      }`</p>
</div>
<div class="paragraph">
<p>`    },`</p>
</div>
<div class="paragraph">
<p>`    <code>"downloadJars"</code>: {}`</p>
</div>
<div class="paragraph">
<p>`  },`</p>
</div>
<div class="paragraph">
<p>`  <code>"lightDevFoldersInModule"</code>: {`</p>
</div>
<div class="paragraph">
<p>`    <code>"dialogs_components"</code>: <code>"/dialogs/components"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"dialogs_pages"</code>: <code>"/dialogs/pages"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"templates_components"</code>: <code>"/templates/components"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"templates_pages"</code>: <code>"/templates/pages"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"webresources"</code>: <code>"webresources"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"decorations"</code>: <code>"decorations"</code>,`</p>
</div>
<div class="paragraph">
<p>`    <code>"i18n"</code>: <code>`"i18n"</code></p>
</div>
<div class="paragraph">
<p>`  }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>This version of <em>mgnl.json</em> may not include all parameters described
below.</p>
</div>
<div class="paragraph">
<p>[<mark>src-196598525_MagnoliaCLIv2-prototypes]</mark>#</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-Prototypes"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Prototypes"></a>Prototypes</h4>
<div class="paragraph">
<p>When executing either the <code>create-page</code> or the <code>create-component</code>
command, new files are created from the prototype files. These prototype
files are located in the `mgnl-cli-prototypes `folder.</p>
</div>
<div class="paragraph">
<p><code>&lt;configuration&gt;/mgnl-cli-prototypes/</code></p>
</div>
<div class="paragraph">
<p><code>├── README.md.tpl</code></p>
</div>
<div class="paragraph">
<p><code>├── component</code></p>
</div>
<div class="paragraph">
<p><code>│   ├── definition.yaml</code></p>
</div>
<div class="paragraph">
<p><code>│   ├── dialog.yaml</code></p>
</div>
<div class="paragraph">
<p><code>│   └── template.ftl</code></p>
</div>
<div class="paragraph">
<p><code>└── page</code></p>
</div>
<div class="paragraph">
<p>`    ├── definition.yaml`</p>
</div>
<div class="paragraph">
<p>`    ├── dialog.yaml`</p>
</div>
<div class="paragraph">
<p>`    └── template.ftl`</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196598525_MagnoliaCLIv2-Commands"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Commands"></a>Commands</h3>
<div class="paragraph">
<p><strong>Universally available Magnolia CLI command options</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 9%;">
<col style="width: 91%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-h</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Shows all the parameters and optional parameters (options) available for
a command. When you execute a command with just the <code>-h</code> option, the
command itself is not executed.</p>
</div>
<div class="paragraph">
<p>For example the command <code>mgnl create-light-module -h</code> will not create a
light module structure in the current direcory.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-V</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Shows version information. When you execute a command with just this
option, the command itself is not executed (same as entering <code>mgnl -V</code>).</p>
</div>
<div class="paragraph">
<p>An example output of the <code>mgnl create-light-module -V</code> command:</p>
</div>
<div class="paragraph">
<p><code>2.2.0</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-add-availability"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-add-availability"></a>add-availability</h4>
<div class="paragraph">
<p>This command makes a component available to a page by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding or updating the page template definition to enable the
component for an area.</p>
</li>
<li>
<p>Adding the <code>cms:area</code>
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Directives">directive</a> to
the template script (if it is not already there).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The command only succeeds if the current directory (or the directory
defined by the <code>-p &lt;path&gt;</code> parameter) is a light module with a
<a href="#src-196598525_MagnoliaCLIv2-Lightmoduleminimalfolderstructure">minimal
folder structure</a> and if the page specified by the second argument
exists.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl add-availability &lt;[module-id:]path-to-component&gt; &lt;path-to-page[@area]&gt; [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters"></a>Parameters</h5>
<table class="tableblock frame-all grid-all" style="width: 79%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;[module‑id:]path‑to‑component&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The component you want to make available.</p>
</div>
<div class="paragraph">
<p>Must at least contain the path to a component.</p>
</div>
<div class="paragraph">
<p>Can optionally start with the module identifier <code>[module‑id:]</code> . If the
module identifier is not used, Magnolia CLI assumes the component
belongs to the current light module or to the light module specified by
the <code>-p &lt;path&gt;</code> option.</p>
</div>
<div class="paragraph">
<p>Magnolia CLI does <em>not</em> check the existence of the specified component.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;path‑to‑page[@area]&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The page you want to make the component available to.</p>
</div>
<div class="paragraph">
<p>The parameter starts with the path to the page template within the
templates directory and it must end with an area name <code>[@area]</code> . If the
area does not exist yet, the command adds an area to both the template
script and the template definition.</p>
</div>
<div class="paragraph">
<p>If no area is specified, the command defaults to <code>main</code> area (if it
exists) or creates <code>main</code> area (if it does not).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 24%;">
<col style="width: 19%;">
<col style="width: 57%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path to the light module that contains the page template.</p>
</div>
<div class="paragraph">
<p>If no path is specified, the command must be run in an existing light
module folder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-g</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add this parameter to
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Component+autogeneration">autogenerate
the component</a> instead of providing plain availability.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Examples"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Examples"></a>Examples</h5>
<div class="paragraph">
<p>This example makes a component from the <code>mtk</code> module available to the
page named <code>my-page</code> in the area named <code>main</code>:</p>
</div>
<div class="paragraph">
<p><code>mgnl add-availability mtk:components/textImage pages/my-page`</code>@main`</p>
</div>
<div class="paragraph">
<p>This example makes the component <code>my-component</code> available to the page
<code>my-page</code>. Both the component and the page are part of the light module
located at <code>/Users/jdoe/dev/mgnl/light-modules/my-module/</code>:</p>
</div>
<div class="paragraph">
<p><code>mgnl add-availability components/my-component pages/my-page<code>@main</code> -p /Users/jdoe/dev/mgnl/light-modules/my-module/</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-create-component"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-create-component"></a>create-component</h4>
<div class="paragraph">
<p>This command creates a new component template including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A template definition YAML file.</p>
</li>
<li>
<p>A freemarker template script.</p>
</li>
<li>
<p>A YAML dialog definition file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optionally, the component can be made available to a page using the <code>-a</code>
option (internally calling the `add-availability `command).</p>
</div>
<div class="paragraph">
<p>The command succeeds only if the current directory (or the directory
defined by the <code>-p</code> option) is a light module with a
<a href="#src-196598525_MagnoliaCLIv2-Lightmoduleminimalfolderstructure">minimal
folder structure</a>.</p>
</div>
<div class="paragraph">
<p>The files which are created while executing this command are based on
the files in the
<a href="#src-196598525_MagnoliaCLIv2-Prototypes">prototypes</a> folder of your
<a href="#src-196598525_MagnoliaCLIv2-Configuration">configuration</a>. The
files contain some standard code with some commonly used properties.
This is generally a good starting point to build a component template.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.1"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.1"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl create-component &lt;name&gt; [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters.1"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters.1"></a>Parameters</h5>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 28.9999%;">
<col style="width: 71.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The name of the new component template. The name cannot contain spaces.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.1"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.1"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 24%;">
<col style="width: 18%;">
<col style="width: 58%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path to the light module you want to add the component template to.</p>
</div>
<div class="paragraph">
<p>If no path is specified, the command must be run within an existing
light module folder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-a &lt;path‑to‑page[@area]&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The page you want to make the component available to. When you specify
this option, `add-availability `is called after the creation of
component to make it available in a page area.</p>
</div>
<div class="paragraph">
<p>The parameter must start with the path to the page template within the
templates directory and it must end with an area name. If the area does
not exist yet, the command adds an area to both the template script and
the template definition. If no area is specified, the command defaults
to <code>main</code> area (if it exists) or creates <code>main</code> area (if it does not).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-g &lt;path‑to‑page[@area]&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Add this parameter to
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Component+autogeneration">autogenerate
the component</a> instead of providing plain availability. As for the <code>-a</code>
option the target area and page must be specified.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl create-component my-component -a pages/my-page<code>@footer</code> -p /Users/johndoe/dev/mgnl/light-modules/my-module/</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-create-light-module"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-create-light-module"></a>create-light-module</h4>
<div class="paragraph">
<p>This command creates a new light module in the form of a set of empty
light module folders and the following two files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>`README.md `, in the root folder of the module.</p>
</li>
<li>
<p><code>&lt;moduleName&gt;-messages_en.properties</code>, in the <code>i18n</code> folder this
command creates.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The name of the light module should be provided as a parameter when
calling the command. The light module is created in the current
directory or in the directory specified with the optional <code>-p &lt;path&gt;</code>
parameter.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.2"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.2"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl create-light-module [&lt;moduleName&gt;] [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters.2"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters.2"></a>Parameters</h5>
<table class="tableblock frame-all grid-all" style="width: 87%;">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;moduleName&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong> (but recommended)</p>
</div>
<div class="paragraph">
<p>The name of the new light module.</p>
</div>
<div class="paragraph">
<p>Avoid spaces and special characters since this name is used as folder
name.</p>
</div>
<div class="paragraph">
<p>If no <code>&lt;moduleName&gt;</code> is specified, the name of the current directory is
used as the module&#8217;s name. This can be useful when the folder for the
light module already exists.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.2"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.2"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 14%;">
<col style="width: 12%;">
<col style="width: 74%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path of the parent directory for the new light module. If no path is
specified, the new light module is created within the current folder.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Examples.1"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Examples.1"></a>Examples</h5>
<div class="paragraph">
<p><code>mgnl create-light-module my-module</code></p>
</div>
<div class="paragraph">
<p><code>mgnl create-light-module my-module -p ../../light-modules/</code></p>
</div>
<div class="paragraph">
<p>Expand to see the created directory tree</p>
</div>
<div class="paragraph">
<p><code>my-module/</code></p>
</div>
<div class="paragraph">
<p><code>├── README.md</code></p>
</div>
<div class="paragraph">
<p><code>├── decorations</code></p>
</div>
<div class="paragraph">
<p><code>├── dialogs</code></p>
</div>
<div class="paragraph">
<p><code>│   ├── components</code></p>
</div>
<div class="paragraph">
<p><code>│   └── pages</code></p>
</div>
<div class="paragraph">
<p><code>├── i18n</code></p>
</div>
<div class="paragraph">
<p><code>│   └── my-module-messages_en.properties</code></p>
</div>
<div class="paragraph">
<p><code>├── templates</code></p>
</div>
<div class="paragraph">
<p><code>│   ├── components</code></p>
</div>
<div class="paragraph">
<p><code>│   └── pages</code></p>
</div>
<div class="paragraph">
<p><code>└── webresources</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-create-page"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-create-page"></a>create-page</h4>
<div class="paragraph">
<p>This command creates a new page template including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A template definition YAML file.</p>
</li>
<li>
<p>A freemarker template script.</p>
</li>
<li>
<p>A YAML dialog definition file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The command succeeds only if the current directory (or the directory
defined by the optional <code>-p &lt;path&gt;</code> parameter) is a light module with a
<a href="#src-196598525_MagnoliaCLIv2-Lightmoduleminimalfolderstructure">minimal
folder structure</a>. The files which are created when executing this
command are built from the files in the
<a href="#src-196598525_MagnoliaCLIv2-Prototypes">prototypes</a> folder of your
<a href="#src-196598525_MagnoliaCLIv2-Configuration">configuration</a>. The
files contain some standard code with some commonly used properties.
This is generally a good starting point to build a page template.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.3"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.3"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl create-page &lt;templateName&gt; [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters.3"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters.3"></a>Parameters</h5>
<table class="tableblock frame-all grid-all" style="width: 77%;">
<colgroup>
<col style="width: 28%;">
<col style="width: 72%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;templateName&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The name of the new page template. The template name cannot contain
spaces.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.3"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.3"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 21%;">
<col style="width: 57%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path to the light module to add the new template to.</p>
</div>
<div class="paragraph">
<p>If no path is specified, the command must be run within an existing
light module folder.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example.1"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example.1"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl create-page my-page</code></p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>If you do not use the <code>-p &lt;path&gt;</code> parameter, you must run the command
from an existing light module folder.</p>
</div>
<div class="paragraph">
<p>Expand to see the output of the command in the shell</p>
</div>
<div class="paragraph">
<p><code>INFO: No path option provided, page template will be created in the current folder.</code></p>
</div>
<div class="paragraph">
<p><code>DONE: Page template created</code></p>
</div>
<div class="paragraph">
<p><code>INFO: /Users/jdoe/dev/mgnl/light-modules/my-module/templates/pages/my-page.yaml created</code></p>
</div>
<div class="paragraph">
<p><code>INFO: /Users/jdoe/dev/mgnl/light-modules/my-module/templates/pages/my-page.ftl created</code></p>
</div>
<div class="paragraph">
<p><code>INFO: /Users/jdoe/dev/mgnl/light-modules/my-module/dialogs/pages/my-page.yaml created</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-customize-local-config"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-customize-local-config"></a>customize-local-config</h4>
<div class="paragraph">
<p>Run this command to create a
<a href="#src-196598525_MagnoliaCLIv2-Local">local configuration</a>. It
installs the <a href="#src-196598525_MagnoliaCLIv2-Files">files</a> for the
local configuration within the current directory, or within the
directory defined by the optional <code>-p &lt;path&gt;</code> parameter.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.4"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.4"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl customize-local-config [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.4"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.4"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 98%;">
<colgroup>
<col style="width: 15%;">
<col style="width: 22%;">
<col style="width: 63%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path into which the <code>mgnl-cli-prototypes</code> folder and <code>mgnl-cli.json</code>
file are installed.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example.2"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example.2"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl customize-local-config -p ~/dev/mgnl/light-modules/</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-help"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-help"></a>help</h4>
<div class="paragraph">
<p>Run the help command to list all the available commands of the Magnolia
CLI package.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.5"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.5"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl help [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.5"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.5"></a>Options</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;command&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Shows basic help for the Magnolia CLI command specified as the option.</p>
</div>
<div class="paragraph">
<p>Without the option, a list of available CLI commands are displayed (same
as entering <code>mgnl -h</code>).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-install"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-install"></a>install</h4>
<div class="paragraph">
<p>Downloads and installs one or more light modules from
<a href="http://npmjs.com/">npm</a> to the light module directory.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.6"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.6"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl install &lt;light-module-name&gt; [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters.4"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters.4"></a>Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;light-module-name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>At least one name of a light module to be downloaded from npm. If
installing more than one module from the repository, separate the module
names with a space.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.6"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.6"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 18%;">
<col style="width: 16%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path to the light-modules folder.</p>
</div>
<div class="paragraph">
<p>If no path is specified, mgnl searches for the nearest <code>apache-tomcat*</code>
folder and checks the value of the <code>magnolia.resources.dir</code> property as
defined in the webapps of the folder.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example</p>
</div>
<div class="paragraph">
<p><code>mgnl install google-maps-magnolia mgnl-bobby -p /Users/johndoe/dev/mgnl/light-modules/other-users-modules/</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-jumpstart"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-jumpstart"></a>jumpstart</h4>
<div class="paragraph">
<p>This command downloads, unpacks and pre-configures a Magnolia Tomcat
bundle. It creates folders for the Tomcat server and for the light
modules according to the
<a href="#src-196598525_MagnoliaCLIv2-Configuration">configuration</a>.</p>
</div>
<div class="paragraph">
<p>By default the command downloads the latest released version of the
<code>magnolia-community-demo-bundle</code>. Use the <code>-e</code> parameter to get the EE
Pro demo bundle (<code>magnolia-enterprise-pro-demo-bundle</code>) instead. These
bundles contain the Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Demo">Travel Demo</a>. Chose a
specific version by providing the <code>-m</code> parameter.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>The jumpstart command installs the bundle within the current directory.</p>
</div>
<div class="paragraph">
<p>You may remove the <code>magnolia.zip</code> file once the installation is
complete.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.7"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.7"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl jumpstart [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.7"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.7"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 16%;">
<col style="width: 22%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Short form</strong></th>
<th class="tableblock halign-left valign-top"><strong>Long form</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The -p option for the jumpstart command specifies the path to the light
modules root folder which is observed for changes, not to an alternative
location for the bundle to be installed.</p>
</div>
<div class="paragraph">
<p>The path to the light modules root folder is set by the
<code>magnolia.resources.dir</code> property in the <code>magnolia.properties</code> file of
the installed Magnolia bundle.</p>
</div>
<div class="paragraph">
<p>If no path is provided:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A default folder named <code>light-modules</code> is created in the current
folder.</p>
</li>
<li>
<p>Light modules are then created under this folder which is observed by
Magnolia for changes.</p>
</li>
<li>
<p>The property is set to the following relative path:
<code>magnolia.resources.dir=${magnolia.home}/../../../light-modules</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-m &lt;version&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--magnolia-version &lt;version&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The desired version of the Magnolia bundle. If not provided, defaults to
the latest version of the chosen bundle
(<em>magnolia-community-demo-bundle</em> or
<em>magnolia-enterprise-pro-demo-bundle</em>).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
Please note that currently the command with this option cannot download
the maintenance release artifacts for which you need to login to the
Nexus server.<br>
(
<a href="https://jira.magnolia-cms.com/browse/NPMCLI-190?src=confmacro"><</a> - jumpstart can not handle CE artifacts from the
"magnolia.public.maintenance.releases" repo
<span class="status  grey  subtle">Open</span> )</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-i &lt;name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--install-sample-module &lt;name&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>If provided, a sample light module under the light modules root folder
with the given name is created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-e</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional (since 1.0.5)</strong></p>
</div>
<div class="paragraph">
<p>Downloads a <code>magnolia-enterprise-pro-demo-bundle</code>. Requires enterprise
credentials to Magnolia Nexus.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional *(since 2.2.0)</strong>*</p>
</div>
<div class="paragraph">
<p>Downloads a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Magnolia+Cloud">Magnolia
Cloud bundle</a>. Requires enterprise credentials to Magnolia Nexus.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example.3"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example.3"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl jumpstart -e -m 5.4.5</code></p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>When running the <code>jumpstart</code> command, make sure that a <code>magnolia.zip</code>
file does not already exist in the directory in which you are running
the command. The zip file prevents the command from downloading another
version and simply installs from the existing file.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://jira.magnolia-cms.com/browse/NPMCLI-100?src=confmacro"><</a> - Existing magnolia.zip lets jumpstart ignore -m and -e
option <span class="status  green  subtle">Closed</span></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-search"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-search"></a>search</h4>
<div class="paragraph">
<p>Searches for Magnolia-related packages available from
<a href="http://npmjs.com/">npm</a> and returns their list together with the
following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Package name.</p>
</li>
<li>
<p>Date and version of the latest commit.</p>
</li>
<li>
<p>Brief description of the package.</p>
</li>
<li>
<p>Contributor&#8217;s username.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.8"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.8"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl search [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.8"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.8"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 12%;">
<col style="width: 88%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;query&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The search query sent to the npm&#8217;s API (see
<a href="https://api-docs.npms.io/">https://api-docs.npms.io</a>).</p>
</div>
<div class="paragraph">
<p>The query can contain multiple terms separated with commas and no
spaces. When no query is provided, returns a list of all light modules.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example.4"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example.4"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl search language-switcherinfo <code>1</code> result foundinfo info <code>1</code>) language-switcher-magnoliainfo     <code>2017</code>-<code>02</code>-<code>25</code> <code>1.0</code>.5info     Language Switcher - Component template <code>for</code> Magnolia CMSinfo     magnolia</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-start"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-start"></a>start</h4>
<div class="paragraph">
<p>This command starts up Magnolia and displays the main log file
(<code>apache-tomcat/logs/catalina.out</code>). Magnolia CLI looks in the current
working directory or parent directories for the nearest folder with a
name that starts with "apache-tomcat". To stop Magnolia, simply use
CTRL+C.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.9"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.9"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl start [options]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Options.9"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Options.9"></a>Options</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 11%;">
<col style="width: 16%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short form</th>
<th class="tableblock halign-left valign-top">Long form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-p &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path &lt;path&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The path to the <code>apache-tomcat</code> folder. If no path is specified,
Magnolia CLI looks in the current working directory or in the parent
directories for the nearest folder with a name that starts with
"apache-tomcat".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-d</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Does NOT ignore the open files limit check. The files limit check is
ignored by default. See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Known+issues">Too many open
files</a> for more.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Example.5"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Example.5"></a>Example</h5>
<div class="paragraph">
<p><code>mgnl start -p C:/magnolia-installations/magnolia-<code>5.5</code>.<code>1</code>/apache-tomcat-<code>8.5</code>.``5</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196598525_MagnoliaCLIv2-tab-completion"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-tab-completion"></a>tab-completion</h4>
<div class="paragraph">
<p>Run the command to install or uninstall
<a href="#src-196598525_MagnoliaCLIv2-autocompletion">autocompletion</a> for
Magnolia CLI commands.</p>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Usage.10"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Usage.10"></a>Usage</h5>
<div class="paragraph">
<p><code>mgnl tab-completion &lt;command&gt;</code></p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Parameters.5"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Parameters.5"></a>Parameters</h5>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>install</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installs the required files for autocompletion.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uninstall</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removes the files which were previously installed during
installation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="src-196598525_MagnoliaCLIv2-Examples.2"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Examples.2"></a>Examples</h5>
<div class="paragraph">
<p><code>mgnl tab-completion install</code></p>
</div>
<div class="paragraph">
<p>A successful installation displays a list of files to which the
tab-completion script has been appended.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196598525_MagnoliaCLIv2-Seealso"><a class="anchor" href="#src-196598525_MagnoliaCLIv2-Seealso"></a>See also</h3>
<div class="ulist">
<ul>
<li>
<p><a href="Magnolia-CLI.html#src-196598509_MagnoliaCLI-Releasehistory">Release
history</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Updating CLI to v3</p>
</div>
<div class="paragraph">
<p>Magnolia CLI walkthrough</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
