<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>App framework - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/apps/App_framework.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="App_framework.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="App_framework.html">App framework - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">App framework - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Apps.html" class="bare">Apps.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Apps.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Developing_an_app.html">Developing an app</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598418"><a class="anchor" href="#src-196598418"></a>App framework</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>The app framework is a name for Magnolia functionality that deals with
apps. It also controls app lifecycle events such as starting and
stopping and bringing the app into focus.</p>
</div>
<div class="sect2">
<h3 id="src-196598418_Appframework-Addingsubapps"><a class="anchor" href="#src-196598418_Appframework-Addingsubapps"></a>Adding subapps</h3>
<div class="paragraph">
<p>As an app developer you will use the app framework to create new
subapps. The subapp receives callbacks from the framework regarding
location changes. A location change can occur for example when a user
requests a URL that has a history fragment or when the user does
something that requires the app to react with a new location. An example
of the latter is when the user clicks Edit page in the Pages app. This
requires a new detail subapp to be opened and brought into focus. The
framework dispatches the location to the correct app, in this case to
the parent app Pages. Think of the app framework as the master that
gives instructions to slave subapps.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196598418_Appframework-ManagingcontextwiththeAppController"><a class="anchor" href="#src-196598418_Appframework-ManagingcontextwiththeAppController"></a>Managing context with the AppController</h3>
<div class="paragraph">
<p>The AppController manages a context for each running app and exposes an
<code>AppContext</code> object to the app. An app uses the AppContext to interact
with the app framework. The <code>AppContext</code> is available for injection
anywhere in an app. Interacting with the AppController directly isn&#8217;t
necessary.</p>
</div>
<div class="paragraph">
<p>You can use <code>AppContext</code> to open new subapps and bring them to
fullscreen mode. The <code>AppContext</code> to send messages to the current user
or all users and display confirmation dialogs. The methods provided by
the <code>AppContext</code> are convenient because you donâ€™t have to search for the
manager responsible for messaging. Here are some example methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>openSubApp</code></p>
</li>
<li>
<p><code>openSubAppFullScreen</code></p>
</li>
<li>
<p><code>sendUserMessage</code></p>
</li>
<li>
<p><code>showConfirmationMessage</code></p>
</li>
<li>
<p><code>setSubAppLocation</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each app needs to implement the <code>App</code> interface. The Magnolia Shell
calls the <code>App</code> interface when the user interacts with the app. The
subapp represents a view open in a tab within the app.</p>
</div>
<div class="paragraph">
<p>The location is routed down the tree as</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    app:&lt;appName&gt;:&lt;subAppId&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>for example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    app:pages:detail;/travel/about</pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598418/diagram-AppController.png" alt="images/download/attachments/196598418/diagram-AppController.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196598418_safe-id-QXBwZnJhbWV3b3JrLVdoYXRoYXBwZW5zb25hbG9jYXRpb25jaGFuZ2U_"><a class="anchor" href="#src-196598418_safe-id-QXBwZnJhbWV3b3JrLVdoYXRoYXBwZW5zb25hbG9jYXRpb25jaGFuZ2U_"></a>What happens on a location change?</h3>
<div class="paragraph">
<p>When a location changes, this is what happens in the app framework:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If the location starts with <code>app</code> it gets passed to the app framework.</p>
</li>
<li>
<p>The app framework looks at the next part, the app name, and starts
that app if it is not yet running.</p>
</li>
<li>
<p>The next piece of the location it looks at is the <code>subAppId</code>.</p>
<div class="ulist">
<ul>
<li>
<p>If there&#8217;s a subapp running with this ID it calls the
<code>locationChanged</code> method on it, passing the whole location. This allows
the subapp to react to any additional parameters in the location.</p>
</li>
<li>
<p>Otherwise, it calls the app, <code>locationChanged</code> allowing the app to
open a new sub app.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Location, location, location</p>
</div>
<div class="paragraph">
<p>Programming an app</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
