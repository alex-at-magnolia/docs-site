<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Location, location, location - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/apps/Location,_location,_location.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version" href="../../../core/apps/Location,_location,_location.html">master</a>
    <a class="version is-current" href="Location,_location,_location.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Location,_location,_location.html">Location, location, location - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Location, location, location - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Apps.html" class="bare">Apps.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Apps.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Developing_an_app.html">Developing an app</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598408"><a class="anchor" href="#src-196598408"></a>Location, location, location</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>On this page we look at typical Magnolia URLs and learn how the fragment
part of a URL makes location tracking possible. With fragments you can
pinpoint detailed locations in the system. Users can bookmark their
favorite apps, pages and nodes.</p>
</div>
<div class="sect2">
<h3 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tUGFydHNvZmFVUkw"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tUGFydHNvZmFVUkw"></a>Parts of a URL</h3>
<div class="paragraph">
<p>A typical
<a href="https://wiki.magnolia-cms.com/display/DOCS62/_What+is+AdminCentral">AdminCentral</a>
URL in the Magnolia back end looks like this:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/url-admincentral.png" alt="images/download/attachments/196598408/url-admincentral.png"></span></p>
</div>
<div class="paragraph">
<p>Parts of a URL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Protocol</strong>: <code>http</code> or <code>https</code>.</p>
</li>
<li>
<p><strong>Domain</strong>: Domain name as mapped in the site definition.</p>
</li>
<li>
<p><strong>Port</strong>: Port number.</p>
</li>
<li>
<p><strong>Context path</strong>: In a Magnolia URL the context path represents a Web
application such as <code>magnoliaAuthor</code> or <code>magnoliaPublic</code>.</p>
</li>
<li>
<p><strong><a href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VydmxldG1hcHBpbmc">Servlet
mapping</a></strong> : Identifies the servlet that should respond to the request.</p>
</li>
<li>
<p><strong><a href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tRnJhZ21lbnQ">Fragment</a></strong>
: Keeps track of an app&#8217;s internal state. Identifies the name of the
app, the subapp, and optionally a path.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VydmxldG1hcHBpbmc"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VydmxldG1hcHBpbmc"></a>Servlet mapping</h4>
<div class="paragraph">
<p>A servlet responds to a request. Servlets are mapped in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Filters">servlet filter
chain</a>. By convention, a Magnolia servlet mapping starts with the dot
character, for example <code>/.magnolia/admincentral</code> for AdminCentral
resources or <code>/.rest</code> for REST resources.</p>
</div>
<div class="paragraph">
<p>A <a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+API">REST</a> URL is a
good example of complex servlet mapping. The URL requests the page
<code>/travel/about</code>. The servlet mapping part contains detailed information
about the requested resource.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/url-rest.png" alt="images/download/attachments/196598408/url-rest.png"></span></p>
</div>
<div class="paragraph">
<p>Parts of a servlet mapping:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Servlet</strong>: The first part of the mapping identifies the servlet, in
this case <code>/.rest</code>.</p>
</li>
<li>
<p><strong>Endpoint</strong>: Identifies the REST
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+API">endpoint</a> where
the request is issued: <code>nodes</code>, <code>properties</code> or <code>commands</code>.</p>
</li>
<li>
<p><strong>Version</strong>: REST Web services are versioned. The version number is
built into the service URL.</p>
</li>
<li>
<p><strong>Workspace</strong>: Identifies which
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Workspaces">workspace</a> in
the <code>magnolia</code> repository has the requested content.</p>
</li>
<li>
<p><strong>Node path</strong>: Location of the content in the workspace.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tRnJhZ21lbnQ"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tRnJhZ21lbnQ"></a>Fragment</h4>
<div class="paragraph">
<p>Fragment is the part of the URL that starts with the hash character <code>#</code>.
In AdminCentral URLs, the fragment keeps track of an app&#8217;s internal
state. It identifies the name of the app, the subapp that is open, and
optionally a path to the content that is operated on. In public URLs the
fragment identifies an anchor.</p>
</div>
<div class="paragraph">
<p>The parts that come after the hash are separated with a colon <code>:</code></p>
</div>
<div class="paragraph">
<p><strong>Example</strong>: This fragment identifies the <a href="Contacts_app.html">Contacts
app</a>. The detail subapp is currently open. The user is viewing version
1.0 of the node <code>/vvangogh</code></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/url-fragment-content-app.png" alt="images/download/attachments/196598408/url-fragment-content-app.png"></span></p>
</div>
<div class="paragraph">
<p>Parts of a fragment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>App type</strong>: The type is <code>app</code> for normal apps and <code>shell</code> for the
special Shell apps: App Launcher, Tasks and Messages. For your own apps,
this part will always be <code>app</code>.</p>
</li>
<li>
<p><strong>App name</strong>: Name of the app as configured in the
<a href="App_descriptor.html">app descriptor</a>. Apps are named in a
predictable way: Pages is <code>pages</code>, Assets is <code>assets</code> and so on.
Magnolia uses the app name to identify the app across the system.</p>
</li>
<li>
<p><strong><a href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU3ViYXBwSURhbmRpdHNwYXJhbWV0ZXJz">Subapp
ID</a></strong>: ID of the subapp as configured in the
<a href="Subapp_descriptor.html">subapp descriptor</a>. Subapps are displayed to
users as tabs. Every app has at least one subapp. In a content app,
subapps are called <code>browser</code> and <code>detail</code>. In custom apps, you can name
your subapps as you want. Magnolia recommends that you name your main
subapp <code>main</code> for consistency. The <code>main</code> subapp can be the only subapp
if the app does not provide any other subapps.</p>
</li>
<li>
<p><strong>Node path</strong>: Path to the node being operated on.</p>
</li>
<li>
<p><strong>View type</strong>: <code>edit</code>, <code>view</code> (preview), <code>treeview</code>, <code>listview</code>,
<code>thumbnailview</code> or <code>searchview</code>.</p>
</li>
<li>
<p><strong>Version</strong>: Version of the node.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tRXhhbXBsZWZyYWdtZW50cw"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tRXhhbXBsZWZyYWdtZW50cw"></a>Example fragments</h4>
<div class="paragraph">
<p>App launcher shell app.</p>
</div>
<div class="paragraph">
<p><code>#shell:applauncher</code></p>
</div>
<div class="paragraph">
<p>Pages app with the browser subapp open. The <code>/travel/about</code> page is
currently selected in the treeview.</p>
</div>
<div class="paragraph">
<p><code>#app:pages:browser;/travel/about:treeview</code></p>
</div>
<div class="paragraph">
<p>Pages app with an detail subapp open. The <code>/travel/about</code> page is being
edited.</p>
</div>
<div class="paragraph">
<p><code>#app:pages:detail;/travel/about:edit</code></p>
</div>
<div class="paragraph">
<p>Pages app with a detail subapp open. The <code>/travel/about</code> page is being
previewed. The <code>view</code> parameter instructs the app to display the page in
preview mode.</p>
</div>
<div class="paragraph">
<p><code>#app:pages:detail;/travel/about:view</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU3ViYXBwSURhbmRpdHNwYXJhbWV0ZXJz"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU3ViYXBwSURhbmRpdHNwYXJhbWV0ZXJz"></a>Subapp ID and its parameters</h4>
<div class="paragraph">
<p>The subapp ID part of the fragment holds the subapp’s name and optional
parameters. Each subapp ID is unique within the app. This allows the
system to recognize a tab that is already open and bring that tab into
focus rather than open a duplicate. For example, when the Pages app
opens a detail subapp it assigns the subapp a unique ID consisting of
the subapp name (<code>detail</code>) and the path to the page (<code>/travel/about</code>).
If the user already has the page open the app brings the tab into focus
when it is requested.</p>
</div>
<div class="paragraph">
<p><code>#app:pages:detail;/travel/about</code></p>
</div>
<div class="paragraph">
<p>A node path is the most common example of a parameter. The path
identifies the node being viewed or edited, for example <code>/travel/about</code>.
The subapp ID and the node path are separated with a semicolon. We
cannot use the colon character here as it would break the token.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ3VzdG9tcGFyYW1ldGVyc2luc2lkZXRoZWZyYWdtZW50"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ3VzdG9tcGFyYW1ldGVyc2luc2lkZXRoZWZyYWdtZW50"></a>Custom parameters inside the fragment</h4>
<div class="paragraph">
<p>Here is an example of custom parameters in the fragment. The
<a href="Preview_app.html">Preview app</a> is being used to preview personalized
content.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/url-fragment-custom-parameters.png" alt="images/download/attachments/196598408/url-fragment-custom-parameters.png"></span></p>
</div>
<div class="paragraph">
<p>Parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>previewPersona</code> assigns a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Glossary">persona</a> who
represents the target audience.</p>
</li>
<li>
<p><code>previewDate</code> assigns a date.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here&#8217;s what the Preview app looks like in the browser.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/personalization-preview-parameters.png" alt="images/download/attachments/196598408/personalization-preview-parameters.png"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VsZWN0b3Jz"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VsZWN0b3Jz"></a>Selectors</h4>
<div class="paragraph">
<p>A selector is a part of a URI between the first selector delimiter <code>~</code>
(tilde) and the last selector delimiter.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/selector.png" alt="images/download/attachments/196598408/selector.png"></span></p>
</div>
<div class="paragraph">
<p>Selectors are similar to query parameters in that they allow you to pass
information to a servlet. The difference is that a query parameter sends
input to be processed whereas a selector describes how you want to
receive the requested resource. In this respect selectors are like
extensions. The extension <code>.html</code> specifies that you want to receive the
resource as an HTML document. The selector <code><sub>Culture</sub></code> specifies that
you want a list of tours about culture. It is still the same resource
(tours list page) but instead of all tours you want it filtered by the
category Culture.</p>
</div>
<div class="paragraph">
<p>For more on request parameters vs. selectors see
<a href="http://www.olsondigital.com/blog/technology/apache-sling-selectors-and-request-parameters-getting-it-straight">Selectors
and Request Parameters: Getting it Straight</a>.</p>
</div>
<div class="paragraph">
<p>Magnolia uses the tilde character <code>~</code> as a selector delimiter. In other
systems such as Apache Sling you may see the dot character <code>.</code> used as a
delimiter. We can&#8217;t use the dot in Magnolia because the
<a href="http://www.day.com/specs/jcr/2.0/3_Repository_Model.html%233.2.2%20Local%20Names">JCR
specification</a> allows dots in node names, and consequently in URIs, with
the single limitation that a dot cannot be the first character. This
means a page <code>page.one</code>, a document <code>magnolia.flyer.pdf</code>, an a
JavaScript file <code>jquery.tabtree</code> are all perfectly valid node names and
must work in URIs.</p>
</div>
<div class="paragraph">
<p>The Path class sets <code>~</code> (tilde) as the delimiter in the
<code>SELECTOR_DELIMITER</code> constant (String).</p>
</div>
<div class="sect4">
<h5 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU3BsaXR0aW5nc2VsZWN0b3Jz"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU3BsaXR0aW5nc2VsZWN0b3Jz"></a>Splitting selectors</h5>
<div class="paragraph">
<p>The whole selector can be split into several selectors separated from
each other by the same delimiter <code>~</code> (tilde):</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196598408/selector-multiple.png" alt="images/download/attachments/196598408/selector-multiple.png"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Whole selector: <code><sub>Culture</sub>a=1<sub>b=2</sub></code></p>
</li>
<li>
<p>Selector 1: <code><sub>Culture</sub></code></p>
</li>
<li>
<p>Selector 2: <code><sub>a=1</sub></code></p>
</li>
<li>
<p>Selector 3: <code><sub>b=2</sub></code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tR2V0dGluZ2FuZHNldHRpbmdzZWxlY3RvcnM"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tR2V0dGluZ2FuZHNldHRpbmdzZWxlY3RvcnM"></a>Getting and setting selectors</h5>
<div class="paragraph">
<p>A selector can also be in the form <code>name=value</code>. For example in
<code>/mypage<sub>foo=bar</sub>.html `where `foo=bar</code> is a name-value selector.</p>
</div>
<div class="paragraph">
<p>Name-value selectors are exposed by
<code>MgnlContext.getAttribute(selectorName)</code> and have a "local" scope
similar to HttpServletRequest scope. In the example,
<code>MgnlContext.getAttribute("foo")</code> will return the String <code>bar</code> whereas
<code>MgnlContext.getAttribute("foo", Context.SESSION_SCOPE)</code> or
<code>MgnlContext.getAttribute("foo", Context.APPLICATION_SCOPE)</code> will return
null.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQWdncmVnYXRpb25TdGF0ZQ"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQWdncmVnYXRpb25TdGF0ZQ"></a>AggregationState</h5>
<div class="paragraph">
<p>This class exposes some methods to set and get selectors.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>setSelector(String selector)</code> is currently used by
<code>info.magnolia.cms.filters.RepositoryMappingFilter</code> where the request
URI is parsed and the selector part extracted.</p>
</li>
<li>
<p><code>String getSelector()</code> returns the whole selector. I.e given the URI
`http://myserver/mypage<sub>x</sub>foo=bar~.html `this method will return the
String <em>x~foo=bar</em></p>
</li>
<li>
<p><code>String[] getSelectors()</code> returns the selector split into its discrete
elements. I.e given the URI
`http://myserver/mypage<sub>x</sub>foo=bar~.html `this method will return an
array of two elements containing the "x" and the "foo=bar" String(s)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VsZWN0b3JVdGls"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tU2VsZWN0b3JVdGls"></a>SelectorUtil</h5>
<div class="paragraph">
<p>SelectorUtil is a utility class that provides two methods which are
basically shortcuts to the getters in <code>AggregationState</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>String getSelector()</code></p>
</li>
<li>
<p><code>String getSelector(int index)</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ2FjaGluZ29mc2VsZWN0b3JVUklz"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ2FjaGluZ29mc2VsZWN0b3JVUklz"></a>Caching of selector URIs</h5>
<div class="paragraph">
<p>Magnolia caches URIs that have selectors by default. Selectors are not a
performance constraint. However, when a request parameter is present the
URI is excluded from the cache.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/mypage<sub>category=Culture</sub>.html</code> is cached</p>
</li>
<li>
<p><code>/mypage.html?category=Culture</code> is not cached</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ3JlYXRpbmdhYnJvd3NpbmdoaXN0b3J5d2l0aGZyYWdtZW50cw"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tQ3JlYXRpbmdhYnJvd3NpbmdoaXN0b3J5d2l0aGZyYWdtZW50cw"></a>Creating a browsing history with fragments</h3>
<div class="paragraph">
<p>The URL fragment can pinpoint very fine-grained locations in the system
such as a particular page or configuration node. This makes it possible
to build a detailed browsing history. Navigating a browsing history via
fragments is not a unique concept. We adopted it from the
<a href="https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsHistory">Google
Web Toolkit (GWT)</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>For each page that is to be navigable in the history, the application
should generate a unique history token. A token is simply a string that
the application can parse to return to a particular state. This token
will be saved in browser history as a URL fragment (in the location bar,
after the "#"), and this fragment is passed back to the application when
the user goes back or forward in history, or follows a link.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect2">
<h3 id="src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tTW92aW5nYmFja2FuZGZvcndhcmRpbmJyb3dzZXJoaXN0b3J5"><a class="anchor" href="#src-196598408_safe-id-TG9jYXRpb24sbG9jYXRpb24sbG9jYXRpb24tTW92aW5nYmFja2FuZGZvcndhcmRpbmJyb3dzZXJoaXN0b3J5"></a>Moving back and forward in browser history</h3>
<div class="paragraph">
<p>This is how modern Web applications should work: rather than prevent the
user from clicking the Back and Forward buttons, let them do what feels
intuitive. If clicking Back seems like the right thing to do to get to
the previous state then the application should support that feeling.
Using the URL fragment allows the user to use the browser’s own back and
forward functionality.</p>
</div>
<div class="paragraph">
<p>Magnolia Shell</p>
</div>
<div class="paragraph">
<p>App framework</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
