<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template prototype - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/templating/Template_prototype.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Template_prototype.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Template_prototype.html">Template prototype - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Template prototype - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Templating.html" class="bare">Templating.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Templating.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Site_definition.html">Site definition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596689"><a class="anchor" href="#src-196596689"></a>Template prototype</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Template prototype is like a master page template. Anything you
configure in the prototype is applied to all page templates. The
prototype makes configuration efficient as you only need to do it once.
For example, add an area to the prototype to make it available on all
pages. You can override the prototype at the
<a href="Page_definition.html">page definition</a> level if needed.</p>
</div>
<div class="paragraph">
<p>Best practice</p>
</div>
<div class="paragraph">
<p>Put commonly used things in the template prototype. If most pages on
your site have the same areas then define those areas in the prototype.</p>
</div>
<div class="sect2">
<h3 id="src-196596689_safe-id-VGVtcGxhdGVwcm90b3R5cGUtRG9JbmVlZGFwcm90b3R5cGU_"><a class="anchor" href="#src-196596689_safe-id-VGVtcGxhdGVwcm90b3R5cGUtRG9JbmVlZGFwcm90b3R5cGU_"></a>Do I need a prototype?</h3>
<div class="paragraph">
<p>No, it is not necessary to use a prototype. You can configure a separate
<a href="Page_definition.html">page definition</a> for each page template
instead. This works fine if you have a small number of templates that
are very different from each other.</p>
</div>
<div class="paragraph">
<p>Prototype is an optional templating mechanism that offers a number of
benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensures uniformity across templates</p>
</li>
<li>
<p>Avoids repeating and duplicating configuration</p>
</li>
<li>
<p>Creates similar templates quickly</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="src-196596689_Templateprototype-Prerequisites"><a class="anchor" href="#src-196596689_Templateprototype-Prerequisites"></a>Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Site+module">Site module</a>.
You need to install the Site module and configure a
<a href="Site_definition.html">site definition</a> in order create a prototype.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="src-196596689_Templateprototype-Configuringaprototype"><a class="anchor" href="#src-196596689_Templateprototype-Configuringaprototype"></a>Configuring a prototype</h3>
<div class="paragraph">
<p>The prototype definition <em>is</em> a <a href="Page_definition.html">page template
definition</a> that must use a special class: PrototypeTemplateDefinition .
You can use all the <a href="Page_definition.html">page template properties</a>.</p>
</div>
<div class="paragraph">
<p>You can configure a prototype in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#src-196596689_Templateprototype-ConfiguringaprototypeinJCR">JCR</a>:
In a <a href="Site_definition.html">site definition</a>.</p>
</li>
<li>
<p><a href="#src-196596689_Templateprototype-ConfiguringaprototypeinYAML">YAML</a>:
In any module.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Multisite+module">Multisite
module</a> (DX Core) you can configure a different prototype for each site
or use the same prototype for all sites.</p>
</div>
<div class="sect3">
<h4 id="src-196596689_Templateprototype-ConfiguringaprototypeinJCR"><a class="anchor" href="#src-196596689_Templateprototype-ConfiguringaprototypeinJCR"></a>Configuring a prototype in JCR</h4>
<div class="paragraph">
<p>In the site definition configure the prototype in the
<code>/templates/prototype</code> node.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>: Prototype in the site definition in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Site+app">Site app</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prototype</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">areas</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">navigation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">footer</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">main</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">htmlHeader</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.my-module.definition.PageTemplateDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templateScript</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/my-module/templates/pages/main.ftl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">renderType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">site</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596689_Templateprototype-ConfiguringaprototypeinYAML"><a class="anchor" href="#src-196596689_Templateprototype-ConfiguringaprototypeinYAML"></a>Configuring a prototype in YAML</h4>
<div class="paragraph">
<p>While it is not possible to configure a site definition completely in
YAML, you can configure the prototype in YAML and reference it in the
site definition. The prototype definition can reside in any module.</p>
</div>
<div class="paragraph">
<p>To configure the prototype in YAML:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the site definition in <code>/&lt;site name&gt;/templates</code> :</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>class</code> property to
<code>info.magnolia.module.site.templates.ReferencingPrototypeTemplateSettings</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>This class allows you to use a prototype defined in YAML.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>prototypeId</code> to the location of the YAML prototype definition in
the <code>&lt;module name&gt;:&lt;relative path to definition&gt;</code> format, for example,
<code>travel-demo:pages/prototype</code> .</p>
</li>
</ol>
</div>
</li>
<li>
<p>Remove the <code>/prototype</code> node, if it exists.</p>
<div class="paragraph">
<p><strong>Example</strong>: <code>travel</code> site definition in the Site app.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.site.templates.ReferencingPrototypeTemplateSettings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prototypeId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel-demo:pages/prototype</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">theme</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Create the prototype YAML file in the location defined in the
<code>prototypeId</code> property and set the class property to
<code>info.magnolia.module.site.templates.PrototypeTemplateDefinition</code> (or a
subclass).</p>
<div class="paragraph">
<p>Click here to see the complete prototype.yaml used in travel demo</p>
</div>
<div class="paragraph">
<p><code># When using 'renderType=site' all pages inherit their 'templateScript' value from the site definition which is</code></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><code># globally defined for whole the site. This is the reason no page YAML definition defines an explicit 'templateScript'</code></p>
</div>
<div class="paragraph">
<p><code># to use. The value inherited and currently used is:</code></p>
</div>
<div class="paragraph">
<p><code># templateScript: /travel-demo/templates/pages/main.ftl</code></p>
</div>
<div class="paragraph">
<p><code># This might be replaced with the template from 'travel-demo-marketing-tags':</code></p>
</div>
<div class="paragraph">
<p><code># templateScript: /travel-demo-marketing-tags/templates/pages/main-marketing-tags.ftl</code></p>
</div>
<div class="paragraph">
<p><code>dialog: mte:pages/pageProperties</code></p>
</div>
<div class="paragraph">
<p><code>class: info.magnolia.module.site.templates.PrototypeTemplateDefinition</code></p>
</div>
<div class="paragraph">
<p><code>templateScript: /travel-demo/templates/pages/main.ftl</code></p>
</div>
<div class="paragraph">
<p><code>renderType: site</code></p>
</div>
<div class="paragraph">
<p><code>type: feature</code></p>
</div>
<div class="paragraph">
<p><code>jsFiles:</code></p>
</div>
<div class="paragraph">
<p>`  - link: /.resources/travel-demo-theme/libs/twitterbootstrap/js/bootstrap.min.js`</p>
</div>
<div class="paragraph">
<p>`    addFingerPrint: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`  - link: /.resources/travel-demo-theme/libs/twitterbootstrap-extras/ie10-viewport-bug-workaround.js`</p>
</div>
<div class="paragraph">
<p>`    addFingerPrint: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`  - link: /.resources/travel-demo-theme/js/viewport-units-buggyfill.js`</p>
</div>
<div class="paragraph">
<p>`    addFingerPrint: <code>`true</code></p>
</div>
<div class="paragraph">
<p><code>areas:</code></p>
</div>
<div class="paragraph">
<p>`  htmlHeader:`</p>
</div>
<div class="paragraph">
<p>`    createAreaNode: <code>`false</code></p>
</div>
<div class="paragraph">
<p>`    renderType: freemarker`</p>
</div>
<div class="paragraph">
<p>`    templateScript: /travel-demo/templates/pages/areas/htmlHeader.ftl`</p>
</div>
<div class="paragraph">
<p>`    type: noComponent`</p>
</div>
<div class="paragraph">
<p>`  main:`</p>
</div>
<div class="paragraph">
<p>`    type: list`</p>
</div>
<div class="paragraph">
<p>`  footer:`</p>
</div>
<div class="paragraph">
<p>`    editable: <code>`false</code></p>
</div>
<div class="paragraph">
<p>`    templateScript: /travel-demo/templates/pages/areas/footer.ftl`</p>
</div>
<div class="paragraph">
<p>`    type: noComponent`</p>
</div>
<div class="paragraph">
<p>`    parameters:`</p>
</div>
<div class="paragraph">
<p>`      columns: 4`</p>
</div>
<div class="paragraph">
<p>`    areas:`</p>
</div>
<div class="paragraph">
<p>`      footer1: &amp;footer1`</p>
</div>
<div class="paragraph">
<p>`        type: list`</p>
</div>
<div class="paragraph">
<p>`        templateScript: /travel-demo/templates/pages/areas/contentContainer.ftl`</p>
</div>
<div class="paragraph">
<p>`        parameters:`</p>
</div>
<div class="paragraph">
<p>`          cssClass: col-md-3`</p>
</div>
<div class="paragraph">
<p>`        inheritance:`</p>
</div>
<div class="paragraph">
<p>`          components: all`</p>
</div>
<div class="paragraph">
<p>`          enabled: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`        availableComponents:`</p>
</div>
<div class="paragraph">
<p>`          textImage:`</p>
</div>
<div class="paragraph">
<p>`            id: travel-demo:components/textImage`</p>
</div>
<div class="paragraph">
<p>`          linkList:`</p>
</div>
<div class="paragraph">
<p>`            id: travel-demo:components/linkList`</p>
</div>
<div class="paragraph">
<p>`      footer2: *footer1`</p>
</div>
<div class="paragraph">
<p>`      footer3: *footer1`</p>
</div>
<div class="paragraph">
<p>`      footer4: *footer1`</p>
</div>
<div class="paragraph">
<p>`  navigation:`</p>
</div>
<div class="paragraph">
<p>`    class: info.magnolia.demo.travel.definition.NavigationAreaDefinition`</p>
</div>
<div class="paragraph">
<p>`    createAreaNode: <code>`false</code></p>
</div>
<div class="paragraph">
<p>`    modelClass: info.magnolia.demo.travel.model.NavigationAreaModel`</p>
</div>
<div class="paragraph">
<p>`    renderType: freemarker`</p>
</div>
<div class="paragraph">
<p>`    templateScript: /travel-demo/templates/pages/areas/navigation.ftl`</p>
</div>
<div class="paragraph">
<p>`    type: noComponent`</p>
</div>
<div class="paragraph">
<p>`    userLinksResolvers:`</p>
</div>
<div class="paragraph">
<p>`      public-user-registration:`</p>
</div>
<div class="paragraph">
<p>`        class: info.magnolia.demo.travel.user.DefaultUserLinksResolver`</p>
</div>
<div class="paragraph">
<p>`        loginPageTemplateId: public-user-registration:components/login`</p>
</div>
<div class="paragraph">
<p>`        profilePageTemplateId: public-user-registration:components/userUpdate`</p>
</div>
<div class="paragraph">
<p>`        registrationPageTemplateId: public-user-registration:components/registration`</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596689_Templateprototype-Prototypetemplateproperties"><a class="anchor" href="#src-196596689_Templateprototype-Prototypetemplateproperties"></a>Prototype template properties</h4>
<div class="paragraph">
<p>Prototype is a TemplateDefinition which means it supports the same
properties as <a href="Page_definition.html">page definition</a>, including
<a href="Template_definition.html">common template properties</a>. However,
typically you don&#8217;t use them all. Here are the typical use cases:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>areas</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Common areas such as footer or navigation that are used on most pages.
Each child node is an <a href="Area_definition.html">area definition</a>. Define
the areas in the prototype so you don&#8217;t have to repeat them in each
<a href="Page_definition.html">page definition</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>templateScript</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>The <code>templateScript</code> property allows you to define a common page
<a href="Template_scripts.html">template script</a> for the whole site. For a
page to inherit its template script from the prototype you must also
define <code>renderType=site</code> in the <a href="Template_definition.html">template
definition</a>.</p>
</div>
<div class="paragraph">
<p>A page template script typically starts with an opening <code>&lt;html&gt;</code> element
and ends with the closing <code>&lt;/html&gt;</code> element when rendering HTML output.
See
<a href="http://git.magnolia-cms.com/gitweb/?p=modules/demo-projects.git;a=blob;f=community/magnolia-travel-demo/src/main/resources/travel-demo/templates/pages/main.ftl">main.ftl</a>
in the Travel Demo.</p>
</div>
<div class="paragraph">
<p>Example: The <a href="https://wiki.magnolia-cms.com/display/DOCS62/Demo">travel
demo</a> demo defines a template script in the prototype. This common
script is used for all pages. It is also the reason why no YAML page
definition in the demo has an explicit <code>templateScript</code> property. The
page definitions set <code>renderType=site</code> to inherit the script from the
prototype, see
<a href="http://git.magnolia-cms.com/gitweb/?p=modules/demo-projects.git;a=blob;f=community/magnolia-travel-demo/src/main/resources/travel-demo/templates/pages/home.yaml">home.yaml</a>
for example.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>A custom definition class which extends ConfiguredTemplateDefinition, an
implementation of TemplateDefinition. You only need a custom class if
you want to add your own nodes and properties in the prototype.
Implement corresponding methods to operate on those properties in the
definition class.</p>
</div>
<div class="paragraph">
<p>Example: PageTemplateDefinition
(<a href="http://git.magnolia-cms.com/gitweb/?p=modules/demo-projects.git;a=blob;f=community/magnolia-travel-demo/src/main/java/info/magnolia/demo/travel/definition/PageTemplateDefinition.java">Git</a>)
is a custom definition class used in the Travel Demo. It adds support
for a <code>jsFiles</code> node which allows you to define JavaScript files in the
prototype the same way a <a href="Theme.html">theme</a> defines them.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="src-196596689_Templateprototype-Mergingaprototypewithapagedefinition"><a class="anchor" href="#src-196596689_Templateprototype-Mergingaprototypewithapagedefinition"></a>Merging a prototype with a page definition</h3>
<div class="paragraph">
<p>When a user requests a page Magnolia merges the prototype with a
<a href="Page_definition.html">page definition</a>. The result is a merged
template definition which is then used to render the page.</p>
</div>
<div class="paragraph">
<p>The merged definition is virtual. You won&#8217;t find its configuration
anywhere. It is created dynamically at the time of rendering. However,
you can access the merged definition in a template script using the
<code>def</code>
<a href="Rendering_context_objects.html#src-196596497_Renderingcontextobjects-def">rendering
context object</a> .</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>: Merging a prototype (configured in JCR) with a home page
definition (configured in
<a href="https://wiki.magnolia-cms.com/display/DOCS62/YAML">YAML</a>)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prototype defines the <code>main</code> <a href="Area_definition.html">area type</a> as
<code>list</code> . Page definition adds <code>availableComponents</code> for the area. The
result contains both.</p>
</li>
<li>
<p>Prototype defines a <code>templateScript</code> . Page definition says nothing
about script. The result is that the home page uses the script defined
in the prototype.</p>
</li>
<li>
<p>Prototype defines the <code>footer</code> area as not editable. Page definition
overrides this decision by allowing footer editing on the home page. The
result is that the footer can be edited on the home page only.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Before merge</th>
<th class="tableblock halign-left valign-top">After merge</th>
</tr>
</thead>
</table>
<div class="paragraph">
<p>|Node name |Description
| prototype |
| areas |
| footer |
| availableComponents |
| textImage |
| id | mtk:components/textImage
| linkList |
| id | mtk:components/linkList
| editable | false
| type | list
| main |
| type | list
| templateScript | /example/templates/pages/main.ftl</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Page template definition:</p>
</div>
<div class="paragraph">
<p>home.yaml</p>
</div>
<div class="paragraph">
<p><code>renderType: site</code></p>
</div>
<div class="paragraph">
<p><code>areas:</code></p>
</div>
<div class="paragraph">
<p>`  footer:`</p>
</div>
<div class="paragraph">
<p>`    editable: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`  main:`</p>
</div>
<div class="paragraph">
<p>`    availableComponents:`</p>
</div>
<div class="paragraph">
<p>`      textImage:`</p>
</div>
<div class="paragraph">
<p>`        id: mtk:components/textImage`</p>
</div>
<div class="paragraph">
<p>`      teaserInternal:`</p>
</div>
<div class="paragraph">
<p>`        id: mtk:components/teaser`</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Merged template definition:</p>
<p class="tableblock">[cols=",",options="header",]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>|Node name |Description
| prototype |
| areas |
| footer |
| availableComponents |
| textImage |
| id | mtk:components/textImage
| linkList |
| id | mtk:components/linkList
| editable | true
| type | list
| main |
| availableComponents |
| textImage |
| id | mtk:components/textImage
| teaser |
| id | mtk:components/teaser
| type | list
| templateScript | /example/templates/pages/main.ftl</p>
</div>
<table class="tableblock frame-all grid-all stretch">
</table>
<div class="paragraph">
<p>Multisite example - Two sites with different domains</p>
</div>
<div class="paragraph">
<p>Renderers</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
