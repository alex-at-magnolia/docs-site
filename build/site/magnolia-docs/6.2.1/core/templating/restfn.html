<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>restfn - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/templating/restfn.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="restfn.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="restfn.html">restfn - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">restfn - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Templating.html" class="bare">Templating.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Templating.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="Template_scripts.html">Template scripts</a></p>
</li>
<li>
<p><a href="Templating_functions.html">Templating functions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596491"><a class="anchor" href="#src-196596491"></a>restfn</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module">REST
Client module</a></p>
</li>
<li>
<p>Javadoc RestTemplatingFunctions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>restfn</code> templating functions give access to REST clients configured
with the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module">REST
Client module</a>.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Using Magnolia REST clients with <code>restfn</code> in FTL template scripts could
slow or even block the rendering of the scripts, because the call is
synchronous and waits till the request returns. Before an actual
implementation, always consider at least the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The reliability of the endpoint.</p>
</li>
<li>
<p>Implementing <code>restfn</code> in an asynchronous way via a client side
request.</p>
</li>
<li>
<p>Accessing the endpoint directly with client side code.</p>
</li>
<li>
<p>How any of your page caching configurations will affect content
delivered from <code>restfn</code>.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="src-196596491_restfn-Callclient"><a class="anchor" href="#src-196596491_restfn-Callclient"></a>Call client</h3>
<div class="paragraph">
<p>This method executes a call to a configured REST client, with optional
assignment of custom values.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature"><a class="anchor" href="#src-196596491_restfn-Methodsignature"></a>Method signature</h4>
<div class="paragraph">
<p><code>Object call(String restClientName, String restCallName, Map&lt;String, Object&gt; customValues)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments"><a class="anchor" href="#src-196596491_restfn-Arguments"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restClientName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of a configured client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restCallName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of a configured call.</p>
</div>
<div class="paragraph">
<p>See also below <a href="#src-196596491_restfn-TheformoftherestCallName">the
form of the REST call name</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>customValues</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>A map of custom values passed to the endpoint with the call.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns"><a class="anchor" href="#src-196596491_restfn-Returns"></a>Returns</h4>
<div class="paragraph">
<p>An object. The actual type of the returned object conforms with the
<code>entityClass</code> configured for the REST call.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage"><a class="anchor" href="#src-196596491_restfn-Usage"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.call(restClientName, restCallName, customValues)</code></p>
</div>
<div class="paragraph">
<p><code>[#assign firstPost = restfn.call(<code>"restfn-posts"</code>, <code>"single"</code>)]</code></p>
</div>
<div class="paragraph">
<p><code>[#-- with a custom value --]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign customValues = {<code>"id"</code>:<code>"2"</code>} /]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign secondPost = restfn.call(<code>"restfn-posts"</code>, <code>"single"</code>, customValues)  /]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-TheformoftherestCallName"><a class="anchor" href="#src-196596491_restfn-TheformoftherestCallName"></a>The form of the restCallName</h4>
<div class="paragraph">
<p>By default, the name is mapped to this pattern:
<code>method:/path/pathAction</code>. An
<a href="https://swagger.io/specification/#operationObject">operationId</a>, a unique
string used to identify the operation in
<a href="https://swagger.io/specification/">the OpenAPI specification</a>, is an
optional alias for the call name. For example, in the following
configuration snippet, an operationId has been set to <code>findByStatus</code>:</p>
</div>
<div class="paragraph">
<p><code>paths:</code></p>
</div>
<div class="paragraph">
<p>`  /pet/findByStatus:`</p>
</div>
<div class="paragraph">
<p>`    get:`</p>
</div>
<div class="paragraph">
<p>`      operationId: findByStatus`</p>
</div>
<div class="paragraph">
<p>You could then invoke the call using not only</p>
</div>
<div class="paragraph">
<p><code>restfn.invoke(<code>"get:/pet/findByStatus"</code>, <code>"available"</code>)</code></p>
</div>
<div class="paragraph">
<p>but also with</p>
</div>
<div class="paragraph">
<p>` restfn.invoke(<code>"findByStatus"</code>, <code>"available"</code>) `</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596491_restfn-Getservice"><a class="anchor" href="#src-196596491_restfn-Getservice"></a>Get service</h3>
<div class="paragraph">
<p>Retrieves an instance of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a>. The instance is created by the configured client
factory.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature.1"><a class="anchor" href="#src-196596491_restfn-Methodsignature.1"></a>Method signature</h4>
<div class="paragraph">
<p><code>Object getService(String restClientName, String restClientServiceClass)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments.1"><a class="anchor" href="#src-196596491_restfn-Arguments.1"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restClientName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Configuration">configured
client</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restClientServiceClass</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Fully qualified class name of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a> for the client.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns.1"><a class="anchor" href="#src-196596491_restfn-Returns.1"></a>Returns</h4>
<div class="paragraph">
<p>An object.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage.1"><a class="anchor" href="#src-196596491_restfn-Usage.1"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.getService(restClientName, restClientServiceClass )</code></p>
</div>
<div class="paragraph">
<p><code>[#assign jokesService = restfn.getService("icndbClient", "info.magnolia.documentation.modules.restclientexamples.client.IcndbService")]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596491_safe-id-cmVzdGZuLUNhbGxzZXJ2aWNlKHdpdGhzZXJ2aWNlb2JqZWN0KQ"><a class="anchor" href="#src-196596491_safe-id-cmVzdGZuLUNhbGxzZXJ2aWNlKHdpdGhzZXJ2aWNlb2JqZWN0KQ"></a>Call service (with service object)</h3>
<div class="paragraph">
<p>This <code>restfn</code> method executes a method of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a> and returns an object according to the return type of
the interface method called.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature.2"><a class="anchor" href="#src-196596491_restfn-Methodsignature.2"></a>Method signature</h4>
<div class="paragraph">
<p><code>Object call(Object service, String methodName, Object&#8230;&#8203; args)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments.2"><a class="anchor" href="#src-196596491_restfn-Arguments.2"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>service</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Instance of a declared service. Can be obtained by the
<a href="#src-196596491_restfn-Getservice">#getService</a> method.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>methodName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of the method of the service interface.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>args</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>A
<a href="https://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html">varargs</a>
parameter. In FreeMarker context, just pass an array of arguments.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns.2"><a class="anchor" href="#src-196596491_restfn-Returns.2"></a>Returns</h4>
<div class="paragraph">
<p>An object. The actual type of the returned object is defined in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">service
interface</a> method. For example, if the service interface method defines
the return type as a JSON object, then that&#8217;s what you get.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage.2"><a class="anchor" href="#src-196596491_restfn-Usage.2"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.call(service, methodName, args)</code></p>
</div>
<div class="paragraph">
<p><code>[#assign jokesService = restfn.getService("icndbClient", "info.magnolia.documentation.modules.restclientexamples.client.IcndbService")]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign params = ["random", "John", "Doe"] /]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign response = restfn.call(jokesService, "joke", params)  /]</code></p>
</div>
<div class="paragraph">
<p><code>[#-- another option: pass the args in brackets: --]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign response = restfn.call(jokesService, "joke", ["random", "Tiger", "Lilly"] )  /]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596491_safe-id-cmVzdGZuLUNhbGxzZXJ2aWNlKHdpdGhzZXJ2aWNlaW50ZXJmYWNlbmFtZSk"><a class="anchor" href="#src-196596491_safe-id-cmVzdGZuLUNhbGxzZXJ2aWNlKHdpdGhzZXJ2aWNlaW50ZXJmYWNlbmFtZSk"></a>Call service (with service interface name)</h3>
<div class="paragraph">
<p>This function also executes a method of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a> and returns an object according to the return type of
the interface method called, however with different input parameters.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature.3"><a class="anchor" href="#src-196596491_restfn-Methodsignature.3"></a>Method signature</h4>
<div class="paragraph">
<p><code>Object call(String restClientName, String restClientServiceClass, String methodName, Object&#8230;&#8203; args)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments.3"><a class="anchor" href="#src-196596491_restfn-Arguments.3"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restClientName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Configuration">configured
client</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restClientServiceClass</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Fully qualified class name of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a> for the client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>methodName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of the method of the service interface.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>args</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>A
<a href="https://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html">varargs</a>
parameter. In FreeMarker context, just pass an array of arguments.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns.3"><a class="anchor" href="#src-196596491_restfn-Returns.3"></a>Returns</h4>
<div class="paragraph">
<p>An object. The actual type of the returned object conforms with the
return type of the method of a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module#RESTClientmodule-Serviceinterfacedeclaration">declared
service interface</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage.3"><a class="anchor" href="#src-196596491_restfn-Usage.3"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.call(restClientName, restClientServiceClass, methodName, args)</code></p>
</div>
<div class="paragraph">
<p><code>[#assign params = [<code>"random"</code>, <code>"John"</code>, <code>"Doe"</code>] /]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign response = restfn.call( <code>"icndbClient"</code>,  <code>"info.magnolia.documentation.modules.restclientexamples.client.IcndbService"</code>,  <code>"joke"</code>, params)  /]</code></p>
</div>
<div class="paragraph">
<p><code>[#-- another option: pass the args in brackets: --]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign response = restfn.call( <code>"icndbClient"</code>,  <code>"info.magnolia.documentation.modules.restclientexamples.client.IcndbService"</code>,  <code>"joke"</code>, [<code>"random"</code>, <code>"Lisa"</code>, <code>"Klein"</code>])  /]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596491_restfn-ConvertJsonNodetoMap"><a class="anchor" href="#src-196596491_restfn-ConvertJsonNodetoMap"></a>Convert JsonNode to Map</h3>
<div class="paragraph">
<p>This function converts a JsonNode object to a hash map. Use either this
or the <a href="#src-196596491_restfn-ConvertJsonNodetoList">asList()</a>
function depending on what type of JSON the API your query returns.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature.4"><a class="anchor" href="#src-196596491_restfn-Methodsignature.4"></a>Method signature</h4>
<div class="paragraph">
<p><code>Map&lt;String, Object&gt; asMap(jsonNode)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments.4"><a class="anchor" href="#src-196596491_restfn-Arguments.4"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jsonNode</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Variable of type <code>com.fasterxml.jackson.databind.JsonNode</code> .</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns.4"><a class="anchor" href="#src-196596491_restfn-Returns.4"></a>Returns</h4>
<div class="paragraph">
<p>A hash map.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage.4"><a class="anchor" href="#src-196596491_restfn-Usage.4"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.asMap(jsonNode)</code></p>
</div>
<div class="paragraph">
<p><code>[#assign colombia = restfn.asMap(restfn.call(<code>"countries"</code>, <code>"colombia"</code>))]</code></p>
</div>
<div class="paragraph">
<p>`[#-- Note: Provided the restfn.call(<code>"countries"</code>, <code>"colombia"</code>) is defined `</p>
</div>
<div class="paragraph">
<p><code>using the com.fasterxml.jackson.databind.JsonNode entity <code>class</code>.--]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596491_restfn-ConvertJsonNodetoList"><a class="anchor" href="#src-196596491_restfn-ConvertJsonNodetoList"></a>Convert JsonNode to List</h3>
<div class="paragraph">
<p>This function converts a JsonNode object to an array list. Use either
this or the <a href="#src-196596491_restfn-ConvertJsonNodetoMap">asMap()</a>
function depending on what type of JSON the API your query returns.</p>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Methodsignature.5"><a class="anchor" href="#src-196596491_restfn-Methodsignature.5"></a>Method signature</h4>
<div class="paragraph">
<p><code>List&lt;Object&gt; asList(jsonNode)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Arguments.5"><a class="anchor" href="#src-196596491_restfn-Arguments.5"></a>Arguments</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jsonNode</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Variable of type <code>com.fasterxml.jackson.databind.JsonNode</code> .</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Returns.5"><a class="anchor" href="#src-196596491_restfn-Returns.5"></a>Returns</h4>
<div class="paragraph">
<p>An array list.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596491_restfn-Usage.5"><a class="anchor" href="#src-196596491_restfn-Usage.5"></a>Usage</h4>
<div class="paragraph">
<p><code>restfn.asList(jsonNode)</code></p>
</div>
<div class="paragraph">
<p><code>[#assign countriesList = restfn.asList(restfn.call(<code>"countries"</code>, <code>"allCountriesArray"</code>))]</code></p>
</div>
<div class="paragraph">
<p>`[#-- Note: Provided the restfn.call(<code>"countries"</code>, <code>"allCountriesArray"</code>) is defined `</p>
</div>
<div class="paragraph">
<p><code>using the com.fasterxml.jackson.databind.JsonNode entity <code>class</code>.--]</code></p>
</div>
<div class="paragraph">
<p>resfn</p>
</div>
<div class="paragraph">
<p>searchfn</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
