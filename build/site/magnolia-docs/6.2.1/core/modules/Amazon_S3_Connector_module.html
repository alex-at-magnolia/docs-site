<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Amazon S3 Connector module - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/modules/Amazon_S3_Connector_module.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Amazon_S3_Connector_module.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Amazon_S3_Connector_module.html">Amazon S3 Connector module - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Amazon S3 Connector module - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="List_of_modules.html">List of modules</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597628"><a class="anchor" href="#src-196597628"></a>Amazon S3 Connector module</h2>
<div class="sectionbody">
<table id="main-content" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edition</th>
<th class="tableblock halign-left valign-top">DX Core</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.magnolia-cms.com/mla">MLA</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://jira.magnolia-cms.com/browse/MGNLSSS">MGNLSSS</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven site</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://nexus.magnolia-cms.com/content/sites/magnolia.enterprise.sites/amazon-s3/">Amazon
S3</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Amazon S3 Connector module provides an app that allows users to manage
assets in Amazon S3 while using them in Magnolia.</p>
</div>
<div class="paragraph">
<p><a href="http://aws.amazon.com/documentation/s3/">Amazon S3</a> (Simple Storage
Service) is an online file storage web service offered by
<a href="http://aws.amazon.com/">Amazon Web Services</a> that provides storage
through <a href="https://en.wikipedia.org/wiki/Web_service">web services</a>
interfaces.</p>
</div>
<div class="paragraph">
<p>Using Amazon S3 takes the load of storing and serving large assets off
your Magnolia servers.</p>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-Installing"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Installing"></a>Installing</h3>
<div class="paragraph">
<p>Maven is the easiest way to install the module. Add the following to
your
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia.amazon&lt;/groupId&gt;
  &lt;artifactId&gt;amazon-s3-connector-module&lt;/artifactId&gt;
  &lt;version&gt;1.2.2&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>You also need</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia.dam&lt;/groupId&gt;
  &lt;artifactId&gt;magnolia-dam-external-app&lt;/artifactId&gt;
  &lt;version&gt;2.6.1&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-ConnectingtoAmazonS3"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-ConnectingtoAmazonS3"></a>Connecting to Amazon S3</h3>
<div class="paragraph">
<p>To connect to Amazon S3 and use the features of the module add your
Amazon <strong>access key</strong> and <strong>secret access key</strong> in the module&#8217;s
configuration in <code>/modules/amazon-s3-connector-module/config</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">amazon-s3-connector-module</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">config</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accessKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your access key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secretAccessKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Your secret access key</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-AmazonS3Browser"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-AmazonS3Browser"></a>Amazon S3 Browser</h3>
<div class="paragraph">
<p>In the Amazon S3 browser app you can work with assets within Magnolia as
if you were in the Amazon S3 interface. To open the app, click the
Amazon S3 browser tile:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196597628/5-6-amazonS3ConnectorModule-tile.png" alt="images/download/attachments/196597628/5-6-amazonS3ConnectorModule-tile.png"></span></p>
</div>
<div class="paragraph">
<p>Basic actions include</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating and deleting Amazon S3
<a href="http://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html">buckets</a>.
Buckets can be region-specific.</p>
</li>
<li>
<p>Creating, deleting and copying Amazon S3
<a href="http://docs.aws.amazon.com/AmazonS3/latest/UG/FolderOperations.html">folders</a>.</p>
</li>
<li>
<p><a href="http://docs.aws.amazon.com/AmazonS3/latest/gsg/PuttingAnObjectInABucket.html">Uploading</a>
assets to Amazon S3, and deleting and copying assets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196597628/6-1-amazonS3ConnectorModule-browser.png" alt="images/download/attachments/196597628/6-1-amazonS3ConnectorModule-browser.png"></span>
<span class="image"><img src="../../_images/images/download/attachments/196597628/6-1-amazonS3ConnectorModule-assetActions.png" alt="images/download/attachments/196597628/6-1-amazonS3ConnectorModule-assetActions.png"></span></p>
</div>
<div class="sect3">
<h4 id="src-196597628_AmazonS3Connectormodule-Settingaccesscontrolpermissions"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Settingaccesscontrolpermissions"></a>Setting access control permissions</h4>
<div class="paragraph">
<p>You can set access control permissions for each bucket, folder and asset
to <code>private</code> or <code>public</code>. See
<a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html#canned-acl">Access
Control List Overview</a> (and particularly <code>private</code> and <code>public-read</code>
access) for more.</p>
</div>
<div class="paragraph">
<p>Items whose status is red (unpublished) in the browser are not publicly
visible, but are visible in the page editor on author instances for a
short period of time (3 minutes).</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196597628_AmazonS3Connectormodule-Clearingcache"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Clearingcache"></a>Clearing cache</h4>
<div class="paragraph">
<p><code>AmazonS3AssetProvider</code>
(<a href="https://git.magnolia-cms.com/gitweb/?p=enterprise/magnolia-amazon-s3.git;a=blob;f=amazon-s3-connector-module/src/main/java/info/magnolia/amazon/s3/dam/AmazonS3AssetProvider.java;h=c8f36a88715884fd011c4af7a14d5c8135cbab8b;hb=HEAD">Git</a>)
uses caching to keep the number of calls to Amazon S3 to a minimum. You
can clear the cache in the browser app by executing the <strong>Refresh
browser</strong> action. The cache expires automatically 15 minutes after
<code>last read</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196597628_AmazonS3Connectormodule-Publishingassets"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Publishingassets"></a>Publishing assets</h4>
<div class="paragraph">
<p>Like all Magnolia content, assets stored in Amazon S3 are not visible on
public instances until they are published from an author instance.</p>
</div>
<div class="paragraph">
<p>To make S3 images publicly visible use the <strong>Publish</strong> action in the
browser app. The publishing process simply changes the permissions in
Amazon S3 to make them visible to the general public.</p>
</div>
<div class="paragraph">
<p>Unpublished assets (set to <code>private</code>) are visible on author instances
for only 3 minutes during which temporary links are generated for them.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-UsingtheDAMAPI"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-UsingtheDAMAPI"></a>Using the DAM API</h3>
<div class="paragraph">
<p>Amazon S3 Connector module implements the Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/DAM+API">DAM API</a>. This
means that you can work with assets stored in Amazon S3 the same way as
assets stored in the JCR and managed in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Assets+app">Assets app</a>.
Item keys are used to retrieve assets or folders from Amazon S3 in the
<code>&lt;providerId&gt;:/&lt;bucketName&gt;/&lt;objectKey&gt;</code> format.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-Usingassetsintemplates"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Usingassetsintemplates"></a>Using assets in templates</h3>
<div class="paragraph">
<p>Since the Amazon S3 Connector module implements the Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/DAM+API">DAM API</a>, you can
use assets stored in Amazon S3 in the same was as other assets in your
template scripts.</p>
</div>
<div class="paragraph">
<p>This example retrieves an S3 asset using
<a href="https://wiki.magnolia-cms.com/display/DOCS62/damfn"><code>damfn</code></a> templating
functions.</p>
</div>
<div class="paragraph">
<p>DAM Templating functions example</p>
</div>
<div class="paragraph">
<p><code>&lt;<code>img</code> <code>src</code>=<code>"${damfn.getAssetLink('s3:/myBucket/myFolder/my-asset.png')}"</code> /&gt;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196597628_AmazonS3Connectormodule-Post-processingofassets"><a class="anchor" href="#src-196597628_AmazonS3Connectormodule-Post-processingofassets"></a>Post-processing of assets</h3>
<div class="paragraph">
<p>Amazon S3 does not offer post-processing of assets and it is therefore
currently not possible to use Magnolia&#8217;s
<a href="Imaging_module.html">Imaging module</a> with S3 assets. If your assets
require post processing we recommend using Magnolia&#8217;s
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Digital+asset+management">DAM</a>.</p>
</div>
<div class="paragraph">
<p>Admincentral module</p>
</div>
<div class="paragraph">
<p>Backup module</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
