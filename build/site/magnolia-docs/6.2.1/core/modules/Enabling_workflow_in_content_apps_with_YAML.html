<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Enabling workflow in content apps with YAML - Magnolia 6.2 :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/modules/Enabling_workflow_in_content_apps_with_YAML.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Enabling_workflow_in_content_apps_with_YAML.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Enabling_workflow_in_content_apps_with_YAML.html">Enabling workflow in content apps with YAML - Magnolia 6.2</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Enabling workflow in content apps with YAML - Magnolia 6.2</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="List_of_modules.html">List of modules</a></p>
</li>
<li>
<p><a href="Workflow_module.html">Workflow module</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597479"><a class="anchor" href="#src-196597479"></a>Enabling workflow in content apps with YAML</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>The Magnolia Workflow module provides a standard four eye content
approval workflow preconfigured on the Pages app. However it&#8217;s possible
for any content app to have a workflow attached to it. If the app is
already existing then a decoration file can be deployed. For custom
content apps it easiest to configure the workflow directly.</p>
</div>
<div class="sect2">
<h3 id="src-196597479_EnablingworkflowincontentappswithYAML-Existingcontentapp"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Existingcontentapp"></a>Existing content app</h3>
<div class="paragraph">
<p>With existing apps the best approach is to use a decoration file. Using
a decoration file will allow for changing the configuration on a target
app without having to manually configure nodes or override a YAML based
definition. As an example we will look at how to add workflow to the
Assets app. In order to add workflow to this app we simply need to
override the action configuration for the activation actions.</p>
</div>
<div class="paragraph">
<p>/my-module/decorations/dam-app/apps/assets.yaml</p>
</div>
<div class="paragraph">
<p><code>subApps:</code></p>
</div>
<div class="paragraph">
<p>`  browser:`</p>
</div>
<div class="paragraph">
<p>`    actions:`</p>
</div>
<div class="paragraph">
<p>`      `</p>
</div>
<div class="paragraph">
<p>`      activate: # publish`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-publish`</p>
</div>
<div class="paragraph">
<p>`        catalog: workflow # Calls workflow-activate command`</p>
</div>
<div class="paragraph">
<p>`        command: activate # from the workflow module.`</p>
</div>
<div class="paragraph">
<p>`        `</p>
</div>
<div class="paragraph">
<p>`        # Give the user the ability to schedule publication.`</p>
</div>
<div class="paragraph">
<p>`        <code>class</code>: info.magnolia.module.workflow.action.OpenPublicationDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>`        dialogName: workflow:publish`</p>
</div>
<div class="paragraph">
<p>`        formTypes: &amp;types`</p>
</div>
<div class="paragraph">
<p>`          comment: `</p>
</div>
<div class="paragraph">
<p>`            type: java.lang.String`</p>
</div>
<div class="paragraph">
<p>`          publicationDate: `</p>
</div>
<div class="paragraph">
<p>`            type: java.util.Date`</p>
</div>
<div class="paragraph">
<p>`        `</p>
</div>
<div class="paragraph">
<p>`        # In order to publish the user needs write access to the workspace and`</p>
</div>
<div class="paragraph">
<p>`        # the node must be publishable.`</p>
</div>
<div class="paragraph">
<p>`        availability:`</p>
</div>
<div class="paragraph">
<p>`          writePermissionRequired: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`          rules:`</p>
</div>
<div class="paragraph">
<p>`            isPublishableRule:`</p>
</div>
<div class="paragraph">
<p>`              implementationClass: info.magnolia.ui.framework.availability.IsPublishableRule`</p>
</div>
<div class="paragraph">
<p>`      # end activate: <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>`      activateRecursive: # publish recursive`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-publish-incl-sub`</p>
</div>
<div class="paragraph">
<p>`        catalog: workflow # Calls workflow-activate command`</p>
</div>
<div class="paragraph">
<p>`        command: activate # from the workflow module.`</p>
</div>
<div class="paragraph">
<p>`        `</p>
</div>
<div class="paragraph">
<p>`        # Give the user the ability to schedule publication.`</p>
</div>
<div class="paragraph">
<p>`        <code>class</code>: info.magnolia.module.workflow.action.OpenPublicationDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>`        dialogName: workflow:publishRecursive`</p>
</div>
<div class="paragraph">
<p>`        formTypes: *types # Reference the types configuration from activate.`</p>
</div>
<div class="paragraph">
<p>`        `</p>
</div>
<div class="paragraph">
<p>`        asynchronous: <code>true</code> # Bulk activations will be done asynchronously as to not block the <code>interface</code>.`</p>
</div>
<div class="paragraph">
<p>`        recursive: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`        `</p>
</div>
<div class="paragraph">
<p>`        # In order to publish the user needs write access to the workspace and`</p>
</div>
<div class="paragraph">
<p>`        # the node must be publishable and not deleted.`</p>
</div>
<div class="paragraph">
<p>`        availability: &amp;writablePublishableNotDeleted`</p>
</div>
<div class="paragraph">
<p>`          writePermissionRequired: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`          rules:`</p>
</div>
<div class="paragraph">
<p>`            isPublishableRule:`</p>
</div>
<div class="paragraph">
<p>`              implementationClass: info.magnolia.ui.framework.availability.IsPublishableRule`</p>
</div>
<div class="paragraph">
<p>`            isNotDeletedRule:`</p>
</div>
<div class="paragraph">
<p>`              implementationClass: info.magnolia.ui.framework.availability.IsNotDeletedRule`</p>
</div>
<div class="paragraph">
<p>`      # end activateRecursive: <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark>##`</p>
</div>
<div class="paragraph">
<p>`      `</p>
</div>
<div class="paragraph">
<p>`      deactivate: # unpublish`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-unpublish`</p>
</div>
<div class="paragraph">
<p>`        catalog: workflow # Calls workflow-deactivate command`</p>
</div>
<div class="paragraph">
<p>`        command: deactivate # from the workflow module.`</p>
</div>
<div class="paragraph">
<p>`      `</p>
</div>
<div class="paragraph">
<p>`        # Give the user the ability to schedule unpublication.`</p>
</div>
<div class="paragraph">
<p>`        <code>class</code>: info.magnolia.module.workflow.action.OpenPublicationDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>`        dialogName: workflow:unpublish`</p>
</div>
<div class="paragraph">
<p>`        formTypes: *types # Reference the types configuration from activate.`</p>
</div>
<div class="paragraph">
<p>`      `</p>
</div>
<div class="paragraph">
<p>`        # In order to unpublish the user needs write access to the workspace and`</p>
</div>
<div class="paragraph">
<p>`        # the node must be publishable and not deleted.`</p>
</div>
<div class="paragraph">
<p>`        availability: *writablePublishableNotDeleted`</p>
</div>
<div class="paragraph">
<p>`      # end deactivate: <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>###`</p>
</div>
<div class="paragraph">
<p>`      activateDeleted: # publish deletion`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-publish`</p>
</div>
<div class="paragraph">
<p>`        catalog: workflow # Calls workflow-activate command`</p>
</div>
<div class="paragraph">
<p>`        command: activate # from the workflow module.`</p>
</div>
<div class="paragraph">
<p>`        # Give the user the ability to schedule publication.`</p>
</div>
<div class="paragraph">
<p>`        <code>class</code>: info.magnolia.module.workflow.action.OpenPublicationDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>`        dialogName: workflow:publishDeletion`</p>
</div>
<div class="paragraph">
<p>`        formTypes: &amp;types`</p>
</div>
<div class="paragraph">
<p>`          comment:`</p>
</div>
<div class="paragraph">
<p>`            type: java.lang.String`</p>
</div>
<div class="paragraph">
<p>`          publicationDate:`</p>
</div>
<div class="paragraph">
<p>`            type: java.util.Date`</p>
</div>
<div class="paragraph">
<p>`        availability: `</p>
</div>
<div class="paragraph">
<p>`          writePermissionRequired: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`          rules: `</p>
</div>
<div class="paragraph">
<p>`            IsDeletedRule: `</p>
</div>
<div class="paragraph">
<p>`              implementationClass: info.magnolia.ui.framework.availability.IsDeletedRule`</p>
</div>
<div class="paragraph">
<p>`      # end activateDeleted: <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark>#</mark>`</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196597479_EnablingworkflowincontentappswithYAML-Customcontentapp"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Customcontentapp"></a>Custom content app</h3>
<div class="paragraph">
<p>With custom apps the best approach is to configure the actions and
actionbar directly. Simply copy the actions from the above decoration
file and paste them into the actions block of your browser subapp. Next
place them appropriately in the actionbar configuration. Here is an
example from the Assets app shown in yaml.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>This example is not a complete definition. It&#8217;s trying to show how the
activation actions are placed in the actionbar. Some configuration has
been removed to bring focus to activation.</p>
</div>
<div class="paragraph">
<p>/modules/dam-app/apps/assets/subApps/browser/actionbar</p>
</div>
<div class="paragraph">
<p>`actionbar: `</p>
</div>
<div class="paragraph">
<p>`  defaultAction: editAsset`</p>
</div>
<div class="paragraph">
<p>`  sections: `</p>
</div>
<div class="paragraph">
<p>`    root: `</p>
</div>
<div class="paragraph">
<p>`      availability: `</p>
</div>
<div class="paragraph">
<p>`        nodes: <code>`false</code></p>
</div>
<div class="paragraph">
<p>`        root: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        addActions: `</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`    deletedAsset: `</p>
</div>
<div class="paragraph">
<p>`      availability: `</p>
</div>
<div class="paragraph">
<p>`        nodeTypes: `</p>
</div>
<div class="paragraph">
<p>`          mgnl-contact: mgnl:asset`</p>
</div>
<div class="paragraph">
<p>`        rules: `</p>
</div>
<div class="paragraph">
<p>`          IsDeletedRule: `</p>
</div>
<div class="paragraph">
<p>`            implementationClass: info.magnolia.ui.framework.availability.IsDeletedRule`</p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        addActions: `</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`        # Configure activation actions <code>for</code> deletedAsset section`</p>
</div>
<div class="paragraph">
<p>`        activationActions: `</p>
</div>
<div class="paragraph">
<p>`          items: `</p>
</div>
<div class="paragraph">
<p>`            - name: activateDeleted # publish deletion`</p>
</div>
<div class="paragraph">
<p>`            - name: deactivate # unpublish`</p>
</div>
<div class="paragraph">
<p>`        <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>`        importExportActions:`</p>
</div>
<div class="paragraph">
<p>`        deletedActions:`</p>
</div>
<div class="paragraph">
<p>`    deletedFolder: `</p>
</div>
<div class="paragraph">
<p>`      availability: `</p>
</div>
<div class="paragraph">
<p>`        nodeTypes: `</p>
</div>
<div class="paragraph">
<p>`          mgnl-folder: mgnl:folder`</p>
</div>
<div class="paragraph">
<p>`        rules: `</p>
</div>
<div class="paragraph">
<p>`          IsDeletedRule: `</p>
</div>
<div class="paragraph">
<p>`            implementationClass: info.magnolia.ui.framework.availability.IsDeletedRule`</p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        addActions:`</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`        # Configure activation actions <code>for</code> deletedFolder section`</p>
</div>
<div class="paragraph">
<p>`        activationActions: `</p>
</div>
<div class="paragraph">
<p>`          items: `</p>
</div>
<div class="paragraph">
<p>`            - name: activateDeleted # publish deletion`</p>
</div>
<div class="paragraph">
<p>`            - name: deactivate  # unpublish`</p>
</div>
<div class="paragraph">
<p>`        <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>`        importExportActions:`</p>
</div>
<div class="paragraph">
<p>`        deletedActions:`</p>
</div>
<div class="paragraph">
<p>`    asset: `</p>
</div>
<div class="paragraph">
<p>`      availability: `</p>
</div>
<div class="paragraph">
<p>`        nodeTypes: `</p>
</div>
<div class="paragraph">
<p>`          mgnl-contact: mgnl:asset`</p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        addActions:`</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`      `</p>
</div>
<div class="paragraph">
<p>`      # Configure activation actions <code>for</code> asset section`</p>
</div>
<div class="paragraph">
<p>`        activationActions: `</p>
</div>
<div class="paragraph">
<p>`          items: `</p>
</div>
<div class="paragraph">
<p>`            - name: activate # publish`</p>
</div>
<div class="paragraph">
<p>`            - name: deactivate # unpublish`</p>
</div>
<div class="paragraph">
<p>`            - name: selectCampaignAction`</p>
</div>
<div class="paragraph">
<p>`        <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>`        downloadActions:`</p>
</div>
<div class="paragraph">
<p>`        importExportActions:`</p>
</div>
<div class="paragraph">
<p>`        versionsActions:`</p>
</div>
<div class="paragraph">
<p>`    folder: `</p>
</div>
<div class="paragraph">
<p>`      availability: `</p>
</div>
<div class="paragraph">
<p>`        nodeTypes: `</p>
</div>
<div class="paragraph">
<p>`          mgnl-folder: mgnl:folder`</p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        addActions:`</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`        # Configure activation actions <code>for</code> folder section`</p>
</div>
<div class="paragraph">
<p>`        activationActions: `</p>
</div>
<div class="paragraph">
<p>`          items: `</p>
</div>
<div class="paragraph">
<p>`            - name: activate # publish`</p>
</div>
<div class="paragraph">
<p>`            - name: activateRecursive # publish recursive`</p>
</div>
<div class="paragraph">
<p>`            - name: deactivate # unpublish`</p>
</div>
<div class="paragraph">
<p>`            - name: selectCampaignAction`</p>
</div>
<div class="paragraph">
<p>`        <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>`        importExportActions:`</p>
</div>
<div class="paragraph">
<p>`    multiple: `</p>
</div>
<div class="paragraph">
<p>`      groups: `</p>
</div>
<div class="paragraph">
<p>`        editActions:`</p>
</div>
<div class="paragraph">
<p>`        # Configure activation actions <code>for</code> multiple section`</p>
</div>
<div class="paragraph">
<p>`        activationActions: `</p>
</div>
<div class="paragraph">
<p>`          items: `</p>
</div>
<div class="paragraph">
<p>`            - name: activate # publish`</p>
</div>
<div class="paragraph">
<p>`            - name: deactivate # unpublish`</p>
</div>
<div class="paragraph">
<p>`        <mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark><mark></mark></mark><mark><mark></mark></mark>#`</p>
</div>
<div class="paragraph">
<p>`        importExportActions:`</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196597479_EnablingworkflowincontentappswithYAML-Configuration"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Configuration"></a>Configuration</h3>
<div class="paragraph">
<p>The above examples are just one configuration option. Specifically an
example for the Assets app that works very much like the Pages app.
However, you might want to configure things slightly differently and for
that we have different configuration options.</p>
</div>
<div class="sect3">
<h4 id="src-196597479_EnablingworkflowincontentappswithYAML-Commands"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Commands"></a>Commands</h4>
<div class="paragraph">
<p>The workflow module provides two commands for publication (i.e. activate
and deactivate). They are located in configuration here:
<code>/modules/workflow/commands/workflow</code>. The activate and deactivate
commands are actually command chains. It should be noted that each of
these chains will call the versioning command before activating (or
deactivating). Versioning may or not be needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196597479_EnablingworkflowincontentappswithYAML-Scheduling"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Scheduling"></a>Scheduling</h4>
<div class="paragraph">
<p>The option to schedule is supported by the underlying workflow. In the
example above we looked at the scheduling option, which is exactly how
the Pages app works OOTB. You can schedule activation for a later date
but still execute the workflow process immediately. This is also true
for deactivation.</p>
</div>
<div class="paragraph">
<p>The scheduling configuration is provided by the class
<code>OpenPublicationDialogActionDefinition</code> and looks like this:</p>
</div>
<div class="paragraph">
<p><code>class`</code>: info.magnolia.module.workflow.action.OpenPublicationDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p><code>dialogName: workflow:publish</code></p>
</div>
<div class="paragraph">
<p><code>formTypes: &amp;types</code></p>
</div>
<div class="paragraph">
<p>`  comment: `</p>
</div>
<div class="paragraph">
<p>`    type: java.lang.String`</p>
</div>
<div class="paragraph">
<p>`  publicationDate: `</p>
</div>
<div class="paragraph">
<p>`    type: java.util.Date`</p>
</div>
<div class="paragraph">
<p>It&#8217;s possible to disable the scheduling option by using a different
definition class. The class
<a href="https://git.magnolia-cms.com/projects/ENTERPRISE/repos/workflow/browse/magnolia-module-workflow/src/main/java/info/magnolia/module/workflow/action/WorkflowPublicationActionDefinition.java"><code>WorkflowPublicationActionDefinition</code></a>
does have a few configuration options to adjust the confirmation texts.</p>
</div>
<div class="paragraph">
<p><code>class`</code>: info.magnolia.module.workflow.action.WorkflowPublicationActionDefinition`</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196597479_EnablingworkflowincontentappswithYAML-Availability"><a class="anchor" href="#src-196597479_EnablingworkflowincontentappswithYAML-Availability"></a>Availability</h4>
<div class="paragraph">
<p>The availability of the actions differs a bit depending on the action
itself. All actions need write permission to the workspace as to be able
to update the metadata of the published nodes. Also the node must be
"publishable" or, in other words, have the proper
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Node+types">mixin</a> for
publishing. In some cases the node must not be in a deleted state. You
may need to add more rules based on your use case.</p>
</div>
<div class="paragraph">
<p>Enabling workflow in content apps</p>
</div>
<div class="paragraph">
<p>Disabling activation workflow</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
