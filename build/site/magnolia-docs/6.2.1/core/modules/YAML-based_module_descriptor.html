<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>YAML-based module descriptor - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/modules/YAML-based_module_descriptor.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="YAML-based_module_descriptor.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="YAML-based_module_descriptor.html">YAML-based module descriptor - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/dump/Magnolia-Cloud.html">Dump Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">YAML-based module descriptor - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Module_descriptor.html">Module descriptor</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597533"><a class="anchor" href="#src-196597533"></a>YAML-based module descriptor</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>This page is about the YAML-based module descriptor for a Magnolia light
module. If you are using a Magnolia Maven module, you should use an
<a href="XML-based_module_descriptor.html">XML-based module descriptor</a>.</p>
</div>
<div class="paragraph">
<p>The file must be in the root folder of the module and its name has to be
<code>module.yaml</code>.</p>
</div>
<div class="paragraph">
<p>The YAML-based module descriptor allows you to define the version of the
module and dependencies to other Magnolia modules.</p>
</div>
<div class="sect2">
<h3 id="src-196597533_YAML-basedmoduledescriptor-Example"><a class="anchor" href="#src-196597533_YAML-basedmoduledescriptor-Example"></a>Example</h3>
<div class="paragraph">
<p>$magnolia.resources.dir/example-light-module/module.yaml</p>
</div>
<div class="paragraph">
<p><code>version: 1.0</code></p>
</div>
<div class="paragraph">
<p><code>dependencies:</code></p>
</div>
<div class="paragraph">
<p>`  core:`</p>
</div>
<div class="paragraph">
<p>`    version: 5.4.7`</p>
</div>
<div class="paragraph">
<p>`  cache:`</p>
</div>
<div class="paragraph">
<p>`    version: 5.4.5`</p>
</div>
<div class="paragraph">
<p>`    optional: <code>`true</code></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196597533_YAML-basedmoduledescriptor-Moduledescriptorelements"><a class="anchor" href="#src-196597533_YAML-basedmoduledescriptor-Moduledescriptorelements"></a>Module descriptor elements</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>The module
<a href="#src-196597533_YAML-basedmoduledescriptor-Moduleversions">versions</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependencies</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p><a href="#src-196597533_YAML-basedmoduledescriptor-Moduledependencies">Dependencies</a>
on other modules - the module will install only after the specified
modules.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196597533_YAML-basedmoduledescriptor-Moduleversions"><a class="anchor" href="#src-196597533_YAML-basedmoduledescriptor-Moduleversions"></a>Module versions</h3>
<div class="paragraph">
<p>The syntax for a version is:</p>
</div>
<div class="paragraph">
<p><code>from version / to version</code></p>
</div>
<div class="paragraph">
<p>where the version number consists of three parts: <code>x.y.z</code>. In this
notation <code>x.y</code> denotes a major version and <code>z</code> a maintenance release.
The last two parts are optional. For a strict version dependency, use
just one version string.</p>
</div>
<div class="paragraph">
<p>The VersionRange class supports the following notation to indicate
version dependency.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Only three parts are supported. The major, minor and security version
positions. The build number is not supported. See
<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Runtime.Version.html">Runtime.Version</a>
for more information.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><strong></code> - Includes all versions -
<span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
When using this option in a YAML file, please wrap <code></strong></code> with quotes
(<code>version: "*"</code>)</p>
</li>
<li>
<p><code>1.2</code> - Matches only 1.2 exactly.</p>
</li>
<li>
<p><code>1.2/*</code> - Matches all versions including and above 1.2.</p>
</li>
<li>
<p><code>1.2/1.2.9</code> - Matches all versions including and between 1.2 and
1.2.9.</p>
</li>
<li>
<p><code>[1.2,1.2.9]</code> - Inward square brackets mean inclusion. Same as above.
Matches all versions including and between 1.2 and 1.2.9.</p>
</li>
<li>
<p><code>[1.2,1.2.9[</code> - Outward square brackets mean exclusion. Matches all
versions between 1.2 and 1.2.9, including 1.2 but excluding 1.2.9.</p>
</li>
<li>
<p><code>[1.2,1.2.9)</code> - Parentheses mean exclusion. Same as outward square
brackets above. Matches all versions between 1.2 and 1.2.9, including
1.2 but excluding 1.2.9.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.6.3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6 and maintenance version 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3 or higher.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.6/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6 or higher.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.6.3/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6 and maintenance version 3 or
higher.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*/3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3 or lower.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*/3.6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6 or lower.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*/3.6.3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must have major version 3.6 and maintenance version 3 or
lower.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3.5/3.6.2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version not lower than 3.5 and not higher than 3.6.2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[3.5/3.6.2]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versions between 3.5 and 3.6.2 including the boundaries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[3.5/3.6.2[</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versions between 3.5 and 3.6.2, excluding the upper
boundary 3.6.2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[3.5/3.6.2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versions between 3.5 and 3.6.2, excluding the upper
boundary 3.6.2. Same as above but alternative syntax.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196597533_YAML-basedmoduledescriptor-Moduledependencies"><a class="anchor" href="#src-196597533_YAML-basedmoduledescriptor-Moduledependencies"></a>Module dependencies</h3>
<div class="paragraph">
<p>You can define runtime or install time dependencies (not build
dependencies). If you define a dependency on a module, then this module
will be installed and started before your module. A dependency can be
optional. Optional in this context means that if an optional module is
not present, installation will proceed, but if the optional module is
present, this module will be installed first. The dependencies could
look like this:</p>
</div>
<div class="paragraph">
<p>$magnolia.resources.dir/example-light-module/module.yaml</p>
</div>
<div class="paragraph">
<p><code>version: 1.0</code></p>
</div>
<div class="paragraph">
<p><code>dependencies:</code></p>
</div>
<div class="paragraph">
<p>`  core:`</p>
</div>
<div class="paragraph">
<p>`    version: 5.4.7`</p>
</div>
<div class="paragraph">
<p>`  # If the Cache module is present, install the current module `</p>
</div>
<div class="paragraph">
<p>`  # after Cache so we can add a cache bypass.`</p>
</div>
<div class="paragraph">
<p>`  cache:`</p>
</div>
<div class="paragraph">
<p>`    version: 5.4.5`</p>
</div>
<div class="paragraph">
<p>`    optional: <code>`true</code></p>
</div>
<div class="paragraph">
<p>The module dependencies define the order in which modules are loaded
during startup. For example, if <code>module-a</code> depends on <code>module-b</code>,
<code>module-b</code> will be loaded before <code>module-a.</code> The order becomes
important, for example, if both <code>module-a</code> and <code>module-b</code> decorate the
same definition or if <code>module-a</code> inherits a definition from <code>module-b</code>.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Definition+decoration">Decorations</a>
are applied in the module load order.</p>
</div>
<div class="paragraph">
<p>XML-based module descriptor</p>
</div>
<div class="paragraph">
<p>Dependency injection and inversion of control</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
