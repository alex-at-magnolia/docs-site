<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Backup module - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/6.2.1/core/modules/Backup_module.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../../magnolia-docs/6.2/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../../magnolia-general/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">6.2.1</button>
  <div class="version-menu">
    <a class="version is-current" href="Backup_module.html">6.2.1</a>
    <a class="version is-missing" href="../../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Backup_module.html">Backup module - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="6.2.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../rn/release-notes.html">Release notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Backup module - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="List_of_modules.html">List of modules</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596744"><a class="anchor" href="#src-196596744"></a>Backup module</h2>
<div class="sectionbody">
<table id="main-content" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edition</th>
<th class="tableblock halign-left valign-top">DX Core</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.magnolia-cms.com/mla">MLA</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://jira.magnolia-cms.com/browse/MGNLBACKUP">MGNLBACKUP</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven site</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://nexus.magnolia-cms.com/content/sites/magnolia.enterprise.sites/magnolia-module-backup/">Backup</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.4.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Backup module allows you to take manual and scheduled backups of
content and configuration. The module backs up Magnolia configuration
and all versions of content in all workspaces. Manual and automated
scheduled backups can be managed in the <strong>Backup</strong> app. Backup and restore
scripts are provided for more flexible backup options and for restoring
Magnolia.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596744/6-1-backupModule.png" alt="images/download/attachments/196596744/6-1-backupModule.png"></span></p>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-Installing"><a class="anchor" href="#src-196596744_Backupmodule-Installing"></a>Installing</h3>
<div class="paragraph">
<p>Maven is the easiest way to install the module. Add the following to
your
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia&lt;/groupId&gt;
  &lt;artifactId&gt;magnolia-module-backup&lt;/artifactId&gt;
  &lt;version&gt;2.4.1&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-Backupapp"><a class="anchor" href="#src-196596744_Backupmodule-Backupapp"></a>Backup app</h3>
<div class="paragraph">
<p>The Backup app allows you to make a
<a href="#src-196596744_Backupmodule-Takingamanualbackup">manual backup</a>,
<a href="#src-196596744_Backupmodule-Schedulingautomaticbackups">schedule
automatic backups</a> and
<a href="#src-196596744_Backupmodule-Viewingexistingtasks">view existing
backup tasks</a>. The tool creates a backup of the entire Magnolia
installation.</p>
</div>
<div class="sect3">
<h4 id="src-196596744_Backupmodule-Makingamanualbackup"><a class="anchor" href="#src-196596744_Backupmodule-Makingamanualbackup"></a>Making a manual backup</h4>
<div class="paragraph">
<p>To make a manual backup:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the target backup directory on the file system.</p>
</li>
<li>
<p>In <strong>Manual backup</strong> enter the path to your backup directory. The path
must be absolute.</p>
</li>
<li>
<p>Click <strong>Backup</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596744/6-1-backupModule-createManualBackup.png" alt="images/download/attachments/196596744/6-1-backupModule-createManualBackup.png"></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Here is the structure of the backup folder.</p>
</div>
<div class="paragraph">
<p><code>└───&lt;target directory&gt;</code></p>
</div>
<div class="paragraph">
<p>`  ├───repository`</p>
</div>
<div class="paragraph">
<p>`  │   ├───datastore`</p>
</div>
<div class="paragraph">
<p>`  │   ├───meta`</p>
</div>
<div class="paragraph">
<p>`  │   ├───namespaces`</p>
</div>
<div class="paragraph">
<p>`  │   ├───nodetypes`</p>
</div>
<div class="paragraph">
<p>`  │   └───privileges`</p>
</div>
<div class="paragraph">
<p>`  ├───version`</p>
</div>
<div class="paragraph">
<p>`  │   └───db`</p>
</div>
<div class="paragraph">
<p>`  └───workspaces`</p>
</div>
<div class="paragraph">
<p>`      ├───category`</p>
</div>
<div class="paragraph">
<p>`      │   └───db`</p>
</div>
<div class="paragraph">
<p>`      ├───config`</p>
</div>
<div class="paragraph">
<p>`      │   └───db`</p>
</div>
<div class="paragraph">
<p>`      ├───&#8230;&#8203;`</p>
</div>
<div class="paragraph">
<p>`      └───workflow`</p>
</div>
<div class="paragraph">
<p>`          └───db`</p>
</div>
<div class="paragraph">
<p>`  ├───repository.xml`</p>
</div>
<div class="paragraph">
<p>Content:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>&lt;backup folder&gt;</code></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>respository</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subfolders containing datastore and configuration files
necessary to restore the repositories.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Versions database. Contains versions of all versionable
content from all repositories.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workspaces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One folder per workspace. Holds all content of given
workspace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>repository.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repository configuration file.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Backup files contain confidential information on how to connect to the
database. Keep your backup files in a secure location.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596744_Backupmodule-Schedulingautomaticbackups"><a class="anchor" href="#src-196596744_Backupmodule-Schedulingautomaticbackups"></a>Scheduling automatic backups</h4>
<div class="paragraph">
<p>To schedule an automatic backup:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In <strong>Automatic backup</strong> set the time, frequency, date and target
directory</p>
</li>
<li>
<p>Click <strong>Schedule backup</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596744/6-1-backupModule-createAutoBackup.png" alt="images/download/attachments/196596744/6-1-backupModule-createAutoBackup.png"></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The tool registers an automatic backup task in the module configuration
in <code>/modules/backup/config</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">config</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backupTask</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatedExecution</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cron</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 00 1 * * 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.backup.AutomatedBackupConfiguration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">backupTask</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetPath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/magnoliaBackup</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>config</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Module configuration node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tasks</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Tasks folder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backupTasks</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Name of task.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>automatedExecution</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Automated execution node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cron</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p><a href="http://wiki.magnolia-cms.com/display/WIKI/Cron+Expressions">CRON
expression</a> that sets the scheduled execution time.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Enables and disables the task.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>AutomatedBackupConfiguration is the bean that holds the backup
configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Task name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targetPath</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Path to the backup directory. The path must be absolute.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Automatic backups include a timestamp in the backup folder.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596744_Backupmodule-Viewingexistingtasks"><a class="anchor" href="#src-196596744_Backupmodule-Viewingexistingtasks"></a>Viewing existing tasks</h4>
<div class="paragraph">
<p>You can view and delete scheduled automatic backups in <strong>Existing tasks</strong>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596744/6-1-backupModule-existingTasks.png" alt="images/download/attachments/196596744/6-1-backupModule-existingTasks.png"></span></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-Backupscript"><a class="anchor" href="#src-196596744_Backupmodule-Backupscript"></a>Backup script</h3>
<div class="paragraph">
<p>The <code>backup</code> script provides more flexibility for backing up Magnolia.
Options include backing up a single workspace or file, and running a
backup from a running Magnolia instance. The backup script is in the
<code>bin</code> folder in the
<a href="https://nexus.magnolia-cms.com/content/repositories/magnolia.enterprise.releases/info/magnolia/magnolia-module-backup/">Backup
module bundle</a> and needs to be run in a CLI.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>If choose to use the script, make sure that library versions referenced
by the script after the update are the same as the versions in Magnolia
you are currently running.</p>
</div>
<div class="paragraph">
<p>Usage:</p>
</div>
<div class="paragraph">
<p><code>./bin/backup [options]</code></p>
</div>
<div class="paragraph">
<p>Options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short version</th>
<th class="tableblock halign-left valign-top">Long version</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--configuration &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Location of the repository configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-r &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--repository &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Location of the repository to backup.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-t &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Target location for the backup.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-mr &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--maxRetries &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Maximum number of retries when encountering an exception.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-rt &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--retryTimeout &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Interval in seconds for retrying backup execution when an exception
occurs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-u &lt;context&gt; &lt;username:password&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--user &lt;context&gt; &lt;username:password&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Context, username and password. Used for launching a backup from a
running Magnolia instance<br>
with a given username, password and host URL.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
This option only works if the user has been assigned the the
<code>rest-backup</code> role.<br>
See <a href="#src-196596744_Backupmodule-BackupRESTservice">Backup REST
service</a> for more.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--zip</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Create a compressed ZIP archive.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-zp &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--zipPath &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong> when <code>-z</code> is used
(<span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
Magnolia 5.6.2+)</p>
</div>
<div class="paragraph">
<p>The location for a zip backup archive. The argument should be a file
with a path to it.</p>
</div>
<div class="paragraph">
<p>The path provided needs to be absolute in the context of the backup
module, e.g. <code>-z -zp /tmp/magnolia-backup.zip</code> .</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Example</strong>: Launching a backup from a running Magnolia instance.</p>
</div>
<div class="paragraph">
<p><code>./bin/backup -t /tmp/backup/backup-some/<code>01</code> -r /Users/Name/Workspace/dev-project/magnolia-dev-webapp/target/magnolia-dev-webapp-<code>1.0</code>/repositories/magnolia -c /Users/Name/Workspace/dev-project/magnolia-dev-webapp/target/magnolia-dev-webapp-<code>1.0</code>/WEB-INF/config/repo-conf/jackrabbit-bundle-mysql-search.xml -u http:`</code>//localhost:8080 superuser:superuser`</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Although it is possible to backup from a running Magnolia instance, it
is <strong>not</strong> a recommended best practice. To ensure stability and prevent
potential inconsistencies caused by nodes being published (versioned)
during the backup process, avoid this option if possible. See
<a href="#src-196596744_Backupmodule-BackupRESTservice">Backup REST service</a>
for more.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-Restoringabackup"><a class="anchor" href="#src-196596744_Backupmodule-Restoringabackup"></a>Restoring a backup</h3>
<div class="paragraph">
<p>To restore the previously backed up data, use the <code>restore</code> script in
the <code>bin</code> folder in the
<a href="https://nexus.magnolia-cms.com/content/repositories/magnolia.enterprise.releases/info/magnolia/magnolia-module-backup/">Backup
module bundle</a>. The restore script needs to be run in a CLI.</p>
</div>
<div class="paragraph">
<p>The restore script is meant to recreate an instance, not to patch an
existing one. For it to work correctly you should clean your database
schema before running it.</p>
</div>
<div class="paragraph">
<p>Run the script <strong>before</strong> starting Magnolia so that the script can
re-create the repository.</p>
</div>
<div class="paragraph">
<p>To make sure the <code>webapp</code> directory is properly setup before running the
restore script, we recommend you take the WAR file or webapp from the
bundle, add all your custom modules, startup the server once and perform
the installation. Perform a backup of this new instance. After that,
shutdown the server, delete the <code>repositories</code> directory and run the
restore as specified below.</p>
</div>
<div class="paragraph">
<p>Usage:</p>
</div>
<div class="paragraph">
<p><code>/restore [options]</code></p>
</div>
<div class="paragraph">
<p>Options:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--configuration &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Location of the repository configuration.</p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.jackrabbit.config</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--repository &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Location of the repository to restore.</p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.home</code> property followed by the repository name
(default: magnolia).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source &lt;arg&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Source location of the backup.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--zip</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Restore from a compressed ZIP archive.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="paragraph">
<p><code>./bin/restore -r /Users/Name/Workspace/dev-project/magnolia-dev-webapp/target/magnolia-dev-webapp-<code>1.0</code>/repositories/magnolia -s /magnoliaBackups/Sept2016/<code>01</code> -c /Users/Name/Workspace/dev-project/magnolia-dev-webapp/target/magnolia-dev-webapp-<code>1.0</code>/WEB-INF/config/repo-config/jackrabbit-bundle-mysql-search.xml</code></p>
</div>
<div class="paragraph">
<p>Tips</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assign the restore script more memory by changing the
<code>EXTRA_JVM_ARGUMENTS</code> variable in the script file. On a Linux server you
need to grant the correct permissions to the script file in order to run
it.</p>
</li>
<li>
<p>It is not necessary to reindex your repository when the restore script
is done.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Best practice</strong>For safety reasons, run the restore from time to time
on a test system to verify the validity of the backup files. Depending
on the amount of data changed over the time, perhaps do so every month
or every quarter.</p>
</div>
<div class="sect3">
<h4 id="src-196596744_Backupmodule-Databasesize"><a class="anchor" href="#src-196596744_Backupmodule-Databasesize"></a>Database size</h4>
<div class="paragraph">
<p>During restore all entries are reinserted into the database
sequentially. This ensures that the restored database is not fragmented
and is slightly smaller than the equivalent database before backup.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596744_Backupmodule-Changingpersistencemanagers"><a class="anchor" href="#src-196596744_Backupmodule-Changingpersistencemanagers"></a>Changing persistence managers</h4>
<div class="paragraph">
<p>You can use backup and restore to migrate data to another persistence
manager and to another database. For example you can change from Derby
to MySQL.</p>
</div>
<div class="paragraph">
<p>To change persistence managers use the <code>-c &lt;arg&gt;</code>
(<code>--configuration &lt;arg&gt;</code>) option to point to the new database
persistence manager configuration.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>:</p>
</div>
<div class="paragraph">
<p><code>./bin/restore -c /Users/Name/Workspace/dev-project/magnolia-dev-webapp/target/magnolia-dev-webapp-<code>1.0</code>/WEB-INF/config/repo-config/jackrabbit-bundle-mysql-search.xml</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-Backupcommand"><a class="anchor" href="#src-196596744_Backupmodule-Backupcommand"></a>Backup command</h3>
<div class="paragraph">
<p>The <code>backup</code> command starts the backup execution process for both
<a href="#src-196596744_Backupmodule-Takingamanualbackup">manual</a> and
<a href="#src-196596744_Backupmodule-Schedulingautomaticbackups">automated</a>
requests.</p>
</div>
<div class="paragraph">
<p>The command is registered in <code>/modules/backup/commands/backup/backup</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commands</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.backup.commands.BackupCommand</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Properties:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 21%;">
<col style="width: 79%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commands</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Commands folder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backup</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Backup <a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands">catalog</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backup</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands">Command</a> name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>class</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>BackupCommand starts the backup execution process both
<a href="#src-196596744_Backupmodule-Takingamanualbackup">manual</a> and
<a href="#src-196596744_Backupmodule-Schedulingautomaticbackups">automated</a>
requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>repositoryPath</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong>, <em>default is <code>magnolia.repositories.home</code> property</em></p>
</div>
<div class="paragraph">
<p>Location of the repository to back up.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>configurationPath</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong>, <em>default is <code>magnolia.repositories.jackrabbit.config</code>
property</em></p>
</div>
<div class="paragraph">
<p>Location of the repository configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backupLocation</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Target location of the backup.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>When set to <code>true</code> backup is compressed in a ZIP archive.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>retryTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is <code>30</code> seconds</em></p>
</div>
<div class="paragraph">
<p>Interval in seconds for retrying backup execution when an exception
occurs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxRetries</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong>, <em>default is `3`</em></p>
</div>
<div class="paragraph">
<p>Maximum number of retries when encountering an exception.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196596744_Backupmodule-BackupRESTservice"><a class="anchor" href="#src-196596744_Backupmodule-BackupRESTservice"></a>Backup REST service</h3>
<div class="paragraph">
<p>The backup command is executed with a REST call. This allows observation
of the <code>mgnlVersion</code> workspace and prevents potential inconsistencies if
a node is published (versioned) during the backup process. If an
inconsistency is detected, the backup stops and retries <code>3</code> times
(<code>maxRetries</code> default value). If the inconsistency persists the backup
fails and this is logged to the user.</p>
</div>
<div class="paragraph">
<p>The <code>backup</code> command is enabled as a REST endpoint in the
<a href="REST_module.html">REST Services module</a> in
<code>/modules/rest-services/rest-endpoints/commands/enabledCommands/backup</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest-services</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest-endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commands</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabledCommands</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">access</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">roles</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest-backup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rest-backup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catalogName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Properties:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 27%;">
<col style="width: 73%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabledCommands</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Enabled commands node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backup</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Command node. Name is arbitrary.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Access node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Roles node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rest-backup</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p>Role name. Grants the <code>rest-backup</code> role permission to execute the
command. Property name is arbitrary but the value must be a valid role
name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalogName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands">Catalog</a> where the
command resides.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commandName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>required</strong></p>
</div>
<div class="paragraph">
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands">Command
definition</a> name.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The module adds the <code>rest-backup</code> role in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Security+app">Security app</a>.</p>
</div>
<div class="paragraph">
<p>The role allows the execution of the <code>backup</code> command from a running
Magnolia instance and has the following permissions:</p>
</div>
<div class="paragraph">
<p>Web access:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Permission</strong></th>
<th class="tableblock halign-left valign-top"><strong>Path</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get &amp; Post</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/.rest/commands/v2/backup/backup</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that you must use <code>POST</code> to send requests to the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands+endpoint+API">commands
endpoint</a>.</p>
</div>
<div class="paragraph">
<p>Also note that you have to define the backup command properties in the
request body or predefine it in the backup command properties as
described above.</p>
</div>
<div class="paragraph">
<p>Amazon S3 Connector module</p>
</div>
<div class="paragraph">
<p>Blossom module</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
