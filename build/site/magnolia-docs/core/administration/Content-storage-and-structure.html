<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content storage and structure - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/administration/Content-storage-and-structure.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Content-storage-and-structure.html">master</a>
    <a class="version" href="../../6.2.1/core/administration/Content-storage-and-structure.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Content-storage-and-structure.html">Content storage and structure - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Content storage and structure - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Architecture.html">Architecture</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595696"><a class="anchor" href="#src-196595696"></a>Content storage and structure</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="Data-store-deployment.html">Data store deployment</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Magnolia stores all content (web pages, images, documents,
configuration, data) in a content repository. The repository
implementation we have chosen, Apache Jackrabbit, adheres to the Java
Content Repository standard (JCR).</p>
</div>
<div class="sect2">
<h3 id="src-196595696_Contentstorageandstructure-Hierarchicalcontentstore"><a class="anchor" href="#src-196595696_Contentstorageandstructure-Hierarchicalcontentstore"></a>Hierarchical content store</h3>
<div class="paragraph">
<p>A content repository is designed to store, search and retrieve
hierarchical data. Data consists of a tree of nodes with associated
properties. Data is stored in the properties. They may store simple
values such as numbers and strings or binary data (images, documents) of
arbitrary length. Nodes may optionally have one or more types associated
with them, which in turn dictates the type of their properties, the
number and type of their child nodes, and certain behavioral
characteristics.</p>
</div>
<div class="paragraph">
<p>Example: A, B, C and D are nodes. The boxes represent properties with
Boolean, numerical, string and binary values.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595696/hierarchical-content-store.png" alt="images/download/attachments/196595696/hierarchical-content-store.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595696_Contentstorageandstructure-JCRstandardAPIforcontentrepositories"><a class="anchor" href="#src-196595696_Contentstorageandstructure-JCRstandardAPIforcontentrepositories"></a>JCR standard API for content repositories</h3>
<div class="paragraph">
<p>Java Content Repository (JCR) is a standard interface for accessing
content repositories. JCR version 1.0 was specified in Java
Specification Request 170 (JSR-170). Version 2.0 in JSR-283 is also
final. JCR specifies a hierarchical content store with support for
structured and unstructured content.</p>
</div>
<div class="paragraph">
<p>Magnolia was the first open-source content management system built
specifically to leverage JCR. The standard decouples the
responsibilities of content storage from content management and provides
a common API that enables standardized content reuse across the
enterprise and between applications. Magnolia uses the open-source
Jackrabbit reference implementation.</p>
</div>
<div class="paragraph">
<p>Application developers benefit from standardization as they don&#8217;t need
to learn several vendor-specific APIs. Learning one standard API allows
them to work with any compliant repository and write code against it.</p>
</div>
<div class="paragraph">
<p>Businesses enjoy freedom of choice. Open standards like JCR are the best
insurance against vendor lock-in; any CMS that supports the JCR standard
becomes a viable alternative. Costs associated with switching vendors
are smaller when your content is already the correct format.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595696/Content-storage.png" alt="images/download/attachments/196595696/Content-storage.png" height="400"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595696_Contentstorageandstructure-Persistentstorage"><a class="anchor" href="#src-196595696_Contentstorageandstructure-Persistentstorage"></a>Persistent storage</h3>
<div class="paragraph">
<p>A persistence manager (PM) is an internal Jackrabbit component that
handles the persistent storage of content nodes and properties. Each
workspace of a Jackrabbit content repository can use a separate
persistence manager to store content for that workspace. The persistence
manager sits at the bottom layer of the Jackrabbit system architecture.
Reliability, integrity and performance of the PM are crucial to the
overall stability and performance of the repository.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>In order to avoid integrity issues and to benefit from services such as
observation, clustering and indexing, you should always access the
content through the JCR API. Changing the data directly (bypassing the
API) causes serious issues. This may sound restrictive but the API is
actually quite versatile. You can even access the content repository
from external applications using the API.</p>
</div>
<div class="paragraph">
<p>The choice of persistence managers includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Database: Magnolia uses a database as persistence manager by default.
This is the most common option. We ship WAR files and operating system
specific bundles with the H2 database. H2 is an embedded database that
allows us to package a fully operational Magnolia example into a single
download, including configuration details and demonstration websites. It
requires minimal installation effort from users. However, for production
environments, we recommend an enterprise-scale database such as MySQL,
PostgreSQL or Oracle. All of them work with JCR. Database connections
are based on JDBC, involve zero deployment, and run fast. Note! The
MySQL
<a href="https://docs.oracle.com/cd/E17952_01/mysql-5.5-en/innodb-storage-engine.html">InnoDB
storage engine</a> is supported by Magnolia, the MyISAM engine is not.
InnoDB is the default engine in MySQL 5.5 and later.</p>
</li>
<li>
<p>File system: This kind of data store is typically not meant to run in
production environments, except in read-only cases, but it can be very
fast.</p>
</li>
<li>
<p>In-memory: This is a great persistence manager for testing and for
small workspaces. All content is kept in memory and lost as soon as the
repository is closed. Even faster than a file system. Again, not for
production use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Magnolia DX Core allows you to switch between persistence managers
without losing any content.</p>
</div>
<div class="paragraph">
<p>Configuration management</p>
</div>
<div class="paragraph">
<p>Node types</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
