<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AdminCentral and public locales - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/administration/AdminCentral-and-public-locales.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Cloud Light Development</a>
            <a class="navbar-item" href="#">Upgrading in the Cloud</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Visual SPA Editor</a>
            <a class="navbar-item" href="#">API</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
    <a href="../../releases/Releases.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="AdminCentral-and-public-locales.html">AdminCentral and public locales - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">AdminCentral and public locales - Magnolia 6.2 documentation</h1>
<div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Language.html">Language</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595769"><a class="anchor" href="#src-196595769"></a>AdminCentral and public locales</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>This page describes two different types of language
<a href="Locale.html">locale</a> in Magnolia and how to configure Magnolia for
them. The two locales influence the rendering of content in the
AdminCentral and on a published page.</p>
</div>
<div class="sect2">
<h3 id="src-196595769_AdminCentralandpubliclocales-Whatislocale"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-Whatislocale"></a>What is locale</h3>
<div class="paragraph">
<p>Generally speaking, a locale in computing is "a set of parameters that
defines the user&#8217;s language, region and any special variant preferences
that the user wants to see in their user interface" (Wikipedia).</p>
</div>
<div class="paragraph">
<p>Locale is more often associated with the language parameter, which is
usually defined by a two-, three- or four-letter language code,
standardized under <a href="https://www.iso.org/iso-639-language-codes.html">ISO
639</a>. See the
<a href="https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry">IANA
Language Subtag Registry</a> for a complete list of available language
codes and language variants.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595769_AdminCentralandpubliclocales-TwolocalesinMagnolia"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-TwolocalesinMagnolia"></a>Two locales in Magnolia</h3>
<div class="paragraph">
<p>The question of "two locales" is connected with the types of
<a href="Users.html">users</a> who access a Magnolia instance.</p>
</div>
<div class="paragraph">
<p>An ordinary internet user, new or returning, or even an application
consuming content as JSON or XML via REST API – all of whom we shall
call <em>visitor</em> for simplicity – will usually only be able to see and
interact with content of a published web project or website. The visitor
will be interacting with a running public instance of Magnolia and will
expect that the content of each page on the site will be available in a
language he can understand or defines in his request, ideally in his
native language. A visitor whose native language is English will prefer
content in English (the screenshots are from the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Demo">Travel Demo</a>):</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/tourTypesPageActive_visitor_crop.png" alt="images/download/attachments/196595769/tourTypesPageActive_visitor_crop.png"></span></p>
</div>
<div class="paragraph">
<p>On the other hand, an editor, publisher or even a sysadmin – let&#8217;s refer
to them with the term <em>AdminCentral user</em> – working with the author
instance of Magnolia may have different locale preferences than the
visitor. An AdminCentral user&#8217;s native and hence preferred language may
be, for example, Spanish but the content being edited may still be in
English. The AdminCentral user would probably welcome if the following
items in the author instance (see also
<a href="Types-of-translatable-text.html">Types of translatable text</a>) are
displayed in Spanish rather than in English:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Field
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Field+definition#Fielddefinition-Commonfieldproperties">labels
and descriptions</a>,</p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Messages">Messages</a>
(alerts, warnings, information),</p>
</li>
<li>
<p>App UI elements such as
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Workbench+definition">workbenches</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Column+definition">columns</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Form+definition">forms</a> and
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Naming+action+bar+elements">actions</a>,
and</p>
</li>
<li>
<p>Buttons in the page editor in edit mode (used to open dialogs)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/tourTypesPageEdit_es_scope.png" alt="images/download/attachments/196595769/tourTypesPageEdit_es_scope.png"></span></p>
</div>
<div class="paragraph">
<p>Magnolia has been built to deal with these two separate <em>locale</em>
preferences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Public Locale</p>
</li>
<li>
<p>AdminCentral Locale.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Determining and setting the latter is fairly straightforward since the
system users usually know which locale they prefer. They can also set
the locale themselves directly in the AdminCentral or ask a user with
superuser rights to set the preferred locale for them.</p>
</div>
<div class="paragraph">
<p>To determine public locale is more difficult. Visitors usually access
web content as anonymous users. Magnolia then has to rely on indirect
means that point to the preferred locale of a visitor.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595769_AdminCentralandpubliclocales-AdminCentrallocale"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-AdminCentrallocale"></a>AdminCentral locale</h3>
<div class="paragraph">
<p>The AdminCentral locale primarily defines the language of
<a href="Types-of-translatable-text.html#src-196595789_Typesoftranslatabletext-Userinterfacelabels">User
interface labels</a> which the AdminCentral user wants to interact in with
the AdminCentral. This concerns, for example, the language of labels in
the <strong>Action bar</strong> (English on the left, Korean on the right):</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/actionBar_en_ko_crop.png" alt="images/download/attachments/196595769/actionBar_en_ko_crop.png"></span></p>
</div>
<div class="paragraph">
<p>An incomplete localisation of a UI element may result in displaying a
label in the fallback language, as shown below in the case the <strong>Copy
page</strong> and <strong>Paste page</strong> actions:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/incompletActionBar_kr_scope_M56.png" alt="images/download/attachments/196595769/incompletActionBar_kr_scope_M56.png"></span></p>
</div>
<div class="sect3">
<h4 id="src-196595769_AdminCentralandpubliclocales-SettingandconfiguringtheAdminCentrallocale"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-SettingandconfiguringtheAdminCentrallocale"></a>Setting and configuring the AdminCentral locale</h4>
<div class="paragraph">
<p>When logged-in in the AdminCentral, its users may set their language
locale parameter via the <strong>Language</strong> field in the <strong>Edit user profile</strong>
dialog. The setting will be reflected in the names of action menus,
actions, buttons and labels throughout the AdminCentral provided the
locale is one of the available system languages or it will fallback to
English, the default fallback language (see also the
<a href="Language-configuration.html#src-196595780_Languageconfiguration-Availablesystemlanguages">configuration
of available system languages</a> and
<a href="Language-configuration.html#src-196595780_Languageconfiguration-Fallbacklanguage">fallback
language configuration</a>).</p>
</div>
<div class="paragraph">
<p>To set the locale of the AdminCentral, open the pull down menu in the
top right corner of the browser window and click the first row of the
menu, titled <strong>Edit user profile</strong> if the current locale setting is
English. On the Preferences tab:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Choose a language in the <strong>Language</strong> field:</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/profilePreferencesDiag_m56.png" alt="images/download/attachments/196595769/profilePreferencesDiag_m56.png"></span></p>
</div>
<div class="paragraph">
<p>With the superuser role you can
<a href="Language-configuration.html#src-196595780_safe-id-TGFuZ3VhZ2Vjb25maWd1cmF0aW9uLVNldHRpbmdhbmVkaXRvcidzbGFuZ3VhZ2VwcmVmZXJlbmNl">set
language locales for other users</a>.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The new locale is applied the next time you log in to the AdminCentral.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196595769_AdminCentralandpubliclocales-Publiclocale"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-Publiclocale"></a>Public locale</h3>
<div class="paragraph">
<p>Public locale influences the
<a href="Types-of-translatable-text.html#src-196595789_Typesoftranslatabletext-Editorialcontent">editorial
content</a> and
<a href="Types-of-translatable-text.html#src-196595789_Typesoftranslatabletext-Templatelabels">template
labels</a> rendered on a visitor&#8217;s device. Unless a visitor registers to a
product or service and actively provides the preferred locale
information, the public instance has to rely on other means that help
identify the visitor&#8217;s preferred locale.</p>
</div>
<div class="sect3">
<h4 id="src-196595769_AdminCentralandpubliclocales-Determiningthepreferredpubliclocale"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-Determiningthepreferredpubliclocale"></a>Determining the preferred public locale</h4>
<div class="paragraph">
<p>There are a number of ways of obtaining locale information. Some of them
use advanced techniques such as
<a href="https://en.wikipedia.org/wiki/Geolocation">geolocation</a> based on ping
delay or topology, but one of the most common ways is to look into the
content of an HTTP request. At least the following three parts of an
HTTP request are relevant to the identification of the public user&#8217;s
locale:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>User-Agent</code> header</p>
</li>
<li>
<p>the <code>Accept-Language</code> header</p>
</li>
<li>
<p><code>Request-URI</code></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="src-196595769_AdminCentralandpubliclocales-FromtheUser-Agentheader"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-FromtheUser-Agentheader"></a>From the User-Agent header</h5>
<div class="paragraph">
<p>The header may contain information such as <code>en_US</code>, for example:</p>
</div>
<div class="paragraph">
<p><code>Mozilla/<code>5.0</code> (compatible; Konqueror/<code>4.5</code>; NetBSD <code>5.0</code>.<code>2</code>; X11; amd64; en_US) KHTML/<code>4.5</code>.<code>4</code> (like Gecko)</code></p>
</div>
<div class="paragraph">
<p>However, this locale information in the <code>User-Agent</code> header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Identifies the language variant of the software sending the request
rather than the user&#8217;s preferred locale.</p>
</li>
<li>
<p>Is usually redundant.</p>
</li>
<li>
<p>Is often missing:</p>
<div class="paragraph">
<p><code>Mozilla/<code>5.0</code> (X11; Linux x86_64) AppleWebKit/<code>537.36</code> (KHTML, like Gecko) Chrome/<code>63.0</code>.<code>3239.84</code> Safari/``537.36</code></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Magnolia has no ready-made means how to check for the existence of and
retrieve this type of locale information. The preferred locale
information is communicated via the <code>Accept-Language</code> header.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595769_AdminCentralandpubliclocales-FromtheAccept-Languageheader"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-FromtheAccept-Languageheader"></a>From the Accept-Language header</h5>
<div class="paragraph">
<p>The <code>Accept-Language</code> request header of an HTTP request defines which
language variant of the page is preferred by the public user. This
locale information may take one of the following three forms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;language&gt;</code></p>
</li>
<li>
<p><code>&lt;locale&gt;</code></p>
</li>
<li>
<p><code>*</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The first represents language expressed as a 2 or 3-character string,
the second represents language as a full language tag, the third means
"any language" (see
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">Accept-Language</a>
and
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.10">Language
Tags</a> in RFC-2616).</p>
</div>
<div class="paragraph">
<p>Additionally, the locale value that is sent in the header – optionally
in a semicolon-delimited range for more languages – may be given an
associated quality value (<code>q=&lt;qvalue&gt;</code>). The quality value represents an
estimate of the user&#8217;s preference for the languages specified by that
range, for example:</p>
</div>
<div class="paragraph">
<p><code>Accept-Language: cs-CZ,cs;q=<code>0.9</code>,en-US;q=<code>0.8</code>,en;q=``0.7</code></p>
</div>
<div class="paragraph">
<p>In Magnolia the locale information provided in the <code>Accept-Language</code>
header can be handled by the <code>RequestLocaleAwareI18nContentSupport</code>
implementation of the <code>I18nContentSupport</code> interface, see below in
<a href="#src-196595769_AdminCentralandpubliclocales-TheI18nContentSupportinterface">The
I18nContentSupport interface</a> subsection.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595769_AdminCentralandpubliclocales-FromRequest-URI"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-FromRequest-URI"></a>From Request-URI</h5>
<div class="paragraph">
<p>The most common form of <code>Request-URI</code> is that used to identify a
resource on an origin server or gateway. For example:</p>
</div>
<div class="paragraph">
<p><code>/tour-type<sub>active</sub>.html</code></p>
</div>
<div class="paragraph">
<p>The preferred locale information may be sent to the server as a part of
a <code>Request-URI</code> , such as <code>de</code> in the following example:</p>
</div>
<div class="paragraph">
<p><code>/de/tour-type<sub>active</sub>.html</code></p>
</div>
<div class="paragraph">
<p>In Magnolia the locale information provided in the <code>Request-URI</code> can be
handled by <code>DefaultI18nContentSupport</code> and
<code>HierarchyBasedI18nContentSupport</code> implementations of the
<code>I18nContentSupport</code> interface, see the details in the following
subsection.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196595769_AdminCentralandpubliclocales-TheI18nContentSupportinterface"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-TheI18nContentSupportinterface"></a>The I18nContentSupport interface</h4>
<div class="paragraph">
<p>When determining the preferred public locale, a key role in deciding
which approach to apply is played by the I18nContentSupport interface.
Its configuration is stored under <code>/server/i18n/content</code> . The entry
point to this interface is via the I18nContentSupportFilter (set in
<code>/server/filters/i18n</code> ). The <code>I18nContentSupport</code> interface has the
following implementations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AbstractI18nContentSupport – an abstract implementation. The detection
of the current locale is left to one of the following three classes.</p>
</li>
<li>
<p>RequestLocaleAwareI18nContentSupport – relevant to the
<a href="#src-196595769_AdminCentralandpubliclocales-FromtheAccept-Languageheader">From
the Accept-Language header</a> case described above, this implementation
reads the locale from the Accept-Language header. This implementation
does not render language specific URIs (see the classes below).</p>
</li>
<li>
<p>DefaultI18nContentSupport – relevant to the
<a href="#src-196595769_AdminCentralandpubliclocales-FromRequest-URI">From
Request-URI</a> case described above and used in the Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Demo">Travel Demo</a>, this
implementation supports a language prefix in the URI, such as <code>de</code> for
example. It checks if a node data with the <code>&lt;name&gt;_&lt;locale&gt;</code> pattern
exists on a content node:</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595769/TravelDemo_Main_defLocale_m56.png" alt="images/download/attachments/196595769/TravelDemo_Main_defLocale_m56.png" height="250"></span></p>
</div>
</li>
<li>
<p>HierarchyBasedI18nContentSupport Same as above but for a hierarchy,
for example:</p>
<div class="paragraph">
<p><code>my-website</code></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>`    ├─en`</p>
</div>
<div class="paragraph">
<p>`    │  ├─page-<code>`1</code></p>
</div>
<div class="paragraph">
<p>`    │  └─page-n`</p>
</div>
<div class="paragraph">
<p>`    ├─de`</p>
</div>
<div class="paragraph">
<p>`    │  ├─page-<code>`1</code></p>
</div>
<div class="paragraph">
<p>`    │  └─page-n `</p>
</div>
<div class="paragraph">
<p>`    └─de_CH`</p>
</div>
<div class="paragraph">
<p>`       ├─page-<code>`1</code></p>
</div>
<div class="paragraph">
<p>`       └─page-n `</p>
</div>
<div class="paragraph">
<p>+
The locale code can be at whatever position in the URI, not necessarily
the first one. For example,
<code>/my-website/node-1/node-2/de/home-page.html</code> .</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595769_AdminCentralandpubliclocales-Configuringlocaleforasite"><a class="anchor" href="#src-196595769_AdminCentralandpubliclocales-Configuringlocaleforasite"></a>Configuring locale for a site</h4>
<div class="paragraph">
<p>The configuration that defines the locale information for a site is
usually located:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In DX Core under<br>
<code>/modules/multisite/config/sites/&lt;site-name&gt;/i18n/locales</code></p>
</li>
<li>
<p>In the Community Edition under<br>
<code>/site/config/site/&lt;site-name&gt;/i18n/locales</code><br>
In the CE&#8217;s Travel Demo bundle the configuration is extended from
<code>/modules/travel-demo/config/travel</code> .</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For further details about configuring locale for a site, please see
<a href="Language-configuration.html#src-196595780_Languageconfiguration-3.Definelocalesinsite">Language
configuration: 3. Define locales in site</a>.</p>
</div>
<div class="paragraph">
<p>Language</p>
</div>
<div class="paragraph">
<p>Language configuration</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
