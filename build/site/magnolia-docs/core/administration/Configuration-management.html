<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration management - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/administration/Configuration-management.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Configuration-management.html">master</a>
    <a class="version" href="../../6.2.1/core/administration/Configuration-management.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Configuration-management.html">Configuration management - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Configuration management - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="Architecture.html">Architecture</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595691"><a class="anchor" href="#src-196595691"></a>Configuration management</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="src-196595691_Configurationmanagement-Properties"><a class="anchor" href="#src-196595691_Configurationmanagement-Properties"></a>Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Property files are used for configuration during the startup sequence
before the repository is available. These properties configure the
instance for a particular use (such as a development or production
environment) and set various system directories. Once the startup
sequence is completed and the repository is available, the majority of
configuration is done in the <code>config</code> <a href="Workspaces.html">workspace</a> in
the repository.</p>
</div>
<div class="paragraph">
<p>Properties are not stored in a single property file but come from
multiple sources. These sources are processed or parsed in this order:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Location</th>
<th class="tableblock halign-left valign-top">Path / Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bean properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-core.jar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/mgnl-beans.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.magnolia-cms.com/display/DOCS62/Module+descriptor">Module
descriptor</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;properties&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;property&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;name&gt;defaultPublicURI&lt;/name&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;value&gt;redirect:/help.html&lt;/value&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/property&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/properties&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global file properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WEB-INF/config/magnolia.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default file properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WEB-INF/config/default/magnolia.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web application file properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WEB-INF/config/(webapp)/magnolia.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server file properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WEB-INF/config/(servername)/magnolia.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web application at server file properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">web application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WEB-INF/config/(servername)/(webapp)/magnolia.properties</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JVM options (-Dx=y)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Existing properties will be
overridden by available System properties.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sources processed earlier may be overridden by sources processed later.
The processing order and distribution of properties into several sources
allows for flexible customization.</p>
</div>
<div class="paragraph">
<p>Some important properties set in the default <code>magnolia.properties</code> file:</p>
</div>
<div class="paragraph">
<p><code># Repository configuration</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.config = WEB-INF/config/<code>default</code>/repositories.xml</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.home = $\{magnolia.app.rootdir\}/repositories</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.jackrabbit.config = WEB-INF/config/repo-conf/jackrabbit-bundle-h2-search.xml</code></p>
</div>
<div class="paragraph">
<p><code># Defining the instance as author instance</code></p>
</div>
<div class="paragraph">
<p><code># Only used <code>for</code> the initial installation.</code></p>
</div>
<div class="paragraph">
<p><code># Afterwards configuration in the config repository is used.</code></p>
</div>
<div class="paragraph">
<p><code># The value is saved in /server/admin</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.authorInstance=``true</code></p>
</div>
<div class="paragraph">
<p><code># Switch to <code>false</code> to enhance the performance of Javascript generation</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.develop=``false</code></p>
</div>
<div class="paragraph">
<p><code># Set to <code>true</code> <code>if</code> bootstrapping/update should be performed automatically</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.update.auto=``false</code></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/information.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/information.svg"></span>
<code>magnolia.app.rootdir</code> is set programmatically during Magnolia start-up.
Its value depends on the servlet container and on the environment, for
instance on a production Tomcat it would be something like
<code>/some-path/some-tomcat/webapps</code>.</p>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-MultipleconfigurationsonasingleWebapplicationarchive"><a class="anchor" href="#src-196595691_Configurationmanagement-MultipleconfigurationsonasingleWebapplicationarchive"></a>Multiple configurations on a single Web application archive</h3>
<div class="paragraph">
<p>Default properties are common regardless of the server name or webapp
name. Webapp specific properties are installed only if the webapp name
matches. Correspondingly, server specific properties are only installed
if the server name matches. For example, Magnolia ships with two webapps
by default: <code>magnoliaAuthor</code> and <code>magnoliaPublic</code>.</p>
</div>
<div class="paragraph">
<p>It is possible to set a different persistence manager per environment.
For example, on the development instance you could use the default
embedded Derby database, whilst on production you could use a
production-scale persistent storage such as a MySQL database.</p>
</div>
<div class="paragraph">
<p>See <a href="WAR-file-with-multiple-configurations.html">WAR file with
multiple configurations</a> for more on this topic.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>The
<a href="http://dev.mysql.com/doc/refman/5.5/en/storage-engine-setting.html">MySQL
InnoDB storage engine</a> is supported by Magnolia, the MyISAM engine is
not. InnoDB is the default engine in MySQL 5.5 and later.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Customization"><a class="anchor" href="#src-196595691_Configurationmanagement-Customization"></a>Customization</h3>
<div class="paragraph">
<p>The structure and the order of source execution allows you to provide
sophisticated configurations and flexible customization. The default
Magnolia configuration (delivered in the web application bundle)
provides an example of how the mechanism works:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>WEB-INF/config/default/magnolia.properties</code></p>
</li>
<li>
<p><code>WEB-INF/config/magnoliaAuthor/magnolia.properties</code></p>
</li>
<li>
<p><code>WEB-INF/config/magnoliaPublic/magnolia.properties</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Magnolia provides a single web application which configures itself
depending on the servlet context it is installed in. If your environment
has multiple staging systems with differing configuration needs, you can
apply different configurations by adding a server name to each of the
listed paths.</p>
</div>
<div class="paragraph">
<p>For complex environments, the order of loading files can be defined in
<code>WEB-INF/web.xml</code> as a <code>context-param</code> element:</p>
</div>
<div class="paragraph">
<p><code>&lt;context-param&gt;</code></p>
</div>
<div class="paragraph">
<p>`   &lt;param-name&gt;magnolia.initialization.file&lt;/param-name&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;param-value&gt;`</p>
</div>
<div class="paragraph">
<p>`         WEB-INF/config/${servername}/${webapp}/magnolia.properties,`</p>
</div>
<div class="paragraph">
<p>`         WEB-INF/config/${servername}/magnolia.properties,`</p>
</div>
<div class="paragraph">
<p>`         WEB-INF/config/${webapp}/magnolia.properties,`</p>
</div>
<div class="paragraph">
<p>`         WEB-INF/config/<code>default</code>/magnolia.properties,`</p>
</div>
<div class="paragraph">
<p>`         WEB-INF/config/magnolia.properties`</p>
</div>
<div class="paragraph">
<p>`      &lt;/param-value&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/context-param&gt;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Definingproperties"><a class="anchor" href="#src-196595691_Configurationmanagement-Definingproperties"></a>Defining properties</h3>
<div class="paragraph">
<p>Properties can be accessed through the
<code>info.magnolia.init.MagnoliaConfigurationProperties</code> class.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Required/Optional</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log4j.config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `WEB-INF/config/default/log4j.xml`</em></p>
</div>
<div class="paragraph">
<p>Name of a log4j config file. Can be a .properties or .xml file. The
value can be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a full path</p>
</li>
<li>
<p>a path relative to the webapp root</p>
</li>
<li>
<p>a file name which will be loaded from the classpath</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.bootstrap.dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `WEB-INF/bootstrap/author WEB-INF/bootstrap/common`</em></p>
</div>
<div class="paragraph">
<p>Directory containing XML files for initialization of a blank Magnolia
instance. If no content is found in any of the repositories, they are
initialized by importing the XML files found in this folder. If you
don&#8217;t want to let Magnolia initialize repositories automatically then
remove this parameter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.cache.startdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/cache`</em></p>
</div>
<div class="paragraph">
<p>Directory used for cached pages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.connection.jcr.password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `admin`</em></p>
</div>
<div class="paragraph">
<p>Password for repository connection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.connection.jcr.userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `admin`</em></p>
</div>
<div class="paragraph">
<p>User ID for repository connection.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Jackrabbit uses the default <code>admin</code> values of
<code>magnolia.connection.jcr.password</code> and <code>magnolia.connection.jcr.userId</code>
to initialize its internal admin account to access the repository. When
Magnolia initializes the session, it uses the same parameters to connect
to the repository to obtain the session before logging in the user.</p>
</div>
<div class="paragraph">
<p>There is no security risk with those values because they are used only
internally to communicate between Magnolia and Jackrabbit and are not
exposed to the outside world. With those credentials, you cannot log in
to the repository via UI or externally since Magnolia keeps exclusive
access to it.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.definitions.classpath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong> <em>if you deploy on a
<a href="Deploying-a-WAR-on-IBM-WebSphere.html">WebSphere</a>,
<a href="Deploying-a-WAR-on-WebSphere-Liberty.html">Liberty</a> or
<a href="Deploying-a-WAR-on-JBoss-WildFly-or-EAP.html">JBoss</a> application
server</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value must be set to <code>info.magnolia</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.exchange.history</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/history`</em></p>
</div>
<div class="paragraph">
<p>History directory used for activation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.repositories.config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `WEB-INF/config/default/repositories.xml`</em></p>
</div>
<div class="paragraph">
<p>Repository configuration, points to an XML file.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.repositories.jackrabbit.cluster.master</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong> <em>if you
have any clustered workspaces in your project</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Identifies the instance as a cluster master node. During installation
and update Magnolia bootstraps content only into master nodes. This
ensures that other (replica) nodes installed later don&#8217;t override
already bootstrapped content.</p>
</div>
<div class="paragraph">
<p>Example: Public instance A is defined as a cluster master node. The
instance starts and creates a clustered <code>forum</code> workspace and bootstraps
some content such as rules of conduct. Second public instance B is
defined as a replica node. It starts moments later but does not
bootstrap the same workspace again.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>true</code> defines the instance is a cluster master node. Content is
bootstrapped into the repository.</p>
</li>
<li>
<p><code>false</code> defines the instance as a cluster replica node. Content is not
bootstrapped into the repository.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.upload.tmpdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>required</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/tmp`</em></p>
</div>
<div class="paragraph">
<p>Temporary directory for uploaded files.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.author.key.location</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is
`${magnolia.home}/WEB-INF/config/default/magnolia-activation-keypair.properties`</em></p>
</div>
<div class="paragraph">
<p>Location of private and public keys used for
<a href="Activation-security.html">activation</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.bootstrap.authorInstance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `true`</em></p>
</div>
<div class="paragraph">
<p>Sets an instance as author (<code>true</code>) or public (<code>false</code>).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.bootstrap.samples</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `true`</em></p>
</div>
<div class="paragraph">
<p>Some modules contain optional sample content. They will check this
property to decide if they should install the content.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.components.config.properties.excluded</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of
component class names to be excluded from component instantiation.
Separate class names with white space (space, tab) or commas.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.content.bootstrap.dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The directory to import file system XML files from with the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Content+Importer+module">Content
Importer module</a>.</p>
</div>
<div class="paragraph">
<p>If the path is not set, the content importer module is stopped.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.develop</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p><code>magnolia.develop</code> is a <a href="#">configuration property</a> that can be set
to <code>true</code> in the <code>magnolia.properties</code> file for development purposes,
specifically to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enable
<a href="https://javadoc.magnolia-cms.com/info.magnolia.classpathwatch.ClasspathScanner">ClasspathScanner</a>,
when developing via IDE and changing / deploying edited classpath based
resources.</p>
</li>
<li>
<p>Disable the cache for resources.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Set to <code>false</code> on production instances.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.home</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.app.rootdir}`</em></p>
</div>
<div class="paragraph">
<p>Root of the webapp&#8217;s deployment directory.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.jsr250.enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Enables support for JSR-250 annotations. Magnolia uses the
<code>@PostConstruct</code> annotation in methods that need to be executed after
dependency injection is done to perform any initialization. Enabling
JSR-250 support impacts performance.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.logs.dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/logs`</em></p>
</div>
<div class="paragraph">
<p>Directory where logs are written.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.migration.persistReport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Turns off migration report generation to speed up the migration process.
Set to <code>true</code> to generate reports.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.repositories.home</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/repositories`</em></p>
</div>
<div class="paragraph">
<p>Repository home directory.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.repositories.jackrabbit.config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is
`WEB-INF/config/repo-conf/jackrabbit-bundle-derby-search.xml`</em></p>
</div>
<div class="paragraph">
<p><a href="http://jackrabbit.apache.org/jcr/jackrabbit-configuration.html">Jackrabbit
configuration</a> file. See the <code>repo-conf</code> directory for configuration
files for other <a href="Content-storage-and-structure.html">persistence
managers</a> such as MySQL, PostgreSQL and Ingres.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.repositories.jackrabbit.cluster.config</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Jackrabbit configuration file for a <a href="Clustering.html">clustered
repository</a>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
Always define the <code>cluster.config</code> and <code>cluster.master</code> properties
together if any of your workspaces are clustered.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.resources.classpath.observation.pattern</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>_default is `.*\\.(ftl</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">yaml)$`_</p>
<p class="tableblock">Pattern to define which resources should be observed by ClasspathScanner</p>
<p class="tableblock">The default pattern above observes any file names that end in .ftl and
.yaml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.resources.dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `${magnolia.home}/modules`</em></p>
</div>
<div class="paragraph">
<p>Defines the directory from which filesystem
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Resources">resources</a> such
as
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Modules#Modules-Lightmodule">light
modules</a> are loaded in a Magnolia instance.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.resources.filesystem.observation.excludedDirectories</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `META-INF,WEB-INF,cache,docroot,logs,repositories,tmp`</em></p>
</div>
<div class="paragraph">
<p>List of excluded resource directories in FileSystemResourceOrigin.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/information.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/information.svg"></span>
For example, if you are using the node_modules directory when developing
locally, you can use</p>
</div>
<div class="paragraph">
<p><code>magnolia.resources.filesystem.observation.excludedDirectories=node_modules</code></p>
</div>
<div class="paragraph">
<p>to prevent slow loading of pages.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.resources.watcher.sensitivity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `high`</em></p>
</div>
<div class="paragraph">
<p>The sensitivity (speed) with which the changes of the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Resources">resources</a> in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/_What+is+magnolia.resources.dir"><code>magnolia.resources.dir</code></a>
are observed by the
<a href="https://javadoc.magnolia-cms.com/info.magnolia.dirwatch.DirectoryWatcherService">DirectoryWatcherService</a>.</p>
</div>
<div class="paragraph">
<p>Possible values: <code>low</code>, <code>medium</code>, <code>high</code>. For development purposes on
OSX it is recommended to set the property to <code>high</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.update.auto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Set to <code>true</code> if bootstrapping and update should be performed
automatically after installation. This means the system won&#8217;t wait for
the user to start the update manually.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.utf8.enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default is `false`</em></p>
</div>
<div class="paragraph">
<p>Activate <a href="Language-configuration.html">UTF-8 support for pages</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.clusterid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>default</em> is set in set in Jackrabbit configuration file</p>
</div>
<div class="paragraph">
<p>The ID of the JCR cluster instance.</p>
</div>
<div class="paragraph">
<p>When setting the value in <em>magnolia.properties</em>, it overrides the value
set in the Jackrabbit configuration file; this allows using a single
configuration file for all the cluster instances.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>magnolia.ui.sticker.environment</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.sticker.color</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The properties add a sticker to the Admincentral interface to provide a
clear visual clue about the type of the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Glossary#Glossary-Environment">environment</a>
and instance the user is currently interacting with.</p>
</div>
<div class="paragraph">
<p>Example configuration:</p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.sticker.environment=LIVE</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.sticker.color=green</code></p>
</div>
<div class="paragraph">
<p>On the author instance, the following sticker appears:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595691/6-1-envSticker.png" alt="images/download/attachments/196595691/6-1-envSticker.png"></span></p>
</div>
<div class="paragraph">
<p>The instance name is taken from the <code>${magnolia.webapp}</code> property, which
corresponds to the name of the folder into which Magnolia is deployed.</p>
</div>
<div class="paragraph">
<p>For color values, use a CSS3 unit, see
<a href="https://www.w3.org/TR/css-color-3/#colorunits" class="bare">https://www.w3.org/TR/css-color-3/#colorunits</a>. If no color is set, the
color of the sticker defaults to <code>rgb(35, 35, 35)</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia.image.recognition.numberOfThreads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>optional</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to these examples you can define arbitrary properties
(<code>magnolia.home</code> is one example).</p>
</div>
<div class="paragraph">
<p>Substitution</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Properties can be used to prefixother path-like properties. For example,
in <code>magnolia.cache.startdir=${magnolia.home}/cache `the property
`magnolia.cache.startdir</code> is set by substituting the root directory with
property <code>magnolia.home</code>. See
<a href="WAR-file-with-multiple-configurations.html">WAR file with multiple
configurations</a> on how to use properties to target a deployment
environment.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595691_Configurationmanagement-Extendingconfiguration"><a class="anchor" href="#src-196595691_Configurationmanagement-Extendingconfiguration"></a>Extending configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can extend a configuration by defining an <code>extends</code> property and
setting its value to the source configuration you want it to inherit.
The target configuration inherits everything from the source and adds
its own exceptions. This can save time and effort as you only need to
define exceptions explicitly. The mechanism is only available in the
<code>config</code> repository.</p>
</div>
<div class="paragraph">
<p>In the example below, the <code>sportstation</code> site definition extends the
<code>travel`site definition. The definition inherits all configuration from
the `travel</code> configuration and adds its own domains,
internationalization and URI-to-repository mappings, theme and
templates. The <code>extends</code> property can point to the source configuration
with an absolute or relative path.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fallback</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sportstation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mappings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">theme</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../travel</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Overriding"><a class="anchor" href="#src-196595691_Configurationmanagement-Overriding"></a>Overriding</h3>
<div class="paragraph">
<p>Extending is additive by default, which means that configuration
specified at the extending level is added to the inherited
configuration. Setting the <code>extends</code> property to <code>override</code> changes this
behavior. An override allows the extending node to completely remove the
inherited content and replace it with its own content entries. In the
example below, the <code>travel</code> site definition supports two locales, <code>en</code>
(English) and <code>de</code> (German), whereas site <code>travel-fr</code> is targeted to
French speakers only.</p>
</div>
<div class="paragraph">
<p>The French site extends <code>travel</code>. It inherits all configuration except
the locales. An override under the locales node removes <code>en</code> and <code>de</code>.
Only the French locale <code>fr</code> defined at this level is applied. This means
that authors can enter only French content on the French site.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">templates</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">theme</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mappings</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domains</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locales</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">en</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">de</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.i18n.DefaultI18nContentSupport</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fallbackLocale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">en</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">travel-fr</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domains</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">i18n</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">locales</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fr</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">override</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../travel</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595691_Configurationmanagement-Observation"><a class="anchor" href="#src-196595691_Configurationmanagement-Observation"></a>Observation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Observation is a feature of the Java Content Repository that enables
applications to register interest in events that describe changes to a
workspace. The applications can then monitor and respond to those
events. The observation mechanism dispatches events when a persistent
change is made to the workspace. Magnolia uses observation heavily. For
instance, observation is used to reload module configurations and to
reload all objects provided by the FactoryUtil. To use observation you
must at least specify the workspace, the path to the node which should
be observed, and an event listener. The event listener&#8217;s <code>onEvent()</code>
method is called whenever there are changes in the observed node.</p>
</div>
<div class="paragraph">
<p>Magnolia provides a helper class to assist you in using observation for
your project. Use WorkspaceEventListenerRegistration . ObservationUtil
is deprecated since Magnolia 5.4.6.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595691_Configurationmanagement-Node2Bean"><a class="anchor" href="#src-196595691_Configurationmanagement-Node2Bean"></a>Node2Bean</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most configuration is stored in the config workspace. To transfer the
repository stored configuration into a Java object, a mechanism called
Node2Bean is used. Node2Bean populates a Java Bean from the content of a
repository node including sub nodes. Note that configuration details are
not restricted to the config node. The following table shows where the
Node2Bean mechanism is currently used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Where it is used</th>
<th class="tableblock halign-left valign-top">What is configured</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ServerConfiguration</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Basic server configuration: <code>defaultBaseURL</code>, <code>defaultExtension</code>,
<code>instanceUuid</code>, etc.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/information.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/information.svg"></span>
<code>defaultBaseURL</code> is the default base URL of the server root. The
property is used to create absolute links in emails or other external
systems.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VirtualURIManager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping virtual URIs to pages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FilterManagerImpl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter chain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DefaultMessagesManager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Messages for localized labels and descriptions
in the UI.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CommandsManager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.magnolia-cms.com/display/DOCS62/Commands">Commands</a> and
command catalogs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModuleManagerImpl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Module definitions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConfiguredComponentFactory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds a component configured in the
repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObservedComponentFactory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GuiceConfiguredComponentProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guice Provider that creates an object
by reading it from the repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConfiguredRendererProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RendererProvider that instantiates a
renderer from a configuration node.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConfiguredTemplateDefinitionProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TemplateDefinitionProvider that
instantiates a template from a configuration node.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For developers, module configuration (<code>ModuleManagerlmpl</code>) using the
module class is the most important current usage of Content2Bean.</p>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Node2Beaninmoduleinstances"><a class="anchor" href="#src-196595691_Configurationmanagement-Node2Beaninmoduleinstances"></a>Node2Bean in module instances</h3>
<div class="paragraph">
<p>Module configuration data is transferred into a Bean from
<code>/modules/&lt;module name&gt;/config</code>. The Bean class to build is defined in
the module descriptor XML file.</p>
</div>
<div class="paragraph">
<p><code>&lt;!DOCTYPE module SYSTEM <code>"module.dtd"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;module&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;name&gt;samples&lt;/name&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;displayName&gt;Magnolia Samples Module &lt;/displayName&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>class</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      info.magnolia.module.samples.SamplesModule`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>class</code>&gt;`</p>
</div>
<div class="paragraph">
<p><strong>Components</strong>. If a path in the config workspace is given rather than a
concrete class name, then Node2Bean is used to build the component
instance.</p>
</div>
<div class="paragraph">
<p><code># Map to a path in the config workspace</code></p>
</div>
<div class="paragraph">
<p><code>info.magnolia.cms.i18n.I18nContentSupport = /server/i18n/content</code></p>
</div>
<div class="paragraph">
<p><strong>Additional items</strong> such as components, templates and virtual URI
mappings are configured at module level.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Datatypes"><a class="anchor" href="#src-196595691_Configurationmanagement-Datatypes"></a>Data types</h3>
<div class="paragraph">
<p>Node2Bean analyses the bean&#8217;s "setter" and "adder" methods using
introspection and uses them if a suitable configuration value is
available. With "adder" methods (using the singular form of the node
names) you can populate collections and maps. With this mechanism,
Node2Bean can support all possible data types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simple data types like String, int, long, float, double, boolean (to
specify "true" you can use "true", TRUE", or "1") with the suitable
"setter" method</p>
</li>
<li>
<p>Other data types matching the "setter" method&#8217;s signature</p>
</li>
<li>
<p>Collections with String values or other data types by specifying a
class property</p>
</li>
<li>
<p>Maps with keys and values as Strings or other data types by specifying
a class property</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All sub elements are also built using Node2Bean.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Classes"><a class="anchor" href="#src-196595691_Configurationmanagement-Classes"></a>Classes</h3>
<div class="paragraph">
<p>The class used to instantiate an object through the Node2Bean mechanism
is determined through reflection or by explicitly referencing a class in
the class node data. By referencing a specific class you can override
Magnolia default configuration and implement your own caching behavior,
security mechanism and so on.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595691/diagram-node2bean.png" alt="images/download/attachments/196595691/diagram-node2bean.png"></span></p>
</div>
<div class="paragraph">
<p>Numbered items:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>config</code>: Entry point of the transformation. In the module descriptor
<code>SampleConfig</code> class is used. Set <code>text</code> and <code>number</code> properties.</p>
</li>
<li>
<p><code>sub</code>: Subbean. The class is determined using reflection if it is not
explicitly defined.</p>
</li>
<li>
<p><code>items</code>: Collection. The corresponding <code>add</code> method is used to
determine the class and populate the collection if existing.</p>
</li>
<li>
<p><code>item2</code>: Special item with its own class and additional properties.</p>
</li>
<li>
<p><code>parameters</code>: Collection of key-value pairs.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Simpledatatypes"><a class="anchor" href="#src-196595691_Configurationmanagement-Simpledatatypes"></a>Simple data types</h3>
<div class="paragraph">
<p>Values with simple data types must be defined as properties. Each
property name must match its respective setter method.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Collections"><a class="anchor" href="#src-196595691_Configurationmanagement-Collections"></a>Collections</h3>
<div class="paragraph">
<p>To configure a collection you have to create a sub node and a suitable
"setter" method:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All properties of the collection node will create simple String
entries in the collection. The properties' names are not used by
Node2Bean, only the values.</p>
</li>
<li>
<p>All sub nodes of the collection node will be treated as objects of the
type specified in the <code>class</code> property in the sub node. If no class
attribute is specified, a Map will be created instead. The sub nodes'
names are not used by Node2Bean.</p>
</li>
<li>
<p>All sub nodes of the collection node will be treated as maps unless
they have a ".". The properties' names and the sub nodes' names are not
used by Node2Bean.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Maps"><a class="anchor" href="#src-196595691_Configurationmanagement-Maps"></a>Maps</h3>
<div class="paragraph">
<p>The rules to populate a map are the same as with collections, except
that the properties' names and the sub nodes' names are used as key
values.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595691_safe-id-Q29uZmlndXJhdGlvbm1hbmFnZW1lbnQtRXhhbXBsZTpjYWNoZWNvbmZpZ3VyYXRpb24"><a class="anchor" href="#src-196595691_safe-id-Q29uZmlndXJhdGlvbm1hbmFnZW1lbnQtRXhhbXBsZTpjYWNoZWNvbmZpZ3VyYXRpb24"></a>Example: cache configuration</h3>
<div class="paragraph">
<p>The configuration creates an object of the type CacheConfiguration .
This class needs public suitable setter or adder methods.</p>
</div>
<div class="paragraph">
<p>` <code>public</code> <code>void</code> setCachePolicy(CachePolicy cachePolicy);`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setFlushPolicy(FlushPolicy flushPolicy);`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setBrowserCachePolicy(BrowserCachePolicy browserCachePolicy);`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setExecutors(Map executors);`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> addExecutor(String name, CachePolicyExecutor executor);`</p>
</div>
<div class="paragraph">
<p>Note that all necessary setters are available. For the <code>executors</code> node
there are setter and adder methods. As the adder is more specific the
<code>setExecutors</code> method will not be used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cache</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">config</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configurations</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cachePolicy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">flushPolicy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">browserCachePolicy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executors</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This is what happens with <code>setCachePolicy(CachePolicy cachePolicy)</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cache</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">config</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configurations</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cachePolicy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">voters</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">urls</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">deny</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">resources</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.cache.cachepolicy.Default</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Since there is a class property defined, let&#8217;s look at the Default class
that Node2Bean uses to create the new object.</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>void`</code> setVoters(VoterSet voters);`</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s have a look at the addExecutor
<code>(String name, CachePolicyExecutor executor)</code> method in
CacheConfiguration and the configuration:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bypass</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.cache.executor.Bypass</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">store</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useCache</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>As this method has two arguments, the node name <code>bypass</code> is passed as
the first argument and a <code>Bypass</code> object as the second argument. Because
<code>CachePolicyExecutor</code> is an interface, the implementing class is
specified.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595691_Configurationmanagement-Voters"><a class="anchor" href="#src-196595691_Configurationmanagement-Voters"></a>Voters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Voters are used in Magnolia whenever configuration values are not
assigned at startup but instead depend on rules. For example the cache
module has to determine if a requested resource may be cached or not.
The rules to determine values should be configurable. The rules are
user-defined using voters which evaluate established criteria by
determining <em>true</em> or <em>false</em> of each rule. Voters are currently used
for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Filter configuration: uses voters to determine whether a filter should
be executed or bypassed.</p>
</li>
<li>
<p>Cache configuration: uses voters to determine whether a file should be
cached or not.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The basic concept of voters uses Voter classes which calculate an <code>int</code>
vote value, where positive (1, 2, 3, &#8230;&#8203;) results are treated as "yes"
or "true" and (0, -1, -2, &#8230;&#8203;) results are treated as "no" or "false".
If you have a set of voters, then the result of a voting is the largest
absolute result. If there are two voters with the same absolute result,
then the one with the higher positive value will be taken.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Vote results</th>
<th class="tableblock halign-left valign-top">VoterSet result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3, 0, 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3, 0, 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-3, 0, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For most of the "real world" voters only boolean results make sense.
These boolean voters return "1" for a "true" and "0" for a "false"
result.</p>
</div>
<div class="sect2">
<h3 id="src-196595691_Configurationmanagement-Voterexamples"><a class="anchor" href="#src-196595691_Configurationmanagement-Voterexamples"></a>Voter examples</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Voter</th>
<th class="tableblock halign-left valign-top">Parameters</th>
<th class="tableblock halign-left valign-top">Boolean</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AuthenticatedVoter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checks if the current user is
authenticated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExtensionVoter</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>allow: comma separated lists of allowed extensions.</p>
</li>
<li>
<p>deny: comma separated lists of denied extensions.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Returns false if the extension is not a valid mimetype (as configured
in <code>config:/server/MIMEMapping</code>.</p>
</li>
<li>
<p>Returns false if the allow list exists, but the extension is not in
the allow list.</p>
</li>
<li>
<p>Returns false if the deny list exists and the extension is in the deny
list.</p>
</li>
<li>
<p>Returns true in any other cases.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For further information, please see the voters package summary.</p>
</div>
<div class="paragraph">
<p>Architecture</p>
</div>
<div class="paragraph">
<p>Content storage and structure</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
