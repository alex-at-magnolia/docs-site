<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Monitoring - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/administration/Monitoring.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Monitoring.html">master</a>
    <a class="version" href="../../6.2.1/core/administration/Monitoring.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Monitoring.html">Monitoring - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#core/cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#core/cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#core/cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#core/cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Monitoring - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Administration.html" class="bare">Administration.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Administration.html">Magnolia 6.2 documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595868"><a class="anchor" href="#src-196595868"></a>Monitoring</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Monitoring is a process that detects, diagnoses, remedies and reports an
application&#8217;s performance and availability to ensure that it meets user
expectations. Magnolia provides built-in tools for logging and debugging
application behavior. It also supports Java Management Extensions (JMX),
a Java technology for managing and monitoring. These mechanisms provide
developers, administrators and especially the support team detailed
context for application failures.</p>
</div>
<div class="sect2">
<h3 id="src-196595868_Monitoring-anc-log4j2"><a class="anchor" href="#src-196595868_Monitoring-anc-log4j2"></a><span id="src-196595868_Monitoring-anc-log4j22 " class="confluence-anchor-link">#</span>#</h3>

</div>
<div class="sect2">
<h3 id="src-196595868_Monitoring-Log4j2"><a class="anchor" href="#src-196595868_Monitoring-Log4j2"></a>Log4j 2</h3>
<div class="paragraph">
<p>Magnolia uses <a href="https://logging.apache.org/log4j/2.x/">Apache Log4j 2</a>, a
Java-based logging utility. It logs events in Magnolia core code as well
as any modules that support logging. Logging is configured in three
places:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Location</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log4j2.xml</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>/WEB-INF/config/default</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A permanent configuration which persists restarts. In the XML file you
can also choose whether you wish to log a
<a href="#src-196595868_Monitoring-Classorpackage">Class or package</a>. Any
changes made to the file will require a restart of the server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log Tools app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tools menu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A transient configuration which resets after
a restart. In the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Log+Tools+app">Log Tools
app</a> you can choose whether you wish to log a Class or package. Any
changes made in the app are active immediately. This tool is useful for
ad-hoc debugging of production issues since you don&#8217;t need to restart
Magnolia to turn it on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audit Logging</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="literalblock">
<div class="content">
<pre>/server/auditLogging</pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="Audit.html">Audit logging</a> means tracking user activity in the
system such as who signed in and what they did. Here you select the
actions you want to audit such as login, create, activate and so on.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Debuggingyourconfiguration"><a class="anchor" href="#src-196595868_Monitoring-Debuggingyourconfiguration"></a>Debugging your configuration</h4>
<div class="paragraph">
<p>It is possible to debug the log4j 2 configuration itself. Add the status
attribute to the Configuration element of the <code>log4j2.xml</code> configuration
file.</p>
</div>
<div class="paragraph">
<p><code>&lt;?<code>xml</code> <code>version</code>=<code>"1.0"</code> <code>encoding</code>=<code>"UTF-8"</code>?&gt;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>Configuration</code> <code>status</code>=<code>"debug"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p><code>&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p><code>&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>For more information on this topic see
<a href="https://logging.apache.org/log4j/2.x/manual/configuration.html#StatusMessages">Log4j
2 Status Messages</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Loggers"><a class="anchor" href="#src-196595868_Monitoring-Loggers"></a>Loggers</h4>
<div class="paragraph">
<p>Loggers define what data is logged and how much detail is provided.
Think of this as a configuration for the classes and packages you want
to log.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example from the default <code>log4j2.xml</code>.</p>
</div>
<div class="paragraph">
<p><code>&lt;!-- Publishing - additivity is true so logs also go to sub-categories' appenders -&#8594;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>Logger</code> <code>name</code>=<code>"info.magnolia.publishing"</code> <code>level</code>=<code>"INFO"</code> <code>additivity</code>=<code>"true"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>AppenderRef</code> <code>ref</code>=<code>"log-publishing"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>Logger</code>&gt;</code></p>
</div>
<div class="sect4">
<h5 id="src-196595868_Monitoring-Classorpackage"><a class="anchor" href="#src-196595868_Monitoring-Classorpackage"></a>Class or package</h5>
<div class="paragraph">
<p>The choice between logging a single class or the whole package depends
on whether the issue is limited to a single class. In the example above
we log everything within the package <code>info.magnolia.publishing</code>.</p>
</div>
<div class="paragraph">
<p>To summarize:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To log a specific class, use the fully-qualified class name as the
category name.</p>
</li>
<li>
<p>To log a whole package, use the fully-qualified package name as the
category name.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="src-196595868_Monitoring-Level"><a class="anchor" href="#src-196595868_Monitoring-Level"></a>Level</h5>
<div class="paragraph">
<p>Magnolia uses the standard log4j
<a href="https://logging.apache.org/log4j/2.0/log4j-api/apidocs/org/apache/logging/log4j/Level.html">logging
levels</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Level</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OFF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The highest possible rank and is intended to turn off logging.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FATAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Severe errors that cause premature termination. Visible in
console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other runtime errors or unexpected conditions. Visible in
console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use of deprecated APIs, poor use of API, "almost" errors, other
runtime situations that are undesirable or unexpected, but not
necessarily "wrong". Visible in console.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interesting runtime events (startup/shutdown). Visible in
console, so be conservative and keep to a minimum.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEBUG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detailed information on the flow through the system. Written to
logs only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRACE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More detailed information. Written to logs only.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Appenders"><a class="anchor" href="#src-196595868_Monitoring-Appenders"></a>Appenders</h4>
<div class="paragraph">
<p>Appenders define where the output is directed. The following appenders
are configured by default in <code>log4j2.xml</code>. They write messages to the
console and to various log files.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Appender</th>
<th class="tableblock halign-left valign-top">Writes to</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>console</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Console</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default output for DEBUG messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-debug</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-debug.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default output for DEBUG messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-error.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default output for ERROR messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-publishing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-publishing.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content publishing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-bootstrap</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bootstrap.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bootstrap process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-access</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-access.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System access.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-audit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-audit.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="Audit.html">Audit</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log-form</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>magnolia-form.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Form+module#Formmodule-Loggingformdata">Logging
form data</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mail</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sends mail.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled by default.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example: The <code>log-publication</code> appender is used to log events related to
content publishing.</p>
</div>
<div class="paragraph">
<p><code>&lt;RollingFile name=``"sync-log-publishing"</code></p>
</div>
<div class="paragraph">
<p>`             fileName=<code>`"${magnolia.logs.dir}/magnolia-publishing.log"</code></p>
</div>
<div class="paragraph">
<p>`             filePattern=<code>`"${magnolia.logs.dir}/magnolia-publishing-%i.log"</code></p>
</div>
<div class="paragraph">
<p>`             append=<code>"true"</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;PatternLayout pattern=<code>"%-5p %c %d{dd.MM.yyyy HH:mm:ss}&#8201;&#8212;&#8201;%m%n"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;ThresholdFilter level=<code>"ERROR"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;Policies&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;SizeBasedTriggeringPolicy size=<code>"1MB"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/Policies&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;DefaultRolloverStrategy max=<code>"5"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/RollingFile&gt;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;Async name=<code>"log-publishing"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;AppenderRef ref=<code>"sync-log-publishing"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/Async&gt;</code></p>
</div>
<div class="paragraph">
<p>It is actually two appenders: <code>log-publishing</code> appender uses the <code>Async</code>
class to queue up the messages while the referenced
<code>sync-log-publishing</code> appender does the actually writing of the messages
to the <code>magnolia-publishing.log</code> file.</p>
</div>
<div class="paragraph">
<p>All appenders that write to a log file use the <code>RollingFile</code> class.
Rolling means that the system takes a backup of the log file when its
size reaches a limit set in the <code>SizeBasedTriggeringPolicy</code></p>
</div>
<div class="paragraph">
<p>(1 MB by default). The old file is date-stamped and a new file is
started in the same directory.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkRlYnVnZ2luZ2NvbnRlbnRwdWJsaWNhdGlvbg"><a class="anchor" href="#src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkRlYnVnZ2luZ2NvbnRlbnRwdWJsaWNhdGlvbg"></a>Example: Debugging content publication</h4>
<div class="paragraph">
<p>This example shows how to log more detail about content publication. It
is useful when publication fails and the default INFO messages do not
provide enough information to pinpoint the root cause.</p>
</div>
<div class="paragraph">
<p>Add the Logger to <code>log4j2.xml</code> if not already there:</p>
</div>
<div class="paragraph">
<p><code>&lt;!-- Publishing - additivity is <code>true</code> so logs also go to sub-categories' appenders -&#8594;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;Logger name=<code>"info.magnolia.publishing"</code> level=<code>"INFO"</code> additivity=<code>"true"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;AppenderRef ref=<code>"log-publishing"</code>/&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/Logger&gt;</code></p>
</div>
<div class="paragraph">
<p>Each category references the <code>log-publishing</code> appender which sends
output to the <code>magnolia-publication.log</code> file. Since <code>additivity</code> is
<code>true</code>, output is also sent to ancestor appenders, in this case the
console.</p>
</div>
<div class="paragraph">
<p>Priority is set at INFO level by default. If more information is needed,
this is the detail that needs to be changed.</p>
</div>
<div class="paragraph">
<p>To change the level to DEBUG:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the Magnolia instance.</p>
</li>
<li>
<p>Change <code>priority</code> in the three categories to DEBUG.</p>
</li>
<li>
<p>Save the file.</p>
</li>
<li>
<p>Start Magnolia.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To test the new configuration, activate some content and view the logged
DEBUG messages in the <code>magnolia-publication.log</code>.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Note that by default there is a temp folder called <code>tmp</code> configured in
<code>magnolia.properties</code> in the actual webapp. This folder contains various
<code>exchange_*.xml.gz</code> files that are stored when debugging is enabled for
publication. The location of the files is specified by the
<code>magnolia.upload.tmpdir</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196595868_Monitoring-LogToolsapp"><a class="anchor" href="#src-196595868_Monitoring-LogToolsapp"></a>Log Tools app</h3>
<div class="paragraph">
<p>It is also possible to adjust the log4j settings from inside a running
instance. This is a transient configuration which resets after a
restart. From the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Log+Tools+app">Log Tools
app</a> you can choose whether you wish to log a Class or package. Any
changes made in the app are active immediately. This tool is useful for
ad-hoc debugging of production issues since you don&#8217;t need to restart
Magnolia to turn it on.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595868_Monitoring-Capturingrequestandresponseheaders"><a class="anchor" href="#src-196595868_Monitoring-Capturingrequestandresponseheaders"></a>Capturing request and response headers</h3>
<div class="paragraph">
<p>Request and response headers are information passed between a browser
and a web server. Headers consist of
<a href="http://en.wikipedia.org/wiki/List_of_HTTP_header_fields">fields</a> that
define the operating parameters of the HTTP transaction. Capturing the
headers tells you what records are passed and provides a clue for
troubleshooting.</p>
</div>
<div class="paragraph">
<p>The request header contains details of what the browser wants and what
it will accept back from the server. It also contains the type, version
and capabilities of the browser so that the server returns compatible
data.</p>
</div>
<div class="paragraph">
<p>Example: Request header</p>
</div>
<div class="paragraph">
<p><code>User-Agent: Mozilla/<code>5.0</code> (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/<code>534.50</code> (KHTML, like Gecko) Version/<code>5.1</code> Safari/``534.50</code></p>
</div>
<div class="paragraph">
<p><code>Accept: text/html,application/xhtml+xml,application/xml;q=<code>0.9</code>,<strong>/</strong>;q=``0.8</code></p>
</div>
<div class="paragraph">
<p><code>Referer: http:`</code>//demopublic.magnolia-cms.com/demo-project.html`</p>
</div>
<div class="paragraph">
<p><code>Cache-Control: max-age=``0</code></p>
</div>
<div class="paragraph">
<p>The response header contains the date, size and type of file that the
server is sending back to the client and data about the server itself.
The header is attached to the files being sent back to the client.</p>
</div>
<div class="paragraph">
<p>Example: Response header</p>
</div>
<div class="paragraph">
<p><code>Date: Thu, <code>13</code> Oct <code>2011</code> <code>11</code>:<code>09</code>:<code>41</code> GMT</code></p>
</div>
<div class="paragraph">
<p><code>Content-Encoding: gzip</code></p>
</div>
<div class="paragraph">
<p><code>Connection: Keep-Alive</code></p>
</div>
<div class="paragraph">
<p><code>Content-Length: ``3229</code></p>
</div>
<div class="paragraph">
<p><code>Pragma: no-cache</code></p>
</div>
<div class="paragraph">
<p><code>X-Magnolia-Registration: Registered</code></p>
</div>
<div class="paragraph">
<p><code>Last-Modified: Thu, <code>13</code> Oct <code>2011</code> <code>11</code>:<code>01</code>:<code>26</code> GMT</code></p>
</div>
<div class="paragraph">
<p><code>Server: Apache/<code>2.2</code>.<code>14</code> (Ubuntu)</code></p>
</div>
<div class="paragraph">
<p><code>Vary: Accept-Encoding</code></p>
</div>
<div class="paragraph">
<p><code>Content-Type: text/html;charset=UTF-``8</code></p>
</div>
<div class="paragraph">
<p><code>Cache-Control: no-cache, no-store, must-revalidate, max-age=``0</code></p>
</div>
<div class="paragraph">
<p><code>Keep-Alive: timeout=<code>15</code>, max=``100</code></p>
</div>
<div class="paragraph">
<p><code>Expires: Thu, <code>01</code> Jan <code>1970</code> <code>00</code>:<code>00</code>:<code>00</code> GMT</code></p>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Browserextensions"><a class="anchor" href="#src-196595868_Monitoring-Browserextensions"></a>Browser extensions</h4>
<div class="paragraph">
<p>To capture the headers, you can use a browser extension or plugin that
displays headers for the currently open page. A plugin&#8217;s advantage over
a <a href="#src-196595868_Monitoring-Websites">Websites</a> is that you can also
use it for sites that only exist in your local environment or intranet.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Safari:
<a href="http://developer.apple.com/technologies/safari/developer-tools">Developer
Tools</a></p>
</li>
<li>
<p>Firefox:
<a href="https://addons.mozilla.org/en-US/firefox/addon/web-developer/">Web
Developer</a> or <a href="http://livehttpheaders.mozdev.org/">Live HTTP Headers</a>
add-on</p>
</li>
<li>
<p>Chrome:
<a href="https://developers.google.com/chrome-developer-tools/docs/overview">Developer
Tools</a></p>
</li>
<li>
<p>Internet Explorer: <a href="http://www.fiddler2.com/fiddler2/">Fiddler</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To view headers in Developer Tools:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Developer Tools.</p>
</li>
<li>
<p>Go to <strong>Network</strong>.</p>
</li>
<li>
<p>Reload the page.</p>
</li>
<li>
<p>Select the page in the list.</p>
</li>
<li>
<p>Go to <strong>Headers</strong> tab.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Commandlinetools"><a class="anchor" href="#src-196595868_Monitoring-Commandlinetools"></a>Command line tools</h4>
<div class="paragraph">
<p>Any Unix-like system likely has these command line tools already
installed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://en.wikipedia.org/wiki/CURL">cURL</a><br>
<code>$ curl --head &lt;url&gt;</code></p>
</li>
<li>
<p><a href="http://en.wikipedia.org/wiki/Wget">wget</a><br>
<code>$ wget --server-response &lt;url&gt;</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Applications"><a class="anchor" href="#src-196595868_Monitoring-Applications"></a>Applications</h4>
<div class="paragraph">
<p>Rich client applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.wireshark.org/">Wireshark</a>. See
<a href="http://wiki.wireshark.org/Hyper_Text_Transfer_Protocol">Capturing HTTP
traffic</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Websites"><a class="anchor" href="#src-196595868_Monitoring-Websites"></a>Websites</h4>
<div class="paragraph">
<p>A header-sniffing website can report headers for a site that resides on
the public Internet. These tools do not work for a site that exists only
in your local environment.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://web-sniffer.net/">Web-Sniffer</a></p>
</li>
<li>
<p><a href="http://www.rexswain.com/httpview">Rex Swain&#8217;s HTTP Viewer</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196595868_Monitoring-JMXmonitoring"><a class="anchor" href="#src-196595868_Monitoring-JMXmonitoring"></a>JMX monitoring</h3>
<div class="paragraph">
<p>You can observe Java Virtual Machine and application server performance
through Java Management Extensions (JMX). JMX is Java technology used
for managing and monitoring applications and system objects. Objects are
represented as management beans (MBean). JMX is supported by many Java
application servers such as Apache Tomcat, JBoss AS and IBM WebSphere.</p>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-JConsole"><a class="anchor" href="#src-196595868_Monitoring-JConsole"></a>JConsole</h4>
<div class="paragraph">
<p><a href="http://docs.oracle.com/javase/6/docs/technotes/tools/share/jconsole.html">Java
Monitoring and Management Console</a> (JConsole) is a graphical tool that
supports JMX monitoring and management on a local or remote machine. It
draws graphs for visual representation of performance and resource
consumption, which makes it easier to observe changes over time. As a
downside, the results are not as easy to export as with
<a href="#src-196595868_Monitoring-Jmxterm">Jmxterm</a>.</p>
</div>
<div class="sect4">
<h5 id="src-196595868_Monitoring-StartingJConsole"><a class="anchor" href="#src-196595868_Monitoring-StartingJConsole"></a>Starting JConsole</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start JConsole: <code>$ jconsole</code></p>
</li>
<li>
<p>Connect to a process:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Local</strong>: Select a Java process running on the local machine. Magnolia
running on Tomcat would be listed as
<code>org.apache.catalina.startup.Boostrap start</code>.</p>
</li>
<li>
<p><strong>Remote</strong>: Type a remote process location as <code>&lt;hostname&gt;:&lt;port&gt;</code> or
<code>service:jmx:&lt;protocol&gt;:&lt;sap&gt;</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Connect</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595868/jconsole-connect.png" alt="images/download/attachments/196595868/jconsole-connect.png"></span></p>
</div>
<div class="paragraph">
<p>See
<a href="http://docs.oracle.com/javase/1.5.0/docs/guide/management/jconsole.html">Using
JConsole</a> for instructions on how to view and interpret the charts.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595868_Monitoring-SavingChartData"><a class="anchor" href="#src-196595868_Monitoring-SavingChartData"></a>Saving Chart Data</h5>
<div class="paragraph">
<p>To save data from a JConsole chart in CSV format:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click the chart and select <strong>Save data as&#8230;&#8203;</strong></p>
</li>
<li>
<p>Specify a file to save.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The CSV file can be imported into a spreadsheet to re-create the chart.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkZsdXNoaW5ndGhlY2FjaGVpbkpDb25zb2xl"><a class="anchor" href="#src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkZsdXNoaW5ndGhlY2FjaGVpbkpDb25zb2xl"></a>Example: Flushing the cache in JConsole</h5>
<div class="paragraph">
<p>JMX is not only used to observe events. You can also invoke operations.
In this example the server cache is flushed on the public instance using
JConsole:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open JConsole and connect to the Magnolia process.</p>
</li>
<li>
<p>Go to the <strong>MBeans</strong> tab.</p>
</li>
<li>
<p>Expand <strong>Magnolia &gt; Cachemonitor &gt; magnoliaPublic &gt; Operations</strong>. This
is a list of invokable operations provided by the CacheMonitor MBean.</p>
</li>
<li>
<p>Click <strong>flushAll</strong> to invoke the flush operation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595868/jconsole-flushall.png" alt="images/download/attachments/196595868/jconsole-flushall.png"></span></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196595868_Monitoring-Jmxterm"><a class="anchor" href="#src-196595868_Monitoring-Jmxterm"></a>Jmxterm</h4>
<div class="paragraph">
<p><a href="http://wiki.cyclopsgroup.org/jmxterm">Jmxterm</a> is a command line JMX
tool. Unlike JConsole, it does not have a graphical user interface.
However, its big advantage is that Magnolia Support can give you a
script that you can paste into your Jmxterm and run it. You can also
write the Jmxterm output to a file and attach it to a support ticket.
This makes it easier to collect and analyze specific data. Jmxterm is
good for point-in-time observation whereas JConsole is better for
visualizing events over a longer period.</p>
</div>
<div class="sect4">
<h5 id="src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkZsdXNoaW5ndGhlY2FjaGVpbkpteHRlcm0"><a class="anchor" href="#src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOkZsdXNoaW5ndGhlY2FjaGVpbkpteHRlcm0"></a>Example: Flushing the cache in Jmxterm</h5>
<div class="paragraph">
<p>Start Jmxterm.</p>
</div>
<div class="paragraph">
<p>`$ java -jar jmxterm.jar `</p>
</div>
<div class="paragraph">
<p><code>Welcome to JMX terminal. Type <code>"help"</code> <code>for</code> available commands.</code></p>
</div>
<div class="paragraph">
<p>The <code>jvms</code> command tells you what Java processes are running on the
machine.</p>
</div>
<div class="paragraph">
<p><code>$&gt;jvms</code></p>
</div>
<div class="paragraph">
<p><code>5622`</code>     ( ) - jmxterm.jar`</p>
</div>
<div class="paragraph">
<p><code>4623`</code>     ( ) - sun.tools.jconsole.JConsole`</p>
</div>
<div class="paragraph">
<p><code>2094`</code>     (m) - org.apache.catalina.startup.Bootstrap start`</p>
</div>
<div class="paragraph">
<p>Open the connection to the Catalina JVM using the process ID.</p>
</div>
<div class="paragraph">
<p><code>$&gt;open ``2094</code></p>
</div>
<div class="paragraph">
<p><code>#Connection to <code>2094</code> is opened</code></p>
</div>
<div class="paragraph">
<p>The <code>domains</code> command lists the domains available in the Java process.</p>
</div>
<div class="paragraph">
<p><code>$&gt;domains</code></p>
</div>
<div class="paragraph">
<p><code>#following domains are available</code></p>
</div>
<div class="paragraph">
<p><code>Catalina</code></p>
</div>
<div class="paragraph">
<p><code>JMImplementation</code></p>
</div>
<div class="paragraph">
<p><code>Magnolia</code></p>
</div>
<div class="paragraph">
<p><code>Users</code></p>
</div>
<div class="paragraph">
<p><code>com.sun.management</code></p>
</div>
<div class="paragraph">
<p><code>java.lang</code></p>
</div>
<div class="paragraph">
<p><code>java.util.logging</code></p>
</div>
<div class="paragraph">
<p><code>net.sf.ehcache</code></p>
</div>
<div class="paragraph">
<p>Set the domain to <code>Magnolia</code>.</p>
</div>
<div class="paragraph">
<p><code>$&gt;domain Magnolia</code></p>
</div>
<div class="paragraph">
<p><code>#domain is set to Magnolia</code></p>
</div>
<div class="paragraph">
<p>The <code>beans</code> command provides a list of MBeans in the domain. Here are
the beans in the Magnolia domain.</p>
</div>
<div class="paragraph">
<p><code>$&gt;beans</code></p>
</div>
<div class="paragraph">
<p><code>#domain = Magnolia:</code></p>
</div>
<div class="paragraph">
<p><code>Magnolia:domain=magnoliaAuthor,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code>Magnolia:domain=magnoliaAuthor,type=JCRStats</code></p>
</div>
<div class="paragraph">
<p><code>Magnolia:domain=magnoliaPublic,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code>Magnolia:domain=magnoliaPublic,type=JCRStats</code></p>
</div>
<div class="paragraph">
<p>We need the <code>CacheMonitor</code> bean for the public instance.</p>
</div>
<div class="paragraph">
<p><code>$&gt;bean Magnolia:domain=magnoliaPublic,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code>#bean is set to Magnolia:domain=magnoliaPublic,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code>info</code> tells you what a bean does. The <code>CacheMonitor</code> bean provides
several attributes and operations.</p>
</div>
<div class="paragraph">
<p><code>$&gt;info</code></p>
</div>
<div class="paragraph">
<p><code>#mbean = Magnolia:domain=magnoliaPublic,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code>#<code>class</code> name = info.magnolia.module.cache.mbean.CacheMonitor</code></p>
</div>
<div class="paragraph">
<p><code># attributes</code></p>
</div>
<div class="paragraph">
<p>`  %<code>0</code>   - All (java.util.Map, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>1</code>   - Bypasses (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>2</code>   - CachedKeysCount (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>3</code>   - CachedUUIDsCount (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>4</code>   - DomainAccesses (java.util.Map, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>5</code>   - Flushes (java.util.Map, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>6</code>   - Hits (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>7</code>   - Puts (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>8</code>   - StartCalls (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p>`  %<code>9</code>   - StopCalls (<code>int</code>, r)`</p>
</div>
<div class="paragraph">
<p><code># operations</code></p>
</div>
<div class="paragraph">
<p>`  %<code>0</code>   - <code>void</code> flushAll()`</p>
</div>
<div class="paragraph">
<p>`  %<code>1</code>   - <code>void</code> flushByUUID(java.lang.String p1,java.lang.String p2)`</p>
</div>
<div class="paragraph">
<p><code>#there&#8217;s no notifications</code></p>
</div>
<div class="paragraph">
<p>Invoke the <code>flushAll</code> operation to flush the cache.</p>
</div>
<div class="paragraph">
<p><code>$&gt;run flushAll</code></p>
</div>
<div class="paragraph">
<p><code>#calling operation flushAll of mbean Magnolia:domain=magnoliaPublic,type=CacheMonitor</code></p>
</div>
<div class="paragraph">
<p>`#operation returns: `</p>
</div>
<div class="paragraph">
<p><code>null</code></p>
</div>
<div class="paragraph">
<p>Let&#8217;s see how many times the cache has been flushed by checking the
<code>Flushes</code> attribute with the <code>get</code> command. This particular operation
does not return any value, just <code>null</code>.</p>
</div>
<div class="paragraph">
<p>`$&gt;get Flushes `</p>
</div>
<div class="paragraph">
<p><code>#mbean = Magnolia:domain=magnoliaPublic,type=CacheMonitor:</code></p>
</div>
<div class="paragraph">
<p>`Flushes = { `</p>
</div>
<div class="paragraph">
<p>`  uuid-key-mapping = <code>3</code>;`</p>
</div>
<div class="paragraph">
<p>`  <code>default</code> = <code>3</code>;`</p>
</div>
<div class="paragraph">
<p>` };`</p>
</div>
<div class="paragraph">
<p>Three times, it seems.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOlJ1bm5pbmdhSm14dGVybXNjcmlwdA"><a class="anchor" href="#src-196595868_safe-id-TW9uaXRvcmluZy1FeGFtcGxlOlJ1bm5pbmdhSm14dGVybXNjcmlwdA"></a>Example: Running a Jmxterm script</h5>
<div class="paragraph">
<p>Jmxterm can read a script file with the <code>-i &lt;input script&gt;</code> command line
option.</p>
</div>
<div class="paragraph">
<p>Save the following script as <code>script.txt</code>:</p>
</div>
<div class="paragraph">
<p><code>open &lt;JVM process ID&gt;</code></p>
</div>
<div class="paragraph">
<p><code>get -d Magnolia -b Magnolia:domain=magnoliaPublic,type=JCRStats SessionCount</code></p>
</div>
<div class="paragraph">
<p><code>get -d Magnolia -b Magnolia:domain=magnoliaPublic,type=CacheMonitor All</code></p>
</div>
<div class="paragraph">
<p><code>quit</code></p>
</div>
<div class="paragraph">
<p>Replace <code>&lt;JVM process ID&gt;</code> with the ID of the Java Virtual Machine that
is executing the Magnolia application. You can find it with
<code>ps | grep jvm</code>.</p>
</div>
<div class="paragraph">
<p>Execute the script with:</p>
</div>
<div class="paragraph">
<p><code>$ java -jar jmxterm.jar -n -i script.txt -o output.txt</code></p>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-n</code> sets Jmxterm to non-interactive mode.</p>
</li>
<li>
<p><code>-i &lt;input script&gt;</code> reads the script.</p>
</li>
<li>
<p><code>-o &lt;output file&gt;</code> writes the output to a file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You should get results like this in the output file:</p>
</div>
<div class="paragraph">
<p><code>SessionCount = <code>12</code>;</code></p>
</div>
<div class="paragraph">
<p><code>CachedUUIDsCount = <code>7</code>;</code></p>
</div>
<div class="paragraph">
<p>MIME type mapping</p>
</div>
<div class="paragraph">
<p>Audit</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
