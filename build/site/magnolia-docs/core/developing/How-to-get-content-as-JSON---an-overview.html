<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to get content as JSON - an overview - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/developing/How-to-get-content-as-JSON---an-overview.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="How-to-get-content-as-JSON---an-overview.html">master</a>
    <a class="version" href="../../6.2.1/core/developing/How-to-get-content-as-JSON---an-overview.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="How-to-get-content-as-JSON---an-overview.html">How to get content as JSON - an overview - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">How to get content as JSON - an overview - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Developing.html" class="bare">Developing.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Developing.html">Magnolia 6.2 documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596416"><a class="anchor" href="#src-196596416"></a>How to get content as JSON - an overview</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/jsonfn">jsonfn</a></p>
</li>
<li>
<p><a href="REST-API.html">REST API</a></p>
</li>
<li>
<p><a href="https://hd.magnolia-cms.com/">Headless Documentation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This page provides an overview of the different ways of retrieving JSON
for JCR-based content in Magnolia as well as listing their respective
advantages and disadvantages.</p>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-MagnoliaRESTdeliveryAPI"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-MagnoliaRESTdeliveryAPI"></a>Magnolia REST delivery API</h3>
<div class="paragraph">
<p>The <code>delivery</code> API is a Magnolia REST resource introduced with version
2.0 of the Magnolia REST modules. We recommend you use
<a href="Delivery-endpoint-API-v2.html">delivery endpoint API v2</a> to benefit
from all the latest features.</p>
</div>
<div class="paragraph">
<p>This REST resource is highly customizable. You can define multiple
endpoint configurations to serve different needs. Each configured
endpoint is accessed through a distinct `endpointPath `and provides two
sub-resources. The sub-resources can be called with HTTP GET both to
read a node (and its subnodes) by a given path and to query nodes.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong> Find a tour with the word "Japan" in its description. Return
only the variant in the German language:</p>
</div>
<div class="paragraph">
<p><code>curl -g -G <code>'http://localhost:8080/magnoliaAuthor/.rest/tours'</code> --data-urlencode <code>"description[like]=%Japan%"</code> \</code></p>
</div>
<div class="paragraph">
<p>` -H <code>"Accept-Language: de-DE"</code> -u superuser:superuser`</p>
</div>
<div class="paragraph">
<p>Click to see the resulting JSON</p>
</div>
<div class="paragraph">
<p><code>{</code></p>
</div>
<div class="paragraph">
<p>`  <code>"results"</code>: [`</p>
</div>
<div class="paragraph">
<p>`    {`</p>
</div>
<div class="paragraph">
<p>`      <code>"@name"</code>: <code>"Kyoto"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"@path"</code>: <code>"/magnolia-travels/Kyoto"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"@id"</code>: <code>"b475f27e-2929-427b-9517-815118a3b36e"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"@nodeType"</code>: <code>"mgnl:content"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"body"</code>: <code>"&lt;p&gt;Erleben Sie die Sch&ouml;nheit, die Kyoto durchdringt und umgibt. Kyoto ist ber&uuml;hmt f&uuml;r viele Dinge, darunter unz&auml;hlige &lt;a href=\"http://www.japan-guide.com/e/e2058.html\" target=\"_blank\"&gt;Tempel&lt;/a&gt;, &lt;a href=\"http://www.japan-guide.com/e/e2059.html\" target=\"_blank\"&gt;Schreine&lt;/a&gt; und andere faszinierende historische Bauwerke.&lt;/p&gt;\n&lt;p&gt;Kommen Sie mit uns auf einen Besuch der Stadt der zehntausend Schreine. Wir besuchen To-ji, Ginkaku-ji, Kōzan-ji und ihre bemerkenswerten G&auml;rten, bevor wir einen Abstecher zu den Bergen in der Umgebung der Stadt machen. Sie werden es genie&szlig;en, einen Tag im gr&uuml;nen Miyama und einen Tag mit Wandern in Shizuhara zu verbringen. Sie werden nie wieder wie bisher &uuml;ber Japan denken.&lt;/p&gt; "</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"name"</code>: <code>"Kyoto"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"description"</code>: <code>"Die natürliche Seite Japans"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"destination"</code>: [`</p>
</div>
<div class="paragraph">
<p>`        <code>`"7ec72c48-c33f-418e-b2ff-44cfb4bbb1f2"</code></p>
</div>
<div class="paragraph">
<p>`      ],`</p>
</div>
<div class="paragraph">
<p>`      <code>"location"</code>: <code>"Kyoto, Japan"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"tourTypes"</code>: [`</p>
</div>
<div class="paragraph">
<p>`        <code>"d2245867-ecaa-4b4e-8743-e0c939be68b7"</code>,`</p>
</div>
<div class="paragraph">
<p>`        <code>`"415025c6-e4b5-4506-9384-34f428a52104"</code></p>
</div>
<div class="paragraph">
<p>`      ],`</p>
</div>
<div class="paragraph">
<p>`      <code>"author"</code>: <code>"Magnolia Travels"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"duration"</code>: <code>"7"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"image"</code>: <code>"jcr:44689d29-5966-4d41-8fd4-2dc7da783528"</code>,`</p>
</div>
<div class="paragraph">
<p>`      <code>"@nodes"</code>: []`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`  ]`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>This result is returned for the endpoint called <code>ep</code> with the following
configuration:</p>
</div>
<div class="paragraph">
<p><code>class`</code>: info.magnolia.rest.delivery.jcr.v2.JcrDeliveryEndpointDefinition`</p>
</div>
<div class="paragraph">
<p><code>workspace: tours</code></p>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Pros"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Pros"></a>Pros</h4>
<div class="ulist">
<ul>
<li>
<p>Convenient and simple to use JSON structure.</p>
</li>
<li>
<p>Supports RESTful URLs.</p>
</li>
<li>
<p>Highly configurable via YAML file in a
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Light+modules">light module</a>
or in the JCR <code>configuration</code> workspace.</p>
</li>
<li>
<p>Supports multiple endpoint configurations to serve different needs.</p>
</li>
<li>
<p>Provides a fine-grained security.</p>
</li>
<li>
<p>Supports
<a href="Requesting-localized-content-with-the-delivery-endpoint.html">localization</a>.</p>
</li>
<li>
<p>Can <a href="Resolving-references-with-the-delivery-endpoint.html">resolve
referenced nodes</a> from other workspaces,including image renditions,
within one request.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Cons"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Cons"></a>Cons</h4>
<div class="ulist">
<ul>
<li>
<p>Read-only.</p>
</li>
<li>
<p>Cannot fetch
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Personalization">personalized</a>
variants of pages or components.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-MagnoliaRESTnodesandpropertiesendpoints"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-MagnoliaRESTnodesandpropertiesendpoints"></a>Magnolia REST nodes and properties endpoints</h3>
<div class="paragraph">
<p>Magnolia endpoints for <code>nodes</code> and <code>properties</code> - available since
version 1.0 of the Magnolia REST modules.</p>
</div>
<div class="paragraph">
<p><strong>Example:</strong> Read JCR content of the <code>/magnolia-travels/Kyoto</code> tour from
the Tours content app in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Demo">demo</a>.</p>
</div>
<div class="paragraph">
<p><code>curl -H <code>"Accept: application/json"</code> http:<code>//localhost</code>:8080<code>/magnoliaAuthor/</code>.rest<code>/nodes/v1/tours/magnolia-travels/Kyoto</code>  \</code></p>
</div>
<div class="paragraph">
<p>`  -u superuser:superuser`</p>
</div>
<div class="paragraph">
<p>For more information and examples, see their API pages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="Nodes-endpoint-API.html">Nodes endpoint API</a></p>
</li>
<li>
<p><a href="Properties-endpoint-API.html">Properties endpoint API</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Pros.1"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Pros.1"></a>Pros</h4>
<div class="ulist">
<ul>
<li>
<p>Complete API to create, read, update and delete (CRUD) JCR data.</p>
</li>
<li>
<p>Supports RESTful URLs.</p>
</li>
<li>
<p>Provides a fine-grained security.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Cons.1"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Cons.1"></a>Cons</h4>
<div class="ulist">
<ul>
<li>
<p>Can only fetch content from one workspace per single request.</p>
</li>
<li>
<p>Rigid and verbose JSON structure.</p>
</li>
<li>
<p>Poor localization support.</p>
</li>
<li>
<p>Cannot fetch personalized variants of pages or components (see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Personalization">personalization</a>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-CustomJavaendpoints"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-CustomJavaendpoints"></a>Custom Java endpoints</h3>
<div class="paragraph">
<p>Create a custom REST endpoint depending on your needs.</p>
</div>
<div class="paragraph">
<p>The following example snippet is taken from the
`CameraCollectionEndpoint `.</p>
</div>
<div class="paragraph">
<p>`    <code>@Path</code>(<code>"/allCameras"</code>)`</p>
</div>
<div class="paragraph">
<p>`    <code>`@GET</code></p>
</div>
<div class="paragraph">
<p>`    <code>@Produces</code>(MediaType.APPLICATION_JSON)`</p>
</div>
<div class="paragraph">
<p>`    <code>@ApiOperation</code>(value = <code>"Get all cameras."</code>, notes = <code>"Returns json for the list of all a camera objects."</code>)`</p>
</div>
<div class="paragraph">
<p>`    <code>@ApiResponses</code>(value = {`</p>
</div>
<div class="paragraph">
<p>`            <code>@ApiResponse</code>(code = <code>200</code>, message = STATUS_MESSAGE_OK, response = List.<code>class</code>),`</p>
</div>
<div class="paragraph">
<p>`            <code>@ApiResponse</code>(code = <code>401</code>, message = STATUS_MESSAGE_UNAUTHORIZED),`</p>
</div>
<div class="paragraph">
<p>`            <code>@ApiResponse</code>(code = <code>404</code>, message = STATUS_MESSAGE_NODE_NOT_FOUND),`</p>
</div>
<div class="paragraph">
<p>`            <code>@ApiResponse</code>(code = <code>500</code>, message = STATUS_MESSAGE_ERROR_OCCURRED)`</p>
</div>
<div class="paragraph">
<p>`    })`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> List&lt;Camera&gt; getAllCameras() {`</p>
</div>
<div class="paragraph">
<p>`        List&lt;Camera&gt; result = <code>null</code>;`</p>
</div>
<div class="paragraph">
<p>`        <code>try</code> {`</p>
</div>
<div class="paragraph">
<p>`            result = cameraCollectionPojoService.getAllCameras();`</p>
</div>
<div class="paragraph">
<p>`        } <code>catch</code> (RepositoryException e) {`</p>
</div>
<div class="paragraph">
<p>`            log.warn(<code>"Could not compute the list of all cameras."</code>);`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> result;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>To explore the complete example, clone the <code>camera-collection</code> module
from
<a href="https://git.magnolia-cms.com/projects/DOCUMENTATION/repos/camera-collection">git</a>
and read
<a href="https://wiki.magnolia-cms.com/display/WIKI/Camera+Collection+module">Camera
Collection module</a> on Magnolia Community Wiki.</p>
</div>
<div class="paragraph">
<p>Also read <a href="How-to-create-a-custom-Java-based-REST-endpoint.html">How
to create a custom Java-based REST endpoint</a>.</p>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Pros.2"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Pros.2"></a>Pros</h4>
<div class="ulist">
<ul>
<li>
<p>Highly configurable.</p>
</li>
<li>
<p>Provides a fine-grained security.</p>
</li>
<li>
<p>When using <code>com.wordnik.swagger.annotations.*</code> , endpoints are
automatically exposed in the Swagger tool for testing (see
<a href="REST-API.html#src-196596244_RESTAPI-SwaggerAPIexplorer">Swagger API
explorer</a>).</p>
</li>
<li>
<p>Delivery of personalized variants of pages or components is possible
(see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Personalization">personalization</a>).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Cons.2"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Cons.2"></a>Cons</h4>
<div class="ulist">
<ul>
<li>
<p>Requires Java skills.</p>
</li>
<li>
<p>Must be deployed in a Maven module.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-FreeMarkertemplate"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-FreeMarkertemplate"></a>FreeMarker template</h3>
<div class="paragraph">
<p>You can implement a custom JSON provider in a FreeMarker template
script. Use
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Templating+functions">templating
functions</a> such as `cmsfn `, `damfn `and others to read data from JCR
and render JSON in your preferred manner.</p>
</div>
<div class="sect3">
<h4 id="src-196596416_safe-id-SG93dG9nZXRjb250ZW50YXNKU09OLWFub3ZlcnZpZXctQXBwcm9hY2hlczpBcHVyZUpTT05wcm92aWRlcm9yYW5IVE1MLW1peGVkb25l"><a class="anchor" href="#src-196596416_safe-id-SG93dG9nZXRjb250ZW50YXNKU09OLWFub3ZlcnZpZXctQXBwcm9hY2hlczpBcHVyZUpTT05wcm92aWRlcm9yYW5IVE1MLW1peGVkb25l"></a>Approaches: A pure JSON provider or an HTML-mixed one</h4>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-PureJSON"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-PureJSON"></a>Pure JSON</h5>
<div class="paragraph">
<p>You can write a FreeMarker template in a way that its response is pure
JSON. This is what we consider as a template script based or FreeMarker
based JSON provider. To go for this approach, do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a page template. A dialog is not required.</p>
</li>
<li>
<p>Write FreeMarker code that renders JSON.</p>
</li>
<li>
<p>Create a page with this new template.</p>
</li>
<li>
<p>Request the new page to get JSON in the response.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Step 2 can go from very simple to very complex.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-MixedwithHTML"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-MixedwithHTML"></a>Mixed with HTML</h5>
<div class="paragraph">
<p>You also can write a template that renders HTML and assigns JSON to
JavaScript variables:</p>
</div>
<div class="paragraph">
<p>Click here to expand to see an example which contains both HTML and JSON</p>
</div>
<div class="paragraph">
<p><code>&lt;!DOCTYPE html&gt;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>html</code> <code>xml:lang</code>=<code>"${cmsfn.language()}"</code> <code>lang</code>=<code>"${cmsfn.language()}"</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>head</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    [@cms.page /]`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>meta</code> <code>charset</code>=<code>"utf-8"</code> /&gt;`</p>
</div>
<div class="paragraph">
<p>`    [#assign pageNode = cmsfn.contentByPath("/magnolia-travels/Kyoto", "tours")]`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>script</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    var someJson = '${jsonfn.from(pageNode).add("@path", "name", "description").wrapForI18n().inline().print()}';`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>script</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>head</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>body</code> <code>class</code>=<code>"mixed ${cmsfn.language()}"</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>div</code> <code>class</code>=<code>"container "</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>h1</code>&gt;Find a better title later on ;-)&lt;/<code>h1</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>div</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>body</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>html</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>See line 8 where JSON is assigned to a JavaScript variable.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-AssemblingJSONmanually"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-AssemblingJSONmanually"></a>Assembling JSON manually</h4>
<div class="paragraph">
<p>Here is a simple example of how you can assemble JSON structure in
FreeMarker:</p>
</div>
<div class="paragraph">
<p><code>[#assign pageNode = cmsfn.contentByPath(<code>"/magnolia-travels/Kyoto"</code>, <code>"tours"</code>)]</code></p>
</div>
<div class="paragraph">
<p><code>{</code></p>
</div>
<div class="paragraph">
<p><code>"path"<code> : </code>"${pageNode.@path}"`</code>,`</p>
</div>
<div class="paragraph">
<p><code>"name"<code> : </code>"${pageNode.name}"`</code>,`</p>
</div>
<div class="paragraph">
<p><code>"description"<code> : </code>"${pageNode.description}"</code></p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>When assembling JSON manually, you have maximal freedom to define the
JSON structure, but this approach also requires a high coding effort.</p>
</div>
<div class="paragraph">
<p>The sample project `camera-collection `provides a more sophisticated
FreeMarker-based JSON provider, see
<a href="https://git.magnolia-cms.com/projects/DOCUMENTATION/repos/camera-collection/browse/src/main/resources/camera-collection/templates/pages/simple-json-provider.ftl">simple-json-provider.ftl</a>
and
<a href="https://git.magnolia-cms.com/projects/DOCUMENTATION/repos/camera-collection/browse/src/main/resources/camera-collection/templates/json-provider-utils.ftl">json-provider-utils.ftl</a>
on git.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-AssemblingJSONwithjsonfn"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-AssemblingJSONwithjsonfn"></a>Assembling JSON with jsonfn</h4>
<div class="paragraph">
<p><code>jsonfn `templating functions generate JSON from JCR nodes in any
workspace. `jsonfn</code> helps you assemble JSON within a FreeMaker template
script and provides powerful methods to generate JSON in a flexible way.
It can resolve references to nodes of other workspaces and it also
provides links to renditions of assets in one request. See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/jsonfn#jsonfn-Resolvingreferencednodesandrenditions">resolving
referenced nodes and renditions</a>.</p>
</div>
<div class="paragraph">
<p>To achieve the same JSON as in <em>Assembling JSON manually</em> above, write
the following code:</p>
</div>
<div class="paragraph">
<p><code>[#assign pageNode = cmsfn.contentByPath(<code>"/magnolia-travels/Kyoto"</code>, <code>"tours"</code>)]</code></p>
</div>
<div class="paragraph">
<p><code>${jsonfn.from(pageNode).add(<code>"@path"</code>, <code>"name"</code>, <code>"description"</code>).print()}</code></p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p><code>jsonfn</code> templating functions are not bundled with preconfigured
Magnolia bundles or webapps.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Settingthepropercontenttypeoftheresponse"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Settingthepropercontenttypeoftheresponse"></a>Setting the proper content type of the response</h4>
<div class="paragraph">
<p>If your FreeMarker template acts as a pure JSON provider, you may want
to set the content type of the response to <code>application/json</code> . You
cannot set the content type directly in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Template+definition">template
definition</a>. Instead you have to define a new renderer and reference
this renderer in the template definition with the <code>renderType</code> property.</p>
</div>
<div class="paragraph">
<p>However, having the "proper" content type may not be required. In many
use cases it is sufficient to use the FreeMarker <code>renderType</code> that
responds with <code>text/html</code> .</p>
</div>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-Rendererconfiguration"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Rendererconfiguration"></a>Renderer configuration</h5>
<div class="paragraph">
<p><strong>YAML file</strong></p>
</div>
<div class="paragraph">
<p>/module-a/renderers/json.yaml</p>
</div>
<div class="paragraph">
<p><code>!inherit:freemarker</code></p>
</div>
<div class="paragraph">
<p><code>contentType: application/json</code></p>
</div>
<div class="paragraph">
<p>The above example requires the Magnolia specific <code>!inherit</code> directive
available since Magnolia 5.5.6<strong>JCR node</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rendering</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">renderers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">json</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">application/json</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../freemarker</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">json</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that you can extend the default <code>freemarker</code> renderer.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-Templatedefinition"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Templatedefinition"></a>Template definition</h5>
<div class="paragraph">
<p><code>title: jsonprovider0815</code></p>
</div>
<div class="paragraph">
<p><code>templateScript: /ftl-json-provider/templates/pages/jsonprovider0815.ftl</code></p>
</div>
<div class="paragraph">
<p><code>renderType: json</code></p>
</div>
<div class="paragraph">
<p><code>#renderType: freemarker</code></p>
</div>
<div class="paragraph">
<p><code>visible: ``true</code></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Turningatemplate-basedJSONproviderintoaRESTfulAPIwithvirtualURIMapping"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Turningatemplate-basedJSONproviderintoaRESTfulAPIwithvirtualURIMapping"></a>Turning a template-based JSON provider into a RESTful API with virtualURIMapping</h4>
<div class="paragraph">
<p>You can create a template that accepts request parameters to specify the
JSON content to be returned. In the example below, you can specify the
<code>workspace</code> and the <code>path</code> of the node.</p>
</div>
<div class="paragraph">
<p><code>[#assign path = ctx.path!<code>"undefined"</code> /]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign workspace = ctx.workspace!<code>"tours"</code> /]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign response = <code>'{ "error" : "Missing path parameter." }'</code> /]</code></p>
</div>
<div class="paragraph">
<p><code>[#<code>if</code> path!=<code>"undefined"</code>]</code></p>
</div>
<div class="paragraph">
<p>`  [#assign contentNode = cmsfn.contentByPath(path, workspace)]`</p>
</div>
<div class="paragraph">
<p>`  [#assign response = jsonfn.from(contentNode).add(<code>"@path"</code>, <code>"name"</code>, <code>"description"</code>).wrapForI18n().print() /]`</p>
</div>
<div class="paragraph">
<p><code>[/#<code>if</code>]</code></p>
</div>
<div class="paragraph">
<p><code>${response}</code></p>
</div>
<div class="paragraph">
<p>Create the page with the JSON-providing template at <code>/getjson</code>. You can
call it with the following URL:</p>
</div>
<div class="paragraph">
<p><a href="http://localhost:8080/magnoliaAuthor/getjson?" class="bare">http://localhost:8080/magnoliaAuthor/getjson?</a> <code>workspace=tours</code> &amp;
<code>path=/magnolia-travels/Kyoto</code> If you want to use a RESTful URL instead:</p>
</div>
<div class="paragraph">
<p><a href="http://localhost:8080/magnoliaAuthor/getjson/" class="bare">http://localhost:8080/magnoliaAuthor/getjson/</a> tours
/magnolia-travels/Kyoto Add the following virtual URI mapping:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;your-module&gt;</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">virtualURIMapping</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">getjson-fromWorkspace-byPath</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.beans.config.RegexpVirtualURIMapping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fromURI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/getjson/(<span class="0-9A-Z-a-z">)([0-9A-Z-a-z-\/]</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">toURI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forward:/getjson?workspace=$1&amp;path=$2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Pros.3"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Pros.3"></a>Pros</h4>
<div class="ulist">
<ul>
<li>
<p>Highly configurable.</p>
<div class="ulist">
<ul>
<li>
<p>Fully customizable when assembling JSON manually.</p>
</li>
<li>
<p>Decent customizable when using jsonfn.</p>
</li>
</ul>
</div>
</li>
<li>
<p>No Java required.</p>
</li>
<li>
<p>Localization support.</p>
</li>
<li>
<p>Delivery of personalized variants of pages or components is possible
(see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Personalization">personalization</a>).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Cons.3"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Cons.3"></a>Cons</h4>
<div class="ulist">
<ul>
<li>
<p>Security cannot be set per workspace and path, but only generally for
the page that acts as the JSON provider.</p>
</li>
<li>
<p>Methods beyond <code>GET</code> (such as <code>PUT</code>, <code>POST</code> or <code>DELETE</code> ) cannot be
implemented using just FreeMarker.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-GettinglocalizedJSON"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-GettinglocalizedJSON"></a>Getting localized JSON</h3>
<div class="paragraph">
<p>If your content is localized, you can also get localized JSON output.
See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Language+configuration">enabling
multi-language content</a> about how to create localized content.</p>
</div>
<div class="paragraph">
<p>Depending on the technique applied to get JSON, you may have to force
getting the localized version or you will get a JSON version of the
default locale.</p>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-WiththedeliveryAPI"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-WiththedeliveryAPI"></a>With the delivery API</h4>
<div class="paragraph">
<p>With the <a href="Delivery-endpoint-API-v2.html">delivery endpoint API v2</a>,
you can configure multiple endpoints with full content localization
support.</p>
</div>
<div class="paragraph">
<p>To request a specific single language variant, do one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language">Accept-Language</a>
header. For example: <code>Accept-Language: de-DE</code></p>
</li>
<li>
<p>Set the <code>lang`query parameter. For example: `lang=de-DE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If both are set, the lang parameter takes priority. If neither is set,
the decision is delegated to
<a href="https://wiki.magnolia-cms.com/display/DOCS62/AdminCentral+and+public+locales#AdminCentralandpubliclocales-TheI18nContentSupportinterface">the I18nContentSupport
interface</a>.</p>
</div>
<div class="paragraph">
<p>To return all language variants:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the <code>lang</code> query parameter to all: <code>lang=all</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can use both the <code>Accept-Language</code> header and the <code>lang</code> query
parameter for both sub-resources
<a href="Delivery-endpoint-API-v2.html#src-196596252_DeliveryendpointAPIv2-anc-read-node">Read
node</a> and
<a href="Delivery-endpoint-API-v2.html#src-196596252_DeliveryendpointAPIv2-anc-query-nodes">Query
nodes</a>.</p>
</div>
<div class="paragraph">
<p>See
<a href="Requesting-localized-content-with-the-delivery-endpoint.html">Requesting
localized content with the delivery endpoint</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-Withdefaultendpointsfornodesandproperties"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Withdefaultendpointsfornodesandproperties"></a>With default endpoints for nodes and properties</h4>
<div class="paragraph">
<p>Localized properties must be read as <code>&lt;property-name&gt;_&lt;LOCALE&gt;</code>. For
example, <code>description_de</code> for the property named <code>description</code>. The
default endpoints do not take the client&#8217;s locale into account. When
JSON is generated, the nodes are not wrapped with I18nNodeWrapper . It
is impossible to tell which language is default.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-WithcustomJAVAendpoints"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-WithcustomJAVAendpoints"></a>With custom JAVA endpoints</h4>
<div class="paragraph">
<p>In a custom endpoint, you typically fetch Node objects (Java objects
representing JCR nodes) that you transform into JSON later on. Make sure
you wrap the node with I18nNodeWrapper before producing JSON. The
following shows a method wrapping a node to make sure it is localized
(copied from TemplatingFunctions , which is the underlying Java class of
<code>cmsfn</code>):</p>
</div>
<div class="paragraph">
<p><code>public`</code> Node wrapForI18n(Node content) {`</p>
</div>
<div class="paragraph">
<p>`    <code>return</code> content != <code>null</code>?<code>new</code> I18nNodeWrapper(content):<code>null</code>;`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>Here the <code>I18nNodeWrapper</code> causes the values to be returned in their
localized form.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596416_HowtogetcontentasJSON-anoverview-InaFreeMarkertemplate"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-InaFreeMarkertemplate"></a>In a FreeMarker template</h4>
<div class="paragraph">
<p>In a FreeMarker template, it is the <code>wrapForI18n</code> method that makes sure
the values are returned in their localized form.</p>
</div>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-WithmanuallyassembledJSON"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-WithmanuallyassembledJSON"></a>With manually assembled JSON</h5>
<div class="paragraph">
<p>Use <code>cmsfn.wrapForI18n</code> to get a localized version of a content node:</p>
</div>
<div class="paragraph">
<p>[#assign pageNode_notLocalized =
cmsfn.contentByPath("/travel/about", "website")]<br>
[#assign pageNode_localized =
<strong>cmsfn.wrapForI18n</strong>(pageNode_notLocalized)]</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196596416_HowtogetcontentasJSON-anoverview-Withjsonfn"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Withjsonfn"></a>With jsonfn</h5>
<div class="paragraph">
<p>When using <code>jsonfn</code>, add the <code>wrapForI18n</code> method before calling the
<code>print</code> method.</p>
</div>
<div class="paragraph">
<p>[#assign pageNode = cmsfn.contentByPath('/magnolia-travels/Kyoto',
'tours') /]<br>
$\{jsonfn.from(pageNode).add("title").<strong>wrapForI18n()</strong>.print()}</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596416/content-default-lang.png" alt="images/download/attachments/196596416/content-default-lang.png"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196596416/content_DE.png" alt="images/download/attachments/196596416/content_DE.png"></span></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596416_HowtogetcontentasJSON-anoverview-Thesame-originpolicyproblem"><a class="anchor" href="#src-196596416_HowtogetcontentasJSON-anoverview-Thesame-originpolicyproblem"></a>The same-origin policy problem</h3>
<div class="paragraph">
<p>According to the same-origin policy:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>(&#8230;&#8203;) a web browser permits scripts contained in a first web page to
access data in a second web page, but only if both web pages have the
same <em>origin</em>.</p>
</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Same-origin_policy">Wikipedia</a></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Therefore, if your application resides within a domain that is different
from the domain that hosts your data, the web browser will actively
prevent accessing content stored under the host domain.</p>
</div>
<div class="paragraph">
<p>An elegant solution to solve the same-origin policy without changing
Apache configuration is the Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Filters">Add HTTP Headers</a>
filter. This filter is available out-of-the-box; you only need to
configure it.</p>
</div>
<div class="paragraph">
<p>How to add an asset with REST</p>
</div>
<div class="paragraph">
<p>How to create a custom Java-based REST endpoint</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
