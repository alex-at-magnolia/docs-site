<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Module configuration - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/modules/Module_configuration.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Module_configuration.html">master</a>
    <a class="version" href="../../6.2.1/core/modules/Module_configuration.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Module_configuration.html">Module configuration - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Module configuration - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597526"><a class="anchor" href="#src-196597526"></a>Module configuration</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>This page explains how to configure modules in Magnolia. Module
configuration data is useful because:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It can be accessed programmatically inside the same module and from
other modules.</p>
</li>
<li>
<p>It can be changed on a running system.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The explanation on this page applies to Magnolia Maven modules with a
module class.</p>
</div>
<div class="sect2">
<h3 id="src-196597526_Moduleconfiguration-anc-how-it-worksHowitworks"><a class="anchor" href="#src-196597526_Moduleconfiguration-anc-how-it-worksHowitworks"></a><span id="src-196597526_Moduleconfiguration-anc-how-it-works " class="confluence-anchor-link">#</span>#How it works</h3>
<div class="paragraph">
<p>A Magnolia Maven module may contain a module class. The class needs to
be specified in the <a href="XML-based_module_descriptor.html">module
descriptor</a>. See, for example, line 6 below:</p>
</div>
<div class="paragraph">
<p>Module descriptor
(src/main/resources/META-INF/magnolia/another-module.xml)</p>
</div>
<div class="paragraph">
<p><code>&lt;!DOCTYPE module SYSTEM "module.dtd" &gt;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>module</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>name</code>&gt;another-module&lt;/<code>name</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>displayName</code>&gt;${project.name}&lt;/<code>displayName</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>description</code>&gt;${project.description}&lt;/<code>description</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>class</code>&gt;com.example.magnolia.anothermodule.AnotherModule&lt;/<code>class</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>versionHandler</code>&gt;com.example.magnolia.anothermodule.setup.AnotherModuleVersionHandler&lt;/<code>versionHandler</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>version</code>&gt;${project.version}&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>name</code>&gt;core&lt;/<code>name</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>version</code>&gt;6.1/*&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>module</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>On the module class, you define module configuration properties as
<a href="https://docs.oracle.com/javase/tutorial/javabeans/writing/properties.html">Java
bean properties</a>.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>A bean in Magnolia configuration can have three states, which are
represented by the value of a Boolean property called <code>enabled</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>enabled = true</code> (default in most cases, there&#8217;s no need to set this).</p>
</li>
<li>
<p><code>enabled = false</code></p>
</li>
<li>
<p><code>enabled = null</code>, in which case the bean&#8217;s configuration is either
undefined or inherited - merged with its parent, for example when an
area from a page template definition can get its values from a
prototype.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The property values the class defines may be default and are persisted
in the
<a href="#src-196597526_Moduleconfiguration-anc-configuration-data">configuration
data</a>. On module start-up or when configuration data changes, the system
calls the properties setter methods to set the new values on the
instance of the module class, using the values from the configuration
data. Module configuration items are registered in the
ModuleConfigurationRegistry. On a running system, you can use the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definitions+app">Definitions
app</a> to check modules' configuration data.</p>
</div>
<div class="sect3">
<h4 id="src-196597526_Moduleconfiguration-Changingtheconfigurationonarunningsystem"><a class="anchor" href="#src-196597526_Moduleconfiguration-Changingtheconfigurationonarunningsystem"></a>Changing the configuration on a running system</h4>
<div class="paragraph">
<p>If you change configuration data on a running system, Magnolia is
notified about it. When the configuration data changes, the properties
on the module class are reset accordingly and the configuration item is
re-registered in the module configuration registry
(ModuleConfigurationRegistry).</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>If your module requires a specific re-initialization for some custom
components, implement ModuleLifecycle and add module-specific code in
the <code>#start</code> and <code>#stop</code> interface methods. The system calls these
methods, if it detects changes in the configuration data.</p>
</div>
<div class="paragraph">
<p>Typically, when changing configuration data of modules provided by
Magnolia, there is no need to restart the instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597526_Moduleconfiguration-anc-configuration-dataConfigurationdata"><a class="anchor" href="#src-196597526_Moduleconfiguration-anc-configuration-dataConfigurationdata"></a><span id="src-196597526_Moduleconfiguration-anc-configuration-data " class="confluence-anchor-link">#</span>#Configuration data</h3>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Configuration data can be stored either in a YAML file or under a JCR
node in the <code>config</code> workspace. We recommend using a YAML file.</p>
</div>
<div class="paragraph">
<p>The structure of the configuration data depends on the bean properties
defined on the module class.</p>
</div>
<div class="paragraph">
<p>The next subsection shows an example of configuration data for a
hypothetical module class called
<code>com.example.magnolia.anothermodule.AnotherModule</code>:</p>
</div>
<div class="paragraph">
<p>src/main/java/com/example/magnolia/anothermodule/AnotherModule.java</p>
</div>
<div class="paragraph">
<p><code>package`</code> com.example.magnolia.anothermodule;`</p>
</div>
<div class="paragraph">
<p><code>import`</code> info.magnolia.module.ModuleLifecycle;`</p>
</div>
<div class="paragraph">
<p><code>import`</code> info.magnolia.module.ModuleLifecycleContext;`</p>
</div>
<div class="paragraph">
<p><code>import`</code> java.util.List;`</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> AnotherModule </code>implements`</code> ModuleLifecycle {`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> <code>int</code> maxSize;`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> String welcomeMessage;`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> FooBar fooBar;`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> String getWelcomeMessage() {`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> welcomeMessage;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setWelcomeMessage(String welcomeMessage) {`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.welcomeMessage = welcomeMessage;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> FooBar getFooBar() {`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> fooBar;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setFooBar(FooBar fooBar) {`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.fooBar = fooBar;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>int</code> getMaxSize() {`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> maxSize;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> setMaxSize(<code>int</code> maxSize) {`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.maxSize = maxSize;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> start(ModuleLifecycleContext moduleLifecycleContext) {`</p>
</div>
<div class="paragraph">
<p>`        <code>`// do here whatever is required on module start.</code></p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> stop(ModuleLifecycleContext moduleLifecycleContext) {`</p>
</div>
<div class="paragraph">
<p>`        <code>`// do here whatever is required on module stop.</code></p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>class</code> FooBar {`</p>
</div>
<div class="paragraph">
<p>`        <code>private</code> List&lt;String&gt; colors;`</p>
</div>
<div class="paragraph">
<p>`        <code>private</code> <code>boolean</code> colorsEnabled;`</p>
</div>
<div class="paragraph">
<p>`        <code>public</code> <code>boolean</code> isColorsEnabled() {`</p>
</div>
<div class="paragraph">
<p>`            <code>return</code> colorsEnabled;`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>public</code> <code>void</code> setColorsEnabled(<code>boolean</code> colorsEnabled) {`</p>
</div>
<div class="paragraph">
<p>`            <code>this</code>.colorsEnabled = colorsEnabled;`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>public</code> List&lt;String&gt; getColors() {`</p>
</div>
<div class="paragraph">
<p>`            <code>return</code> colors;`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>public</code> <code>void</code> setColors(List&lt;String&gt; colors) {`</p>
</div>
<div class="paragraph">
<p>`            <code>this</code>.colors = colors;`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="sect3">
<h4 id="src-196597526_Moduleconfiguration-Theconfig.yamlfile"><a class="anchor" href="#src-196597526_Moduleconfiguration-Theconfig.yamlfile"></a>The config.yaml file</h4>
<div class="paragraph">
<p>The YAML file containing module configuration data has to reside at
<code>src/main/resources/&lt;module-name&gt;/config.yaml</code>.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>src/main/resources/another-module/config.yaml</p>
</div>
<div class="paragraph">
<p><code>maxSize: ``25</code></p>
</div>
<div class="paragraph">
<p><code>welcomeMessage: Hello world</code></p>
</div>
<div class="paragraph">
<p><code>fooBar:</code></p>
</div>
<div class="paragraph">
<p>`  colors: [red, green, blue]`</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597526_Moduleconfiguration-Changingmoduleconfiguration"><a class="anchor" href="#src-196597526_Moduleconfiguration-Changingmoduleconfiguration"></a>Changing module configuration</h3>
<div class="paragraph">
<p>There are several ways to change an original configuration.</p>
</div>
<div class="paragraph">
<p>Original configuration</p>
</div>
<div class="paragraph">
<p>In YAML file</p>
</div>
<div class="paragraph">
<p>In the JCR <code>config</code> workspace</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Through decoration definition.</p>
</li>
<li>
<p>By applying a hotfix to the <code>resources</code> workspace.</p>
</li>
<li>
<p>Through decoration definition.</p>
</li>
<li>
<p>By editing directly in the <code>config</code> workspace.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
If the original configuration is a YAML file, do not create a node in
the JCR <code>config</code> workspace.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597526_Moduleconfiguration-Decorating"><a class="anchor" href="#src-196597526_Moduleconfiguration-Decorating"></a>Decorating</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Decorating means adapting the current configuration. A decorator file
can reside in any Magnolia Maven module or light module. In the example
below, we create a decorator file in a light module called
<code>test-module</code>. In this module, create the
<code>decorations/another-module/config.fooBar.yaml</code> file:</p>
</div>
<div class="paragraph">
<p>&lt;magnolia.resources.dir&gt;/test-module/decorations/another-module/config.fooBar.yaml</p>
</div>
<div class="paragraph">
<p><code>colors: [cyan, yellow, magenta, black]</code></p>
</div>
<div class="paragraph">
<p>To learn more about decoration, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definition+decoration#Definitiondecoration-Definitiondecorationconcept">Definition
decoration concept</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597526_Moduleconfiguration-Hotfixing"><a class="anchor" href="#src-196597526_Moduleconfiguration-Hotfixing"></a>Hotfixing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating a <em>hotfix</em> means utilizing the Magnolia Resources framework&#8217;s
capability which allows a resource to have different origins, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Resources#Resources-Originsandloadingorder">Resources
- Origins and loading order</a>. A hotfix:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is a representation of a resource in the JCR <code>resources</code> workspace.</p>
</li>
<li>
<p>Has precedence over the YAML file in the <code>jar</code> file of the deployed
module.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Utilizing the JCR <code>resources</code> workspace can be useful for an
administrator to apply a hotfix that is urgent. From a long-term
perspective, however, we recommend that you keep your configuration and
configuration changes in YAML files. This way they may become part of
source control and are easier for large developer teams to work with.</p>
</div>
<div class="paragraph">
<p>To create a hotfix, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Resources#Resources-ResourceFilesapp">Resource
Files app</a>.</p>
</li>
<li>
<p>Browse to <code>&lt;your-module&gt;</code> and select the <code>config.yaml</code> resource.</p>
</li>
<li>
<p>In the action bar, click <strong>Edit file</strong>. The Resource Files app creates a
copy of the currently used configuration and stores it in the JCR
<code>resources</code> workspace.</p>
</li>
<li>
<p>Edit the file as necessary.</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196597526/6-1.0_moduleConfiguration_creatingHotfixWithResourcesApp.png" alt="images/download/attachments/196597526/6-1.0_moduleConfiguration_creatingHotfixWithResourcesApp.png"></span></p>
</div>
</li>
<li>
<p>Click <strong>Save changes</strong>.<br>
(You may have to publish the resource node created to your author
instances.)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597526_Moduleconfiguration-Intheconfigworkspace"><a class="anchor" href="#src-196597526_Moduleconfiguration-Intheconfigworkspace"></a>In the config workspace</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Even though we recommend using YAML files for configuration data, there
are still a lot of modules whose configuration is stored in the JCR
<code>config</code> workspace. Below is an example using the <code>ui-admincentral</code>
module, in which we change the <code>defaultGroup</code> of the
<code>appLauncherLayout</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Configuration+app">Configuration
app</a>.</p>
</li>
<li>
<p>Go to the <code>/modules/ui-admincentral/config/appLauncherLayout</code> node.</p>
</li>
<li>
<p>Change the value of the <code>defaultGroup</code> property. (Change other
subnodes and properties as necessary.)</p>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196597526/6-1.0_moduleConfiguration_editWithConfigurationApp.png" alt="images/download/attachments/196597526/6-1.0_moduleConfiguration_editWithConfigurationApp.png"></span></p>
</div>
<div class="paragraph">
<p>You also can add new nodes and properties, if they match with the
defined bean properties of the module class.<br>
<span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/information.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/information.svg"></span>
Changes are applied automatically when you leave a field. (You may have
to publish the node you changed to your author instances.)</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597526_Moduleconfiguration-Accessingconfigurationdataprogrammatically"><a class="anchor" href="#src-196597526_Moduleconfiguration-Accessingconfigurationdataprogrammatically"></a>Accessing configuration data programmatically</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To access module configuration in a Java class, use
<code>javax.inject.Provider</code> to access the sole instance of your module
class. On the module class instance, you can call the getter methods of
the module bean properties.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>import`</code> javax.inject.Inject;`</p>
</div>
<div class="paragraph">
<p><code>import`</code> javax.inject.Provider;`</p>
</div>
<div class="paragraph">
<p><code>import`</code> com.example.magnolia.anothermodule.AnotherModule;`</p>
</div>
<div class="paragraph">
<p><code>/**</code></p>
</div>
<div class="paragraph">
<p>` * An example class to demonstrate how to access the bean properties (= module configuration) of a module class.`</p>
</div>
<div class="paragraph">
<p>` */`</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class`</code> GarplyUtils {`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> <code>final</code> Provider&lt;AnotherModule&gt; anotherModuleProvider;`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Inject</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> GarplyUtils(Provider&lt;AnotherModule&gt; anotherModuleProvider) {`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.anotherModuleProvider = anotherModuleProvider;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> doSomething() {`</p>
</div>
<div class="paragraph">
<p>`        <code>`// get the (singleton) instance of the module</code></p>
</div>
<div class="paragraph">
<p>`        AnotherModule moduleInstance = anotherModuleProvider.get();`</p>
</div>
<div class="paragraph">
<p>`        <code>`// access the modules bean properties</code></p>
</div>
<div class="paragraph">
<p>`        String welcomeMessage = moduleInstance.getWelcomeMessage();`</p>
</div>
<div class="paragraph">
<p>`        <code>int</code> maxSize = moduleInstance.getMaxSize();`</p>
</div>
<div class="paragraph">
<p>`        AnotherModule.FooBar fooBar = moduleInstance.getFooBar();`</p>
</div>
<div class="paragraph">
<p>`        <code>`// do whatever you want to do here</code></p>
</div>
<div class="paragraph">
<p>`        <code>`// &#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Line 10: Make the <code>javax.inject.Provider</code> a <em>private final</em> field of
your class.</p>
</li>
<li>
<p>Lines 12-14: Inject the <code>Provider</code> via a constructor.</p>
</li>
<li>
<p>Line 20: Get the singleton instance of your <code>AnotherModule</code> module
class.</p>
</li>
<li>
<p>Lines 23-25: Access the bean properties of your module.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Module structure</p>
</div>
<div class="paragraph">
<p>Module definition items</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
