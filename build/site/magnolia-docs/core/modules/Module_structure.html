<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Module structure - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/modules/Module_structure.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Cloud Light Development</a>
            <a class="navbar-item" href="#">Upgrading in the Cloud</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Visual SPA Editor</a>
            <a class="navbar-item" href="#">API</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Releases and Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Cache.html">Cache</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Commenting.html">Commenting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/content-authoring.html">Content authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/content-editor.html">Content editor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/content-tagging.html">Content tagging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/content-types.html">Content types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/data-privacy.html">Data privacy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/dam.html">Digital asset management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/find-bar.html">Find bar</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/image-recognition.html">Image recognition</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#core/features/integration.adoc">Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/Personalization.html">Personalization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/component-personalization.html">Component personalization</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/rest-in-magnolia.html">REST in Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/Search.html">Search</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/jackrabbit-search.adoc">Placeholder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/solr-search.adoc">Placeholder</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/search-engine-optimization.html">SEO</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/spa.html">SPA</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Tasks.html">Tasks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/text-classification.html">Text classification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Workflow.html">Workflow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Authoring</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CLI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
    <a href="../../releases/Releases.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Module_structure.html">Module structure - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Module structure - Magnolia 6.2 documentation</h1>
<div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196597525"><a class="anchor" href="#src-196597525"></a>Module structure</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>A Magnolia module can be purely file based or it can be wrapped in a
Maven project.</p>
</div>
<div class="paragraph">
<p>[<mark>src-196597525_Modulestructure-anc-module-structure]</mark>#</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Magnolia module wrapped in a typical Maven module<br>
structure before it is built.</th>
<th class="tableblock halign-left valign-top">File-based Magnolia module under
$magnolia.resources.dir<br>
=<br>
Light module</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;maven-module-name&gt;/</code></p>
</div>
<div class="paragraph">
<p>`    ├── pom.xml`</p>
</div>
<div class="paragraph">
<p>`    └── src/`</p>
</div>
<div class="paragraph">
<p>`        └── main/`</p>
</div>
<div class="paragraph">
<p>`            ├── java/`</p>
</div>
<div class="paragraph">
<p>`            └── resources/`</p>
</div>
<div class="paragraph">
<p>`                ├── META-INF/`</p>
</div>
<div class="paragraph">
<p>`                │   └── magnolia/`</p>
</div>
<div class="paragraph">
<p>`                │       └── module-name.xml`</p>
</div>
<div class="paragraph">
<p>`                └── &lt;module-name&gt;/`</p>
</div>
<div class="paragraph">
<p>`                    ├── apps/`</p>
</div>
<div class="paragraph">
<p>`                    ├── config.yaml`</p>
</div>
<div class="paragraph">
<p>`                    ├── dialogs/`</p>
</div>
<div class="paragraph">
<p>`                    │   └── myDialog.yaml`</p>
</div>
<div class="paragraph">
<p>`                    ├── webresources/`</p>
</div>
<div class="paragraph">
<p>`                    └── templates/`</p>
</div>
<div class="paragraph">
<p>`                        ├── components/`</p>
</div>
<div class="paragraph">
<p>`                        │   ├── myComponent.ftl`</p>
</div>
<div class="paragraph">
<p>`                        │   └── myComponent.yaml`</p>
</div>
<div class="paragraph">
<p>`                        └── pages/`</p>
</div>
<div class="paragraph">
<p>`                            ├── myTemplate.ftl`</p>
</div>
<div class="paragraph">
<p>`                            └── myTemplate.yaml`</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p>` `</p>
</div>
<div class="paragraph">
<p><code>$magnolia.resources.dir/</code></p>
</div>
<div class="paragraph">
<p><code>└── &lt;module-name&gt;/</code></p>
</div>
<div class="paragraph">
<p>`    ├── apps/`</p>
</div>
<div class="paragraph">
<p>`    ├── dialogs/`</p>
</div>
<div class="paragraph">
<p>`    │   └── myDialog.yaml`</p>
</div>
<div class="paragraph">
<p>`    ├── module.yaml`</p>
</div>
<div class="paragraph">
<p>`    ├── webresources/`</p>
</div>
<div class="paragraph">
<p>`    └── templates/`</p>
</div>
<div class="paragraph">
<p>`        ├── components/`</p>
</div>
<div class="paragraph">
<p>`        │   ├── myComponent.ftl`</p>
</div>
<div class="paragraph">
<p>`        │   └── myComponent.yaml`</p>
</div>
<div class="paragraph">
<p>`        └── pages/`</p>
</div>
<div class="paragraph">
<p>`            ├── myTemplate.ftl`</p>
</div>
<div class="paragraph">
<p>`            └── myTemplate.yaml`</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These two folder trees show typical folder structures rather than
structures with <em>all</em> folders possible.</p>
</div>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>magnolia.resources.dir</code> is a property defining the directory from
which <a href="https://wiki.magnolia-cms.com/display/DOCS62/Resources">resources</a>
are loaded in a Magnolia instance. This directory is used for file-based
resources such as light modules and for overriding classpath resources.
The property is configured in
<code>WEB-INF/config/default/magnolia.properties</code> and its default value is
<code>$magnolia.home/modules</code>. To see the current value of the property, go
to the Config Info tab in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/About+Magnolia+app">About
Magnolia app</a>.<br>
<span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/information.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/information.svg"></span>
You can use <a href="https://en.wikipedia.org/wiki/Symbolic_link">symbolic links</a>
(symlinks or soft links) in the resources directory to include light
modules located elsewhere on your system.</p>
<div class="paragraph">
<p>Set the <code>magnolia.resources.filesystem.observation.excludedDirectories</code>
property to exclude directories from being observed for changes. (See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Configuration+management#Configurationmanagement-magnolia.resources.filesystem.observation.excludedDirectories">Configuration
management -
magnolia.resources.filesystem.observation.excludedDirectories</a>.)</p>
</div>
</li>
<li>
<p><code>&lt;module-name&gt;</code> folder contains exactly the same content in a Maven
module and folder-based module. In a Maven module this folder is within
<code>src/main/resources</code> . In a folder-based modules this folder is within
<code>$magnolia.resources.dir</code>.</p>
</li>
<li>
<p>When creating a name for a module, do not use spaces, accented
characters such as <code>é</code>, <code>à</code>, <code>ç</code>, <code>ä</code>, <code>ö</code>, <code>ü</code> or special characters
such as slashes <code>/</code>, <code>\</code> and so on. The name must match the regular
expression <code>[a-zA-Z0-9-_]</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>The <code>create-light-module</code> command in the
<a href="https://documentation.magnolia-cms.com/display/DOCS/Magnolia+CLI">Magnolia
CLI</a> creates the module folder structure on the file system
automatically.</p>
</div>
<div class="sect2">
<h3 id="src-196597525_Modulestructure-Modulesubfolders"><a class="anchor" href="#src-196597525_Modulestructure-Modulesubfolders"></a>Module subfolders</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apps</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Configuration data for apps (YAML files)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decorations</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Definition decorator files (YAML files), see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definition+decoration">Definition
decoration</a>. Contains subfolders.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dialogs</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Dialogs (YAML files), may contain subfolders.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fieldTypes</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Fieldtype definitions (YAML files) for the <em>Magnolia 5 UI</em> framework.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i18n</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>i18n message bundle (.properties files).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>messageViews</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>MessageView definitions (YAML files).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>renderers</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Renderer definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>webresources</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>All the web resources, typically contains subfolders. (Folder name is
arbitrary.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>templates</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Template definitions (YAML files) and scripts with subfolders.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restEndpoints</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>REST endpoint definitions (YAML files), with subfolders.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtualURIMappings</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>optional</strong></p>
</div>
<div class="paragraph">
<p>Virtual URI mapping definitions (YAML files) to redirect incoming
requests to the actual content locations.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="src-196597525_Modulestructure-Definitionitemfolders"><a class="anchor" href="#src-196597525_Modulestructure-Definitionitemfolders"></a>Definition item folders</h4>
<div class="paragraph">
<p>A definition item is a component configuration for executing tasks in a
Magnolia instance.
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Template+definition">Template
definitions</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Dialog+definition">dialog
definitions</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/App+descriptor">app
definitions</a> (also known as app descriptors),
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Renderers#Renderers-renderer-definition">renderer
definitions</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Theme#Theme-theme-definition">themes
definitions</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Field+definition">field
definitions</a> and REST endpoint definitions are all examples of such
definition items.</p>
</div>
<div class="paragraph">
<p>The majority of these items can be configured via YAML, in which case
they are registered in a specific registry. The items registered can be
seen in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definitions+app">Definitions
app</a>. Even though definition items can be configured via JCR in the
<code>configuration</code> workspace, configuring them in YAML files is the
recommended approach.</p>
</div>
<div class="paragraph">
<p>The following folders host the definition items: <code>apps</code>, <code>commands</code>,
<code>dialogs</code>, <code>fieldTypes</code>, <code>messageViews</code>, <code>renderers</code>, <code>templates</code>,
<code>traits</code>, <code>virtualURIMappings</code>. For more information see
<a href="Module_definition_items.html">Module definition items</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597525_Modulestructure-Magnoliamodulespecificfiles"><a class="anchor" href="#src-196597525_Modulestructure-Magnoliamodulespecificfiles"></a>Magnolia module specific files</h3>
<div class="sect3">
<h4 id="src-196597525_Modulestructure-Moduledescriptor"><a class="anchor" href="#src-196597525_Modulestructure-Moduledescriptor"></a>Module descriptor</h4>
<div class="paragraph">
<p>Module descriptor is a Magnolia-specific file that identifies and
defines a module. When you start Magnolia, the system identifies
available modules by locating each module&#8217;s descriptor file.</p>
</div>
<div class="sect4">
<h5 id="src-196597525_Modulestructure-InMagnoliaMavenmodules"><a class="anchor" href="#src-196597525_Modulestructure-InMagnoliaMavenmodules"></a>In Magnolia Maven modules</h5>
<div class="paragraph">
<p>Magnolia Maven-based modules must provide a module descriptor. It is
located at <code>src/main/resources/META-INF/magnolia/&lt;module-name&gt;.xml</code>. See
<a href="XML-based_module_descriptor.html">XML-based module descriptor</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196597525_Modulestructure-Inlightmodules"><a class="anchor" href="#src-196597525_Modulestructure-Inlightmodules"></a>In light modules</h5>
<div class="paragraph">
<p>In a Magnolia file-based module (light module), the descriptor is
located at <code>$magnolia.resources.dir/example-light-module/module.yaml</code>.
See <a href="YAML-based_module_descriptor.html">YAML-based module
descriptor</a>.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>For Magnolia light modules, module descriptors currently support module
dependencies only.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="src-196597525_Modulestructure-Theconfig.yamlmoduleconfigurationfile"><a class="anchor" href="#src-196597525_Modulestructure-Theconfig.yamlmoduleconfigurationfile"></a>The config.yaml module configuration file</h4>
<div class="paragraph">
<p>A Magnolia Maven-based module may contain the
<code>src/main/resources/&lt;module-name&gt;/config.yaml</code> file. It contains
configuration data, which is applied to the Java bean properties of the
Magnolia module class. See <a href="Module_configuration.html">Module
configuration</a> for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597525_safe-id-TW9kdWxlc3RydWN0dXJlLUxpZ2h0bW9kdWxlczpmaWxlLWJhc2VkbW9kdWxlc2luJG1hZ25vbGlhLnJlc291cmNlcy5kaXI"><a class="anchor" href="#src-196597525_safe-id-TW9kdWxlc3RydWN0dXJlLUxpZ2h0bW9kdWxlczpmaWxlLWJhc2VkbW9kdWxlc2luJG1hZ25vbGlhLnJlc291cmNlcy5kaXI"></a>Light modules: file-based modules in $magnolia.resources.dir</h3>
<div class="paragraph">
<p>As of Magnolia 5.4, a Magnolia module does not have to be a Maven
module. You can add a file-based module in the <code>$magnolia.resources.dir</code>
directory.</p>
</div>
<div class="paragraph">
<p>By default <code>$magnolia.resources.dir</code> is the webapp folder, for instance
<code>magnoliaAuthor</code> or <code>magnoliaPublic</code>. See
<a href="Installing_a_module.html">Add the module folder to $magnolia.home</a>
for more information about <code>$magnolia.home</code>.</p>
</div>
<div class="sect3">
<h4 id="src-196597525_Modulestructure-CreatingalightmodulewithMagnoliaCLI"><a class="anchor" href="#src-196597525_Modulestructure-CreatingalightmodulewithMagnoliaCLI"></a>Creating a light module with Magnolia CLI</h4>
<div class="paragraph">
<p>Using the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Magnolia+CLI">Magnolia CLI</a>
you can create the folder structure for a light module with the command
<code>create-light-module</code>. Open a shell, <code>cd</code> to your light modules
directory, and execute the following command:</p>
</div>
<div class="paragraph">
<p><code>mgnl create-light-module one-pager-module</code></p>
</div>
<div class="paragraph">
<p>When creating a name for a module, do not use spaces, accented
characters such as <code>é</code>, <code>à</code>, <code>ç</code>, <code>ä</code>, <code>ö</code>, <code>ü</code> or special characters
(e.g. slashes <code>/</code>, <code>\</code> and so on). The name must match the regular
expression <code>[a-zA-Z0-9-_]</code> .</p>
</div>
<div class="paragraph">
<p>Note that this only works if you have installed Magnolia CLI, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Magnolia+CLI">Magnolia CLI
Installation</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196597525_Modulestructure-MagnoliaMavenmodule"><a class="anchor" href="#src-196597525_Modulestructure-MagnoliaMavenmodule"></a>Magnolia Maven module</h3>
<div class="paragraph">
<p>If you are familiar with Java and Maven, you can use Maven to create and
build your Magnolia module. Using Maven streamlines the process of
creating a JAR file, deployment, and dependency management of your
modules. All modules provided by Magnolia are built with Maven. This
makes it easy to install or uninstall them by adding or removing a JAR
file.</p>
</div>
<div class="sect3">
<h4 id="src-196597525_Modulestructure-CreatingaMagnoliaMavenmodulewithMavenarchetypes"><a class="anchor" href="#src-196597525_Modulestructure-CreatingaMagnoliaMavenmodulewithMavenarchetypes"></a>Creating a Magnolia Maven module with Maven archetypes</h4>
<div class="paragraph">
<p>Magnolia provides a set of Maven archetypes for various tasks, one of
which is creating a Magnolia Maven module.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Before running the Maven <code>archetype</code> command, please read
<a href="https://wiki.magnolia-cms.com/display/DOCS62/How+to+use+Magnolia+Maven+archetypes#HowtouseMagnoliaMavenarchetypes-CheckMavensettings">How
to use Magnolia Maven archetypes: Check Maven settings</a>.</p>
</div>
<div class="paragraph">
<p>If you are not familiar with the Maven archetype plugin, please get
familiar with
<a href="https://wiki.magnolia-cms.com/display/DOCS62/How+to+use+Magnolia+Maven+archetypes#HowtouseMagnoliaMavenarchetypes-HThearchetypeplugin">How
to use Magnolia Maven archetypes: The archetype plugin</a>.</p>
</div>
<div class="sect4">
<h5 id="src-196597525_Modulestructure-Executingthearchetypeplugincommand"><a class="anchor" href="#src-196597525_Modulestructure-Executingthearchetypeplugincommand"></a>Executing the archetype plugin command</h5>
<div class="paragraph">
<p>Open a shell and change to the directory where you want the Magnolia
Maven module skeleton to be created.</p>
</div>
<div class="paragraph">
<p><code>cd /Users/jdoe/repositories/magnolia</code></p>
</div>
<div class="paragraph">
<p>Run the following command:</p>
</div>
<div class="paragraph">
<p><code>mvn archetype:generate -DarchetypeGroupId=info.magnolia.maven.archetypes -DarchetypeArtifactId=magnolia-module-archetype -DarchetypeVersion=RELEASE</code></p>
</div>
<div class="paragraph">
<p>Maven prompts you to specify values for several parameters. Use values
that fit your requirements.</p>
</div>
<div class="paragraph">
<p>After you have finished entering the values, the archetype plugin
displays their list and asks you to confirm it. If you confirm by
pressing <code>ENTER</code>, the plugin generates the skeleton of your archetype.
You should see a <code>BUILD SUCCESS</code> message at the end of the process. If
you press <code>N</code> or <code>CTRL</code> + <code>C</code>, nothing is generated.</p>
</div>
<div class="paragraph">
<p>Installing a module</p>
</div>
<div class="paragraph">
<p>Module configuration</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
