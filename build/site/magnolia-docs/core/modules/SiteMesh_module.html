<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SiteMesh module - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/modules/SiteMesh_module.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="SiteMesh_module.html">master</a>
    <a class="version" href="../../6.2.1/core/modules/SiteMesh_module.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="SiteMesh_module.html">SiteMesh module - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">SiteMesh module - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="List_of_modules.html">List of modules</a></p>
</li>
<li>
<p><a href="High_performance_caching_modules.html">High performance caching
modules</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596793"><a class="anchor" href="#src-196596793"></a>SiteMesh module</h2>
<div class="sectionbody">
<table id="main-content" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edition</th>
<th class="tableblock halign-left valign-top">DX Core</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.magnolia-cms.com/mla">MLA</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://jira.magnolia-cms.com/browse/MSITEMESH">MSITEMESH</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven site</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://nexus.magnolia-cms.com/content/sites/magnolia.enterprise.sites/magnolia-module-sitemesh/">SiteMesh</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The SiteMesh module integrates the
<a href="http://wiki.sitemesh.org/wiki/display/sitemesh3/SiteMesh+3+Overview">SiteMesh
3</a> decoration and Web application integration frameworkwith Magnolia. If
you intend to use SiteMesh only as the <strong>mechanism for</strong> dynamic page
caching you can skip this page after its installation and continue with
<a href="Advanced_Cache_Dynamic_Page_Caching.html">Advanced Dynamic Page
Caching</a>.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>SiteMesh intercepts requests to any static or dynamically generated HTML
page requested through the web-server, processes the content and then
merges it with one or more decorators to build the final result." –
<a href="http://wiki.sitemesh.org/wiki/display/sitemesh3/SiteMesh+3+Overview">SiteMesh
3</a></p>
</div>
</blockquote>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Installing"><a class="anchor" href="#src-196596793_SiteMeshmodule-Installing"></a>Installing</h3>
<div class="paragraph">
<p>Maven is the easiest way to install the module. Add the following to
your
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia.sitemesh&lt;/groupId&gt;
  &lt;artifactId&gt;magnolia-module-sitemesh&lt;/artifactId&gt;
  &lt;version&gt;1.2&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Uninstalling"><a class="anchor" href="#src-196596793_SiteMeshmodule-Uninstalling"></a>Uninstalling</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove the <code>/server/filters/sitemesh</code> node.</p>
</li>
<li>
<p>Remove the <code>/server/rendering/engine/listeners/sitemesh</code> node.</p>
</li>
<li>
<p>Remove the <code>/modules/sitemesh</code> node and its subnodes.</p>
</li>
<li>
<p>Shut down Magnolia, remove the SiteMesh module JAR
(<code>magnolia-module-sitemesh.jar</code>) from <code>WEB-INF/lib</code> and start up
Magnolia again.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Filter"><a class="anchor" href="#src-196596793_SiteMeshmodule-Filter"></a>Filter</h3>
<div class="paragraph">
<p>SiteMesh filter processes by default only text/html but can be
configured to process any text resources such as css or javascript:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.filters.FilterDecorator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bypasses</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nonHtml</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.voting.voters.ResponseContentTypeVoter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">allowed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">html</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">text/html</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Decorators"><a class="anchor" href="#src-196596793_SiteMeshmodule-Decorators"></a>Decorators</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The decorator contains the common layout and style that should be
applied to the pages in the web application". –
<a href="http://wiki.sitemesh.org/wiki/display/sitemesh3/Getting+Started+with+SiteMesh+3">Getting
Started with SiteMesh 3</a></p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>If you have samples and demo/project installed, you can find SiteMesh
sample under /demo-features/modules/sitemesh-sample.html and its
decorator under /demo-features/modules/sitemesh-sample/decorator.html.
You can configure more that one decorator per path (and of course use
regular expression for path). You can find the templates under
<em>templates:/sitemesh-sample.</em></p>
</div>
<div class="paragraph">
<p>Decorator selector chooses the decorators for pages.
<a href="http://javadox.com/org.sitemesh/sitemesh/3.0.0/org/sitemesh/config/MetaTagBasedDecoratorSelector.html">MetaTagBasedDecoratorSelector</a>
is used by default.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.filters.FilterDecorator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratedFilter</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.config.MagnoliaConfigurableSiteMeshFilter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentProcessor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratorSelector</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.sitemesh.config.MetaTagBasedDecoratorSelector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pathToDecoratorMapping</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sample</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/demo-features/modules/sitemesh-sample.html</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decorators</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/demo-features/modules/sitemesh-sample/decorator.html</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Contentprocessor"><a class="anchor" href="#src-196596793_SiteMeshmodule-Contentprocessor"></a>Content processor</h3>
<div class="paragraph">
<p>Processes the text content tag by tag. You can configure sets of rules
under <em>tagRuleBundles.</em> You can use the bundles provided by
<a href="http://javadox.com/org.sitemesh/sitemesh/3.0.0/org/sitemesh/content/tagrules/TagRuleBundle.html">SiteMesh
3.0.0</a>. Just use <em>info.magnolia.sitemesh.content.TagRuleBundleWrapper</em>
as class, create node <em>wrapped</em> and set the bundle class as the property
class:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.filters.FilterDecorator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratedFilter</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.config.MagnoliaConfigurableSiteMeshFilter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentProcessor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaContentProcessor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tagRuleBundles</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">magnolia</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">coreHtmlTagRuleBundle</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.TagRuleBundleWrapper</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">wrapped</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.sitemesh.content.tagrules.html.CoreHtmlTagRuleBundle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratorTagRuleBundle</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196596793_SiteMeshmodule-Tagrulebundles"><a class="anchor" href="#src-196596793_SiteMeshmodule-Tagrulebundles"></a>Tag rule bundles</h3>
<div class="paragraph">
<p>Because the bundles provided by SiteMesh 3 are fixed sets of rules,
Magnolia offers you also configurable
<em>info.magnolia.sitemesh.content.MagnoliaTagRuleBundle.</em> You can
dynamically add <em>info.magnolia.sitemesh.content.MagnoliaRules</em> to this
bundle:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.filters.FilterDecorator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratedFilter</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.config.MagnoliaConfigurableSiteMeshFilter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentProcessor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaContentProcessor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tagRuleBundles</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">magnolia</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaTagRuleBundle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InjectUriRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InjectUrlRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">injectAdminCentralButtonRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
Magnolia 5.4.6+ / Sitemesh 1.0.3+. You can configure the <code>baseURL</code> in
the <code>InjectUriRule</code> node.</p>
</div>
<div class="paragraph">
<p>Set
<code>/server/filters/sitemesh/decoratedFilter/contentProcessor/tagRuleBundles/magnolia/rules/InjectUriRule/tag/baseUrl</code>
to <code><a href="http://localhost:8080${contextPath}" class="bare">http://localhost:8080${contextPath}</a></code>, for example.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Request: <code><a href="https://demo.magnolia-cms.com/" class="bare">https://demo.magnolia-cms.com/</a></code>.</p>
</li>
<li>
<p>Fragment request:
<code><a href="https://localhost:8080/magnoliaPublic" class="bare">https://localhost:8080/magnoliaPublic</a><sub>mgnlArea=main</sub></code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
Site-specific configurations are not taken into account.</p>
</div>
<div class="paragraph">
<p>If <code>baseURL</code> is not set, the base URL of the current request is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Request: <code><a href="https://demo.magnolia-cms.com/" class="bare">https://demo.magnolia-cms.com/</a></code>.</p>
</li>
<li>
<p>Fragment request:
<code><a href="https://demopublic.magnolia-cms.com/" class="bare">https://demopublic.magnolia-cms.com/</a><sub>mgnlArea=main</sub></code>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="src-196596793_safe-id-U2l0ZU1lc2htb2R1bGUtUnVsZXMmVGFncw"><a class="anchor" href="#src-196596793_safe-id-U2l0ZU1lc2htb2R1bGUtUnVsZXMmVGFncw"></a>Rules &amp; Tags</h4>
<div class="paragraph">
<p>Every <em>info.magnolia.sitemesh.content.MagnoliaRule</em> holds tag.
<em>info.magnolia.sitemesh.content.AbstractTag</em> processes a html tag. You
can implement for example a tag which replaces all occurrences of &lt;b&gt;
with &lt;s&gt;. Set <em>includeInContent=true</em> on rule if you don&#8217;t want to
replace the original tag but only append new content after it. Add
content node named <em>tagTypes</em> to a tag to tell which
<a href="http://javadox.com/org.sitemesh/sitemesh/3.0.0/org/sitemesh/tagprocessor/Tag.Type.html#enum_constant_detail">tag
types</a> you want to process. All types (open, close, &#8230;&#8203;) will be
processed if no <em>tagTypes</em> node will be added.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cms.filters.FilterDecorator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">decoratedFilter</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.config.MagnoliaConfigurableSiteMeshFilter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentProcessor</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaContentProcessor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tagRuleBundles</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">magnolia</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaTagRuleBundle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InjectUriRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.MagnoliaRule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tag</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.sitemesh.content.inject.InjectUriTag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mgnl:injecturi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">forceUriRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tagTypes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">open</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Out of the box rules</p>
</div>
<div class="paragraph">
<p>class</p>
</div>
<div class="paragraph">
<p>description</p>
</div>
<div class="paragraph">
<p>configurable fields (default values)</p>
</div>
<div class="paragraph">
<p><code>info.magnolia.sitemesh.content.inject.InjectTag</code></p>
</div>
<div class="paragraph">
<p>Tag for any text injection.</p>
</div>
<div class="paragraph">
<p>contentToInject (empty string)</p>
</div>
<div class="paragraph">
<p><code>info.magnolia.sitemesh.content.inject.sample.InjectAdmincentralButtonTag</code></p>
</div>
<div class="paragraph">
<p>Tag injects admincentral button to navigate to admincentral when
accessing pages outside of admincentral.</p>
</div>
<div class="paragraph">
<p>contentToInject (empty string)</p>
</div>
<div class="paragraph">
<p><code>info.magnolia.sitemesh.content.inject.InjectUrlTag</code></p>
</div>
<div class="paragraph">
<p>Tag for injection of content retrieved by URL specified as argument
<em>target</em> of this tag.</p>
</div>
<div class="paragraph">
<p><code>&lt;mgnl:includeurl target=http://somePage.html /&gt;</code></p>
</div>
<div class="paragraph">
<p>readTimeout (600000)<br>
connectTimeout (10000)<br>
bufferSize (4096)</p>
</div>
<div class="paragraph">
<p><code>info.magnolia.sitemesh.content.inject.InjectUriTag</code></p>
</div>
<div class="paragraph">
<p>Tag for injection of content retrieved by URI (that means a URI which
points to the same webapp) specified as argument <em>target</em> of this tag.
The current original request is used to create URL. Other arguments are
set as request headers such as <code>X-Magnolia-Fragment</code> header which allows
you to set time to live of this dynamic fragment.</p>
</div>
<div class="paragraph">
<p><code>&lt;mgnl:injecturi target="/demo-project/about<sub>mgnlArea=branding</sub>" X-Magnolia-Fragment=" ttlValue =0 , CacheKeyGenerator=, " /&gt;</code></p>
</div>
<div class="paragraph">
<p>readTimeout (600000)<br>
connectTimeout (10000)<br>
bufferSize (4096)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596793_SiteMeshmodule-FragmentInjectionListener"><a class="anchor" href="#src-196596793_SiteMeshmodule-FragmentInjectionListener"></a>Fragment Injection Listener</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">rendering</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">engine</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">listeners</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sitemesh</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.module.advancedcache.rendering.FragmentInjectionListener</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">skipRendering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">targetPath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RELATIVE_TO_CONTEXT_ROOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">before</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;mgnl:injecturi target="${targetPath}"
X-Magnolia-Cache="ttlValue=${ttlValue},CacheKeyGenerator=${CacheKeyGenerator},"&gt;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">after</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;/mgnl:injecturi&gt;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Advanced Cache for Personalization</p>
</div>
<div class="paragraph">
<p>Campaign Publisher module</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
