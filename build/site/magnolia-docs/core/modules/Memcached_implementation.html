<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Memcached implementation - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/modules/Memcached_implementation.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../../magnolia-docs/6.2.1/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Memcached_implementation.html">master</a>
    <a class="version" href="../../6.2.1/core/modules/Memcached_implementation.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Memcached_implementation.html">Memcached implementation - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#FAQS.adoc">FAQs</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Memcached implementation - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Modules.html" class="bare">Modules.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Modules.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="List_of_modules.html">List of modules</a></p>
</li>
<li>
<p><a href="Cache_modules.html">Cache modules</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596774"><a class="anchor" href="#src-196596774"></a>Memcached implementation</h2>
<div class="sectionbody">
<table id="main-content" class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Edition</th>
<th class="tableblock halign-left valign-top">CE, Cloud</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.magnolia-cms.com/mla">MLA</a>,
<a href="http://www.gnu.org/licenses/gpl.html">GPL</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://jira.magnolia-cms.com/browse/MGNLCACHE">MGNLCACHE</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maven site</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://nexus.magnolia-cms.com/content/sites/magnolia.public.sites/magnolia-cache/">Cache</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latest version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.9.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="http://memcached.org">Memcached</a> is a high-performance, distributed
memory object caching system. Memcached implementation for Magnolia CMS
brings you the advantages of a distributed cache:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sharing of cache items between multiple instances of Magnolia.</p>
</li>
<li>
<p>Cached items persist restart of Magnolia instance.</p>
</li>
<li>
<p>Memcached servers may run on any server in the network and so do not
consume your server memory.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="src-196596774_Memcachedimplementation-Installing"><a class="anchor" href="#src-196596774_Memcachedimplementation-Installing"></a>Installing</h3>
<div class="paragraph">
<p>Maven is the easiest way to install the module. Add the following to
your
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia.cache&lt;/groupId&gt;
  &lt;artifactId&gt;magnolia-cache-memcached&lt;/artifactId&gt;
  &lt;version&gt;5.9.1&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>If you extend your web app from a
<a href="https://nexus.magnolia-cms.com/content/groups/enterprise/info/magnolia/magnolia-empty-webapp/">magnolia-empty-webapp</a>
or any other web app extended from it (such as
<a href="https://nexus.magnolia-cms.com/content/groups/enterprise/info/magnolia/bundle/magnolia-bundled-webapp/">magnolia-bundled-webapp</a>)
you also need to exclude the default ehcache implementation:</p>
</div>
<div class="paragraph">
<p>`    &lt;dependency&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;groupId&gt;info.magnolia&lt;/groupId&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;artifactId&gt;magnolia-empty-webapp&lt;/artifactId&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;type&gt;pom&lt;/type&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;exclusions&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;exclusion&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;groupId&gt;info.magnolia.cache&lt;/groupId&gt;`</p>
</div>
<div class="paragraph">
<p>`            &lt;artifactId&gt;magnolia-cache-ehcache&lt;/artifactId&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;/exclusion&gt;  `</p>
</div>
<div class="paragraph">
<p>`    &lt;/exclusions&gt;      `</p>
</div>
<div class="paragraph">
<p>`    &lt;/dependency&gt;`</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196596774_Memcachedimplementation-Usage"><a class="anchor" href="#src-196596774_Memcachedimplementation-Usage"></a>Usage</h3>
<div class="paragraph">
<p>If you&#8217;ve never used memcached, look at
<a href="https://github.com/memcached/memcached/wiki">how to install</a> memcached
server. You need at least one memcache server per cache. That means for
every cache configuration under <code>/modules/cache/config/contentCaching</code>
you need one entry under <code>/modules/cache/config/cacheFactory/caches</code>.
This is at least (by default) <code>defaultPageCache</code> and <code>uuid-key-mapping</code>.</p>
</div>
<div class="paragraph">
<p>Magnolia Memcached implementation uses
<a href="https://code.google.com/p/spymemcached/">Spymemcached client</a> which has
its own configuration options that can be set in
<code>/modules/cache/config/cacheFactory/CACHE_NAME</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cacheFactory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cache.memcached.spy.MemcachedFactory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">caches</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultPageCache</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.cache.memcached.spy.MemcachedConnectionFactoryBuilder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">readBufSizeN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">useNagleAlgorithmN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">protocolN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINARY</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeoutExceptionThresholdN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">998</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">opQueueMaxBlockTimeN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shouldOptimizeN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">opTimeoutN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">daemonN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxReconnectDelayN2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">servers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">localhost:11211</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">uuid-key-mapping</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">../defaultPageCache</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">servers</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">localhost:11212</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Properties:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Parameter</strong></th>
<th class="tableblock halign-left valign-top"><strong>Default value</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description / Available values</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocolN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BINARY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BINARY</code> or <code>TEXT</code> protocol.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readBufSizeN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of the read buffer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shouldOptimizeN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There are
<a href="https://code.google.com/p/spymemcached/wiki/Optimizations">several
elements</a> of the design that each allow high throughput.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useNagleAlgorithmN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Improves the efficiency of TCP/IP
networks by reducing the number of packets that need to be sent over the
network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxReconnectDelayN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>30</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the maximum reconnect delay.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>opQueueMaxBlockTimeN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the maximum amount of time (in
milliseconds) a client is willing to wait for space to become available
in an output queue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeoutExceptionThresholdN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>998</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the maximum timeout
exception threshold.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>opTimeoutN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the default operation timeout in
milliseconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>failureModeN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Redistribute</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Redistribute (Move on to functional nodes when nodes fail)</p>
</li>
<li>
<p>Retry (Continue to retry a failing node until it comes back up)</p>
</li>
<li>
<p>Cancel (Automatically cancel all operations heading towards a downed
node)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transcoderN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>net.spy.memcached.transcoders.SerializingTranscoder</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Needs to be set as content node with class property:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>net.spy.memcached.transcoders.SerializingTranscoder</code></p>
</li>
<li>
<p><code>net.spy.memcached.transcoders.WhalinTranscoder</code></p>
</li>
<li>
<p><code>net.spy.memcached.transcoders.WhalinV1Transcoder</code></p>
</li>
<li>
<p><code>net.spy.memcached.transcoders.IntegerTranscoder</code></p>
</li>
<li>
<p><code>net.spy.memcached.transcoders.LongTranscoder</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locatorN2B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_MOD</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>ARRAY_MOD</code> (the classic node location algorithm)</p>
</li>
<li>
<p><code>VBUCKET</code> (VBucket support)</p>
</li>
<li>
<p><code>CONSISTENT</code> (Consistent hash algorithm)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>servers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memcache server/s to use for this cache in format
<code>&lt;domain or ip&gt;:&lt;port number&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="src-196596774_Memcachedimplementation-Performance"><a class="anchor" href="#src-196596774_Memcachedimplementation-Performance"></a>Performance</h3>
<div class="paragraph">
<p>One of the advantages of the memcached implementation is the sharing of
cache entries between multiple instances of Magnolia. If the cache item
is processed by one of the public instances, it is sent to memcached
server/s and other Magnolia instances do not need to render the content
again; instead they may use the item cached in the registered memcached
servers.</p>
</div>
<div class="paragraph">
<p>For the following tests, we requested content from two Magnolia
instances at the same time. You can see the results on the first graph.
As you can see the throughput is 2x bigger since the instances share the
cache items. This of course applies only for the first requests for a
content object, but that&#8217;s the time after flushing of cache when the
load on the server is highest.</p>
</div>
<div class="paragraph">
<p>The second graph shows performance when the items are precached.
Memcached is a little slower than Ehcache in this case.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/temp/chart8446945304888561065.png" alt="images/download/temp/chart8446945304888561065.png" height="300"></span>
<span class="image"><img src="../../_images/images/download/temp/chart2766725031611829325.png" alt="images/download/temp/chart2766725031611829325.png" height="300"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196596774_Memcachedimplementation-MemcachedClientLicense"><a class="anchor" href="#src-196596774_Memcachedimplementation-MemcachedClientLicense"></a>Memcached Client License</h3>
<div class="paragraph">
<p>Please note that the Spymemcached client uses its own licence:</p>
</div>
<div class="paragraph">
<p>Spymemcached license</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>/**<br>
* Copyright (c) 2006-2009 Dustin Sallings<br>
* Copyright (c) 2009-2011 Couchbase, Inc.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>+</p>
</li>
<li>
<p>Permission is hereby granted, free of charge, to any person obtaining
a copy<br></p>
</li>
<li>
<p>of this software and associated documentation files (the "Software"),
to deal<br></p>
</li>
<li>
<p>in the Software without restriction, including without limitation the
rights<br></p>
</li>
<li>
<p>to use, copy, modify, merge, publish, distribute, sublicense, and/or
sell<br></p>
</li>
<li>
<p>copies of the Software, and to permit persons to whom the Software
is<br></p>
</li>
<li>
<p>furnished to do so, subject to the following conditions:<br></p>
</li>
<li>
<p>+</p>
</li>
<li>
<p>The above copyright notice and this permission notice shall be
included in<br></p>
</li>
<li>
<p>all copies or substantial portions of the Software.<br></p>
</li>
<li>
<p>+</p>
</li>
<li>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR<br></p>
</li>
<li>
<p>IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY,<br></p>
</li>
<li>
<p>FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT
SHALL THE<br></p>
</li>
<li>
<p>AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
OTHER<br></p>
</li>
<li>
<p>LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING<br></p>
</li>
<li>
<p>FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALING<br></p>
</li>
<li>
<p>IN THE SOFTWARE.<br>
*/</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ehcache 3 module</p>
</div>
<div class="paragraph">
<p>Caching arbitrary objects</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
