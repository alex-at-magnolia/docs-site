<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Templating function arguments and return types - Magnolia 6.2 :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/templating/Templating_function_arguments_and_return_types.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Cloud Light Development</a>
            <a class="navbar-item" href="#">Upgrading in the Cloud</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Visual SPA Editor</a>
            <a class="navbar-item" href="#">API</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
        <li class="version">
          <a href="../../6.2.1/index.html">6.2.1</a>
        </li>
        <li class="version">
          <a href="../../6.2/index.html">6.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Templating_function_arguments_and_return_types.html">master</a>
    <a class="version" href="../../6.2.1/core/templating/Templating_function_arguments_and_return_types.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
  <a href="../../releases/Releases.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Templating_function_arguments_and_return_types.html">Templating function arguments and return types - Magnolia 6.2</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Templating function arguments and return types - Magnolia 6.2</h1>
<div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Templating.html" class="bare">Templating.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Templating.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="Template_scripts.html">Template scripts</a></p>
</li>
<li>
<p><a href="Templating_functions.html">Templating functions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196596496"><a class="anchor" href="#src-196596496"></a>Templating function arguments and return types</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>When using a templating function you pass some parameters and get
something back. The types of these arguments and returned objects are
the same in many methods, and it is helpful to know these types. Read
the Javadoc of typical templating function return types even if you do
not know Java. The Javadoc gives you an idea what else you could do with
the returned objects.</p>
</div>
<div class="sect2">
<h3 id="src-196596496_Templatingfunctionargumentsandreturntypes-NodeandContentMap"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-NodeandContentMap"></a>Node and ContentMap</h3>
<div class="paragraph">
<p>Some functions require a
<a href="http://www.day.com/specs/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html">Node</a>,
whereas others ask for ContentMap .</p>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-javax.jcr.Node"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-javax.jcr.Node"></a>javax.jcr.Node</h4>
<div class="paragraph">
<p>The type from the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/JCR+API">JCR API</a>. Since JCR
is a tree oriented data structure, this type is useful when you want to
find other nodes above (parent, ancestors) or below (children) the
current node.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.jcr.util.ContentMap"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.jcr.util.ContentMap"></a>info.magnolia.jcr.util.ContentMap</h4>
<div class="paragraph">
<p>This Magnolia type is a wrapper for the above mentioned JCR node.
ContentMap provides easy access to the node properties and is useful
when you want to render these properties.</p>
</div>
<div class="paragraph">
<p><code>&lt;h1&gt;${content.title}&lt;/h1&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-ContentMapandNoderenderingcontextobjects"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-ContentMapandNoderenderingcontextobjects"></a>ContentMap and Node rendering context objects</h4>
<div class="ulist">
<ul>
<li>
<p>The rendering context object <code>content</code> provides the current content
node of the context as <code>info.magnolia.jcr.util.ContentMap</code>.</p>
</li>
<li>
<p>The rendering context object <code>model.node</code> provides the current content
node of the context as <code>javax.jcr.Node</code>, see
<a href="Rendering_context_objects.html#src-196596497_Renderingcontextobjects-model">model</a>.
If you have no model but need this type, use <code>cmsfn(content)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>cmsfn</code> provides methods to convert Node to ContentMap and vice versa.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-NodeandContentMapcollections"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-NodeandContentMapcollections"></a>Node and ContentMap collections</h4>
<div class="paragraph">
<p>Both types java.util.List and java.util.Collection either with Node or
with ContentMap items might be required as arguments.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>java.util.List&lt;info.magnolia.jcr.util.ContentMap&gt;</code></p>
</li>
<li>
<p><code>java.util.List&lt;javax.jcr.Node&gt;</code></p>
</li>
<li>
<p><code>java.util.Collection&lt;javax.jcr.Node&gt;</code></p>
</li>
<li>
<p><code>java.util.Collection&lt;info.magnolia.jcr.util.ContentMap&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Keep in mind that <code>List</code> extends <code>Collection</code>. This means that if a
Collection is required, you can pass a List, but this does not work the
other way round.</p>
</div>
<div class="paragraph">
<p><code>cmsfn</code> provides methods to convert Collection&lt;Node&gt; to List&lt;ContentMap&gt;
and from Collection&lt;ContentMap&gt; to List&lt;Node&gt;.</p>
</div>
<div class="paragraph">
<p>Example: Get the children nodes of the node of the current nodes,
convert the returned list of nodes into list of contentMap items and
iterate over the list of contentMap items.</p>
</div>
<div class="paragraph">
<p><code>[#assign currentNode = cmsfn.asJCRNode(content)]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign childrenNodesAsContentMaps = cmsfn.asContentMapList(cmsfn.children(currentNode, <code>"mgnl:page"</code>))]</code></p>
</div>
<div class="paragraph">
<p><code>[#list childrenNodesAsContentMaps as child ]</code></p>
</div>
<div class="paragraph">
<p>`    &lt;li&gt;${child.title}&lt;/li&gt;`</p>
</div>
<div class="paragraph">
<p><code>[/#list]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596496_safe-id-VGVtcGxhdGluZ2Z1bmN0aW9uYXJndW1lbnRzYW5kcmV0dXJudHlwZXMtSXRlbSxBc3NldCxGb2xkZXIsTWFwKG9mYW5hc3NldCksQXNzZXRSZW5kaXRpb24"><a class="anchor" href="#src-196596496_safe-id-VGVtcGxhdGluZ2Z1bmN0aW9uYXJndW1lbnRzYW5kcmV0dXJudHlwZXMtSXRlbSxBc3NldCxGb2xkZXIsTWFwKG9mYW5hc3NldCksQXNzZXRSZW5kaXRpb24"></a>Item, Asset, Folder, Map (of an asset), AssetRendition</h3>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-itemKeyofanasset"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-itemKeyofanasset"></a>itemKey of an asset</h4>
<div class="paragraph">
<p>Some methods in <code>damfn</code> require a String argument called <code>itemKey</code>. An
item key uniquely identifies an asset among different asset providers.</p>
</div>
<div class="paragraph">
<p>When JCR is used as asset provider, the item key is composed of
<code>jcr:&lt;node-UUID&gt;</code>, for instance
<code>jcr:20d6e4e3-fe53-4b23-8d64-6e67a1c1667f</code>. Typically you need to get
the item key from a content node that is created when a component is
saved in the JCR.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong>: A component node contains a reference to an image</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">text_files</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">image</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">jcr:20d6e4e3-fe53-4b23-8d64-6e67a1c1667f</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">imageLocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">left</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtitle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quam Occidental in</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;p&gt;It va esser tam simplic quam Occidental&lt;/p&gt;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In a Java context, if you have an asset and want to know its item key as
a String, use:</p>
</div>
<div class="paragraph">
<p><code>asset.getItemKey().asString()</code></p>
</div>
<div class="paragraph">
<p>In a FreeMarker context, if you have an asset and want to know its item
key as a String, use:</p>
</div>
<div class="paragraph">
<p><code>[#assign itemKey = myAsset.getItemKey().asString()]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Item"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Item"></a>info.magnolia.dam.api.Item</h4>
<div class="paragraph">
<p>Item is the common supertype of Asset and Folder. Some methods of the
<a href="damfn.html">damfn</a> will return Item.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Asset"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Asset"></a>info.magnolia.dam.api.Asset</h4>
<div class="paragraph">
<p>An asset is a digital resource with associated metadata. This interface
provides many methods that you may want to call directly within your
script.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>[#assign myAsset = damfn.getAsset("jcr", "/photos/dilbert.jpg")!]</code></p>
</div>
<div class="paragraph">
<p><code>get the link of an asset to display an image &lt;<code>img</code> <code>src</code>=<code>"${myAsset.getLink()}"</code>/&gt; - when the asset is an image</code></p>
</div>
<div class="paragraph">
<p><code>or a download link: &lt;<code>a</code> <code>href</code>=<code>"${myAsset.getLink()}"</code>&gt;Link to the asset&lt;/<code>a</code>&gt;</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Folder"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Folder"></a>info.magnolia.dam.api.Folder</h4>
<div class="paragraph">
<p>A Folder represents a structural item holding
<a href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.Asset">Assets</a>.
Depending on the provider, this can be directly mapped to the concept of
folders/directories (JCR, FileSystems, and so on); for others this might
map to the concept of albums, playlists, sets, and so on.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>[#assign photosFolder = damfn.getFolder("jcr", "/photos")]</code></p>
</div>
<div class="paragraph">
<p><code>The folder ${photosFolder.name} contains the following images:</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>ul</code>&gt;</code></p>
</div>
<div class="paragraph">
<p><code>[#list photosFolder.getChildren()  as item]</code></p>
</div>
<div class="paragraph">
<p>`    &lt;<code>li</code>&gt;${item.getName()}&lt;/<code>li</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>[/#list]</code></p>
</div>
<div class="paragraph">
<p>`&lt;/<code>ul</code>&gt;Â `</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-Mapofanassetanditsmetadata"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-Mapofanassetanditsmetadata"></a>Map of an asset and its metadata</h4>
<div class="paragraph">
<p>The DAM templating functions (<a href="damfn.html">damfn</a>) provide a method
which returns a <code>java.util.Map</code> containing all the bean properties of
the asset.</p>
</div>
<div class="paragraph">
<p><code>[#assign myAsset = damfn.getAsset(<code>"jcr"</code>, <code>"photos/pool.jpg"</code>)!]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign myAssetMap = damfn.getAssetMap(myAsset)]</code></p>
</div>
<div class="paragraph">
<p><code>fileSize: ${myAssetMap.fileSize}</code></p>
</div>
<div class="paragraph">
<p><code>folder: ${myAssetMap.caption?string}</code></p>
</div>
<div class="paragraph">
<p><code>name: ${myAssetMap.name}</code></p>
</div>
<div class="paragraph">
<p><code>title: ${myAssetMap.title}</code></p>
</div>
<div class="paragraph">
<p><code>caption: ${myAssetMap.caption}</code></p>
</div>
<div class="paragraph">
<p><code>copyright: ${myAssetMap.copyright}</code></p>
</div>
<div class="paragraph">
<p>(See Asset to see all public methods indicating the available
properties.)</p>
</div>
<div class="paragraph">
<p>Additionally, the map may contain further nested maps with the
properties of classes implementing AssetMetadata . The metadata sub maps
are collected under the key <code>metadata</code>.</p>
</div>
<div class="paragraph">
<p>If the asset is provided by the JcrAssetProvider (that means, if the
asset derives form the JCR workspace <code>dam</code>), the following submaps are
provided on the asset map:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metadata class</th>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Composed key</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info.magnolia.dam.api.metadata.DublinCore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata.dc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myAssetMap.metadata.dc.format</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info.magnolia.dam.api.metadata.MagnoliaAssetMetadata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mgnl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata.mgnl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myAssetMap.metadata.mgnl.width</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>[#assign myAsset = damfn.getAsset(<code>"jcr"</code>, <code>"photos/pool.jpg"</code>)!]</code></p>
</div>
<div class="paragraph">
<p><code>[#assign myAssetMap = damfn.getAssetMap(myAsset)]</code></p>
</div>
<div class="paragraph">
<p><code>width: ${myAssetMap.metadata.mgnl.width}</code></p>
</div>
<div class="paragraph">
<p><code>format: ${myAssetMap.metadata.dc.format}</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.AssetRendition"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.dam.api.AssetRendition"></a>info.magnolia.dam.api.AssetRendition</h4>
<div class="paragraph">
<p>An AssetRendition is a "variation" on a asset, for a specific MimeType.</p>
</div>
<div class="paragraph">
<p>The renditions are defined per Theme in the
<a href="Site_definition.html">Site</a>. For instance the node
<code>/modules/site/config/themes/examples-theme/imaging/variations/small-square</code>
defines in the theme "examples-theme" a rendition named "small-square".</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596496_Templatingfunctionargumentsandreturntypes-SiteandTheme"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-SiteandTheme"></a>Site and Theme</h3>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.module.site.Site"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.module.site.Site"></a>info.magnolia.module.site.Site</h4>
<div class="paragraph">
<p>The Site object gives access to its appendant theme (if a theme is
defined on the site) and some other objects as linked domains, mappings,
and so on.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>[#assign mySite=sitefn.site()]</code></p>
</div>
</div>
<div class="sect3">
<h4 id="src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.module.site.theme.Theme"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-info.magnolia.module.site.theme.Theme"></a>info.magnolia.module.site.theme.Theme</h4>
<div class="paragraph">
<p>Theme provides access to lists with CSS and JavaScript files which
belong to the theme.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>[#assign myTheme=sitefn.theme(sitefn.site())]</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196596496_Templatingfunctionargumentsandreturntypes-TemplateDefinition"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-TemplateDefinition"></a>TemplateDefinition</h3>
<div class="paragraph">
<p>Read <a href="Template_definition.html">Template definition</a> to get an idea
what a template definition is. Some templating functions require a
TemplateDefinition object as a parameter.</p>
</div>
<div class="paragraph">
<p>At least the template definition of the current template is always
available as context object - see
<a href="Rendering_context_objects.html#src-196596497_Renderingcontextobjects-def">rendering
context object <code>def</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196596496_Templatingfunctionargumentsandreturntypes-JsonBuilder"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-JsonBuilder"></a>JsonBuilder</h3>
<div class="paragraph">
<p>A JsonBuilder object is a builder for converting JCR nodes into json.
The class offers many public methods to adapt the nodes structure and
the properties. JsonBuilder is the return types of all methods of
<code>jsonfn</code> ( JsonTemplatingFunctions ) and of most of the methods of
JsonBuilder. Method #print returns the json as string.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196596496_Templatingfunctionargumentsandreturntypes-Usingpublicmethodofreturnedobjects"><a class="anchor" href="#src-196596496_Templatingfunctionargumentsandreturntypes-Usingpublicmethodofreturnedobjects"></a>Using public method of returned objects</h3>
<div class="paragraph">
<p>If you know the type of the returned object of a templating function,
you can apply the public methods to the object to retrieve the return
value of these methods. This works in almost every case but not for maps
such as ContentMap .</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>[#assign currentNode = cmsfn.asJCRNode(content)]</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>i</code>&gt;The path of the underlying jcr node in this context is ${currentNode.getPath()}.&lt;/<code>i</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Line 1: Assign an object of type javax.jcr.Node to the variable
<code>currentNode</code>.</p>
</li>
<li>
<p>Line 2: Use the <code>getPath()</code> method which is a public method defined in
javax.jcr.Node. It returns a String.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The script will print for instance: <em>The path of the underlying jcr node
in this context is /home/products.</em></p>
</div>
<div class="paragraph">
<p>tagfn</p>
</div>
<div class="paragraph">
<p>Rendering context objects</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
