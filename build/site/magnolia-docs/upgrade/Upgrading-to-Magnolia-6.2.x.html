<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrading to Magnolia 6.2.x :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/upgrade/Upgrading-to-Magnolia-6.2.x.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../magnolia-docs/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../magnolia-docs/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../magnolia-docs/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Upgrading-to-Magnolia-6.2.x.html">master</a>
    <a class="version" href="../6.2.1/upgrade/Upgrading-to-Magnolia-6.2.x.html">6.2.1</a>
    <a class="version is-missing" href="../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Magnolia Documentation</a></li>
    <li>Dump</li>
    <li><a href="Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Upgrading to Magnolia 6.2.x</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Release+notes+for+Magnolia+CMS+6.2">Release
notes for Magnolia CMS 6.2</a></p>
</li>
<li>
<p><a href="Changes-in-Magnolia-6-UI.html">Changes in Magnolia 6 UI</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Certified+stack">Certified
stack</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Known+issues">Known
issues</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/End-of-life+policy">End-of-life
policy</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This page contains information you should be aware of when upgrading to
Magnolia 6.2.x from any previous and
<a href="https://wiki.magnolia-cms.com/display/DOCS62/End-of-life+policy">currently
supported version</a>. Before starting the upgrade process, we recommend
you read:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Releases">Release notes</a>
for the version you are updating to as well as for all intermediate
versions.</p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Certified+stack">Certified
stack</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are migrating from a Magnolia release which has already reached
end of life, please <a href="mailto:info@magnolia-cms.com">contact us</a> for
migration support.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Whattoupdate"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Whattoupdate"></a>What to update</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click to see the list of all updated and new modules released with
Magnolia 6.2.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Advanced Cache 2.3</p>
</li>
<li>
<p>Backup 2.4</p>
</li>
<li>
<p>Barebones Tomcat Bundle 1.2</p>
</li>
<li>
<p>Blossom 3.3.1</p>
</li>
<li>
<p>Cache 5.9.0</p>
</li>
<li>
<p>Campaign Publisher 1.3.2</p>
</li>
<li>
<p>Categorization 2.7.1</p>
</li>
<li>
<p>Community Edition 6.2</p>
</li>
<li>
<p>Contacts App 1.8</p>
</li>
<li>
<p>Content Dependencies 2.0</p>
</li>
<li>
<p>Content Editor 1.3.3</p>
</li>
<li>
<p>Content Tags 2.0</p>
</li>
<li>
<p>Content Translation Support 2.4.2</p>
</li>
<li>
<p>Content Types 1.1.1</p>
</li>
<li>
<p>DAM 3.0</p>
</li>
<li>
<p>Definitions App 2.1</p>
</li>
<li>
<p>Demo Projects 1.5</p>
</li>
<li>
<p>Diff 2.2</p>
</li>
<li>
<p>DX Core 6.2</p>
</li>
<li>
<p>External Forms 1.5.1</p>
</li>
<li>
<p>Freemarker Templating Samples 6.0.2</p>
</li>
<li>
<p>Groovy 3.0</p>
</li>
<li>
<p>Icons 22</p>
</li>
<li>
<p>Language Bundles 1.1</p>
</li>
<li>
<p>Machine Learning 1.2</p>
</li>
<li>
<p>Magnolia 6.2</p>
</li>
<li>
<p>Mail 5.5.3</p>
</li>
<li>
<p>Marketing Tags Manager 1.4.3</p>
</li>
<li>
<p>Multisite 2.1</p>
</li>
<li>
<p>Observation 2.2</p>
</li>
<li>
<p>Pages 6.2</p>
</li>
<li>
<p>Password Manager 1.2.3</p>
</li>
<li>
<p>Periscope 1.2</p>
</li>
<li>
<p>Personalization 2.0</p>
</li>
<li>
<p>Privacy 2.0</p>
</li>
<li>
<p>Public User Registration 2.7.3</p>
</li>
<li>
<p>Publishing 1.2</p>
</li>
<li>
<p>Publishing Transactional 1.0.5</p>
</li>
<li>
<p>Resources 3.0</p>
</li>
<li>
<p>REST Client 2.0</p>
</li>
<li>
<p>REST Client UI 1.0</p>
</li>
<li>
<p>REST Framework 2.2</p>
</li>
<li>
<p>RSS Aggregator 2.6.3</p>
</li>
<li>
<p>Scheduler 2.3.3</p>
</li>
<li>
<p>Site 1.2.4</p>
</li>
<li>
<p>SiteMesh 1.2</p>
</li>
<li>
<p>Soft Locking 3.0</p>
</li>
<li>
<p>Task Management 1.2.7</p>
</li>
<li>
<p>Third-party library BOM 6.2</p>
</li>
<li>
<p>UI 6.2</p>
</li>
<li>
<p>Usage Metrics 1.1</p>
</li>
<li>
<p>Vaadin Compatibility Addons 1.3.3</p>
</li>
<li>
<p>Workflow 6.0</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Checkthemagnolia.propertiesfile"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Checkthemagnolia.propertiesfile"></a>Check the magnolia.properties file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When upgrading Magnolia, it is always worth comparing your
<code>magnolia.properties</code> file with the one from the newly released Magnolia
bundles. Below are the latest versions of the <code>magnolia.properties</code>
files for Magnolia 6.2.</p>
</div>
<div class="paragraph">
<p><strong>Magnolia CE</strong></p>
</div>
<div class="paragraph">
<p>ce/magnolia-empty-webapp/src/main/webapp/WEB-INF/config/default/magnolia.properties</p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code># Here we define some properties not</code></p>
</div>
<div class="paragraph">
<p><code># configured in the config repository.</code></p>
</div>
<div class="paragraph">
<p><code># They are used in common before the initialization</code></p>
</div>
<div class="paragraph">
<p><code># of the repositories.</code></p>
</div>
<div class="paragraph">
<p><code>#</code></p>
</div>
<div class="paragraph">
<p><code># WARNING: on Windows systems, either use the /</code></p>
</div>
<div class="paragraph">
<p><code># to separate path elements, or escape the \ with</code></p>
</div>
<div class="paragraph">
<p><code># another \, i.e C:\\magnolia\\data\\repositories</code></p>
</div>
<div class="paragraph">
<p><code># or c:/magnolia/data/repositories</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.home=${magnolia.app.rootdir}</code></p>
</div>
<div class="paragraph">
<p><code># The directory to expose file system resources from</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.resources.dir=${magnolia.home}/modules</code></p>
</div>
<div class="paragraph">
<p><code># Pattern to define which resources should be observed by ClasspathScanner</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.resources.classpath.observation.pattern=.*\\.(ftl|yaml)$</code></p>
</div>
<div class="paragraph">
<p><code># Directories relative to magnolia.resources.dir which will be excluded from FileResourceOrigin observation.</code></p>
</div>
<div class="paragraph">
<p><code># Also see info.magnolia.resourceloader.file.FileSystemResourceOrigin#EXCLUDED_DIRECTORIES</code></p>
</div>
<div class="paragraph">
<p><code>#magnolia.resources.filesystem.observation.excludedDirectories=META-INF,WEB-INF,cache,docroot,logs,repositories,tmp</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.cache.startdir=${magnolia.home}/cache</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.upload.tmpdir=${magnolia.home}/tmp</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.exchange.history=${magnolia.home}/history</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.config=WEB-INF/config/default/repositories.xml</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.home=${magnolia.home}/repositories</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.jackrabbit.config=WEB-INF/config/repo-conf/jackrabbit-bundle-h2-search.xml</code></p>
</div>
<div class="paragraph">
<p><code>log4j.config=WEB-INF/config/default/log4j2.xml</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.logs.dir=${magnolia.home}/logs</code></p>
</div>
<div class="paragraph">
<p><code># The directories in which the bootstrap files are searched</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.dir=WEB-INF/bootstrap/author WEB-INF/bootstrap/common</code></p>
</div>
<div class="paragraph">
<p><code># This is only used for the initial installation afterward the configuration in the config repository is used</code></p>
</div>
<div class="paragraph">
<p><code># The value is saved in /server/admin</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.authorInstance=true</code></p>
</div>
<div class="paragraph">
<p><code># Some modules contain optional sample content. They will check this property to decide if they should install</code></p>
</div>
<div class="paragraph">
<p><code># the sample data</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.samples=true</code></p>
</div>
<div class="paragraph">
<p><code># Activate UTF-8 support to pages</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.utf8.enabled=false</code></p>
</div>
<div class="paragraph">
<p><code># Switch to false to enhance the performance of the javascript generation and similar</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.develop=false</code></p>
</div>
<div class="paragraph">
<p><code># Change to point at your custom Vaadin widgetset and theme</code></p>
</div>
<div class="paragraph">
<p><code># Your widgetset should always inherit magnolia&#8217;s default widgetset (info.magnolia.widgetset.MagnoliaWidgetSet)</code></p>
</div>
<div class="paragraph">
<p><code># Your theme should always include magnolia&#8217;s default theme (admincentral)</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.vaadin.widgetset=info.magnolia.widgetset.MagnoliaWidgetSet</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.vaadin.theme=admincentral</code></p>
</div>
<div class="paragraph">
<p><code># Contact details displayed in the footer of the login form</code></p>
</div>
<div class="paragraph">
<p><code>#magnolia.service.contact=</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code># Repository connection</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.connection.jcr.userId = admin</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.connection.jcr.password = admin</code></p>
</div>
<div class="paragraph">
<p><code># Set it to true if bootstrapping/update should be performed automatically</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.update.auto=false</code></p>
</div>
<div class="paragraph">
<p><code># Location of the file containing both the private and the public keys used to verify authenticity of activation requests</code></p>
</div>
<div class="paragraph">
<p><code># This file is generated if not present</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.author.key.location=${magnolia.home}/WEB-INF/config/default/magnolia-activation-keypair.properties</code></p>
</div>
<div class="paragraph">
<p><strong>Magnolia DX Core</strong></p>
</div>
<div class="paragraph">
<p>dx-core/magnolia-dx-core-webapp/src/main/webapp/WEB-INF/config/default/magnolia.properties</p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code># Here we define some properties not</code></p>
</div>
<div class="paragraph">
<p><code># configured in the config repository.</code></p>
</div>
<div class="paragraph">
<p><code># They are used in common before the initialization</code></p>
</div>
<div class="paragraph">
<p><code># of the repositories.</code></p>
</div>
<div class="paragraph">
<p><code>#</code></p>
</div>
<div class="paragraph">
<p><code># WARNING: on Windows systems, either use the /</code></p>
</div>
<div class="paragraph">
<p><code># to separate path elements, or escape the \ with</code></p>
</div>
<div class="paragraph">
<p><code># another \, i.e C:\\magnolia\\data\\repositories</code></p>
</div>
<div class="paragraph">
<p><code># or c:/magnolia/data/repositories</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.home=${magnolia.app.rootdir}</code></p>
</div>
<div class="paragraph">
<p><code># The directory to expose file system resources from</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.resources.dir=${magnolia.home}/modules</code></p>
</div>
<div class="paragraph">
<p><code># Pattern to define which resources should be observed by ClasspathScanner</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.resources.classpath.observation.pattern=.*\\.(ftl|yaml)$</code></p>
</div>
<div class="paragraph">
<p><code># Directories relative to magnolia.resources.dir which will be excluded from FileResourceOrigin observation.</code></p>
</div>
<div class="paragraph">
<p><code># Also see info.magnolia.resourceloader.file.FileSystemResourceOrigin#EXCLUDED_DIRECTORIES</code></p>
</div>
<div class="paragraph">
<p><code>#magnolia.resources.filesystem.observation.excludedDirectories=META-INF,WEB-INF,cache,docroot,logs,repositories,tmp</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.cache.startdir=${magnolia.home}/cache</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.upload.tmpdir=${magnolia.home}/tmp</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.exchange.history=${magnolia.home}/history</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.config=WEB-INF/config/default/repositories.xml</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.home=${magnolia.home}/repositories</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.repositories.jackrabbit.config=WEB-INF/config/repo-conf/jackrabbit-bundle-h2-search.xml</code></p>
</div>
<div class="paragraph">
<p><code>log4j.config=WEB-INF/config/default/log4j2.xml</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.logs.dir=${magnolia.home}/logs</code></p>
</div>
<div class="paragraph">
<p><code># The directories in which the bootstrap files are searched</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.dir=WEB-INF/bootstrap/author WEB-INF/bootstrap/common</code></p>
</div>
<div class="paragraph">
<p><code># This is only used for the initial installation afterward the configuration in the config repository is used</code></p>
</div>
<div class="paragraph">
<p><code># The value is saved in /server/admin</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.authorInstance=true</code></p>
</div>
<div class="paragraph">
<p><code># Some modules contain optional sample content. They will check this property to decide if they should install</code></p>
</div>
<div class="paragraph">
<p><code># the sample data</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.bootstrap.samples=true</code></p>
</div>
<div class="paragraph">
<p><code># Activate UTF-8 support to pages</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.utf8.enabled=false</code></p>
</div>
<div class="paragraph">
<p><code># Switch to false to enhance the performance of the javascript generation and similar</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.develop=false</code></p>
</div>
<div class="paragraph">
<p><code># Change to point at your custom Vaadin widgetset and theme</code></p>
</div>
<div class="paragraph">
<p><code># Your widgetset should always inherit magnolia&#8217;s Pro widgetset (info.magnolia.widgetset.MagnoliaProWidgetSet)</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.vaadin.widgetset=info.magnolia.widgetset.MagnoliaProWidgetSet</code></p>
</div>
<div class="paragraph">
<p><code># Your theme should always include magnolia&#8217;s default theme (admincentral)</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.ui.vaadin.theme=admincentral</code></p>
</div>
<div class="paragraph">
<p><code># Contact details displayed in the footer of the login form</code></p>
</div>
<div class="paragraph">
<p><code>#magnolia.service.contact=</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code># Repository connection</code></p>
</div>
<div class="paragraph">
<p><code>#--------------------------------------------</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.connection.jcr.userId = admin</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.connection.jcr.password = admin</code></p>
</div>
<div class="paragraph">
<p><code># Set it to true if bootstrapping/update should be performed automatically</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.update.auto=false</code></p>
</div>
<div class="paragraph">
<p><code># Location of the file containing both the private and the public keys used to verify authenticity of activation requests</code></p>
</div>
<div class="paragraph">
<p><code># This file is generated if not present</code></p>
</div>
<div class="paragraph">
<p><code>magnolia.author.key.location=${magnolia.home}/WEB-INF/config/default/magnolia-activation-keypair.properties</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-ApacheTomcat"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-ApacheTomcat"></a>Apache Tomcat</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use Apache Tomcat, note that we have upgraded to version 9.0.31.
We recommend this update since it fixes some possible security
vulnerabilities.</p>
</div>
<div class="paragraph">
<p>If you use another servlet container, check out the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Certified+stack">certified
stack</a> for supported versions.</p>
</div>
<div class="paragraph">
<p>Server configuration with relaxedQueryChars</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Tomcat 9 has become less tolerant of special characters when compared to
some of its previous versions. To bring back support for special
characters as it was in Tomcat 8 (for instance, to
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Delivery+endpoint+API+v2#DeliveryendpointAPIv2-queryNodes-filter">query
the <code>delivery</code> endpoint API with filters</a>), we have added the characters
<code>[</code>, <code>]</code> and <code>|</code> to the <code>relaxedQueryChars</code> attribute on the <code>Connector</code>
element in the <code>server.xml</code> configuration file.</p>
</div>
<div class="paragraph">
<p>[<mark>src-196595266_UpgradingtoMagnolia6.2.x-anc-library-updates]</mark>#</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Third-partylibraries"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Third-partylibraries"></a>Third-party libraries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All changes in third-party libraries are managed via the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/BOM+for+third-party+libraries">BOM
for third-party libraries</a> . If you manage your bundles via Maven using
the BOM, all updates will be handled automatically. Among the most
notable third-party library updates in the Magnolia 6.2 release are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vaadin 8.9.4</p>
</li>
<li>
<p>Guava 28.2-jre</p>
</li>
<li>
<p>Tika 1.23</p>
</li>
<li>
<p>Jackrabbit 2.20.0</p>
</li>
<li>
<p>Ehcache 3.7.1<br>
Note: Due to an incompatibility issue, the items that remain on disk
will be deleted after updating.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[<mark>src-196595266_UpgradingtoMagnolia6.2.x-anc-how-to]</mark>#</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Howtoupgrade"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Howtoupgrade"></a>How to upgrade</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Generalrecommendations"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Generalrecommendations"></a>General recommendations</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>You should be able to upgrade to the latest release in the Magnolia 6
branch directly from any previous Magnolia release that has not reached
<a href="https://wiki.magnolia-cms.com/display/DOCS62/End-of-life+policy">end of
life</a>. Only if you have UI or style customizations, we recommend that
you first upgrade to the latest release in the Magnolia 5 branch and
then to the latest release in the Magnolia 6 branch. For example: 5.6.8
→ 5.7.7 → 6.2.</p>
</li>
<li>
<p>Update all external libraries required by the Magnolia release to
which you intend to upgrade.</p>
</li>
<li>
<p>Because the upgrade process takes time and is vulnerable to incidents,
we recommend you minimize the risk by cleaning up your system, removing
unused data, reindexing everything and doing a full backup first.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>Once Magnolia is running, check the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definitions+app">Definitions
app</a> for deprecated or problematic definitions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Specificaspects"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Specificaspects"></a>Specific aspects</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Migratingtothenew6UIframework"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Migratingtothenew6UIframework"></a>Migrating to the new 6 UI framework</h3>
<div class="paragraph">
<p>The UI in Magnolia 6.2 comes with a number of changes and new
implementations. For their impact and more details, see
<a href="Changes-in-Magnolia-6-UI.html">Changes in Magnolia 6 UI</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Automaticconversionsandthecompatibilitylayer"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Automaticconversionsandthecompatibilitylayer"></a>Automatic conversions and the compatibility layer</h3>
<div class="paragraph">
<p>To provide a smooth transition from Magnolia 5 UI to Magnolia 6 UI, the
6.2.x comes with the compatibility layer ItemProviderStrategy
(<code>magnolia-ui-framework-compatibility</code>), introduced to make the old 5 UI
definitions work in the new 6 UI framework.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start by using the compatibility layer. It will try to convert the
fields and forms on-the-fly to the effect that:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The old dialog definitions can be referenced by actions of the
updated apps and attempts will be made to convert the definitions on the
fly.</p>
</li>
<li>
<p>The old 5 UI apps can still be used.<br>
Note: The 5 UI and 6 UI app definitions differ considerably. Compare,
for example, the following definition snippets of the Contacts app,
including the <strong>Add contact</strong> action definition:</p>
<div class="paragraph">
<p>Click to see the definition snippet in 5 UI.</p>
</div>
<div class="paragraph">
<p><code>appClass: info.magnolia.ui.contentapp.ContentApp</code></p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>class`</code>: info.magnolia.ui.contentapp.ConfiguredContentAppDescriptor`</p>
</div>
<div class="paragraph">
<p><code>icon: icon-people</code></p>
</div>
<div class="paragraph">
<p><code>subApps:</code></p>
</div>
<div class="paragraph">
<p>`  browser:`</p>
</div>
<div class="paragraph">
<p>`    <code>class</code>: info.magnolia.ui.contentapp.browser.BrowserSubAppDescriptor`</p>
</div>
<div class="paragraph">
<p>`    subAppClass: info.magnolia.ui.contentapp.browser.BrowserSubApp`</p>
</div>
<div class="paragraph">
<p>`    actions:`</p>
</div>
<div class="paragraph">
<p>`      addContact:`</p>
</div>
<div class="paragraph">
<p>`        appName: contacts`</p>
</div>
<div class="paragraph">
<p>`        <code>class</code>: info.magnolia.ui.contentapp.detail.action.CreateItemActionDefinition`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-add-item`</p>
</div>
<div class="paragraph">
<p>`        nodeType: mgnl:contact`</p>
</div>
<div class="paragraph">
<p>`        subAppId: detail`</p>
</div>
<div class="paragraph">
<p>`        availability:`</p>
</div>
<div class="paragraph">
<p>`          root: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`          writePermissionRequired: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`          nodeTypes:`</p>
</div>
<div class="paragraph">
<p>`            folder: mgnl:folder`</p>
</div>
<div class="paragraph">
<p>`          rules:`</p>
</div>
<div class="paragraph">
<p>`            IsNotDeletedRule:`</p>
</div>
<div class="paragraph">
<p>`              implementationClass: info.magnolia.ui.framework.availability.IsNotDeletedRule`</p>
</div>
<div class="paragraph">
<p>+
Click to see the definition snippet in 6 UI.</p>
</div>
<div class="paragraph">
<p>+
<code>icon: icon-contacts-app</code></p>
</div>
<div class="paragraph">
<p><code>class`</code>: info.magnolia.ui.contentapp.configuration.ContentAppDescriptor`</p>
</div>
<div class="paragraph">
<p><code>appClass: info.magnolia.ui.framework.app.BaseApp</code></p>
</div>
<div class="paragraph">
<p><code>label: Contacts V8</code></p>
</div>
<div class="paragraph">
<p><code>datasource:</code></p>
</div>
<div class="paragraph">
<p>`  $type: jcrDatasource`</p>
</div>
<div class="paragraph">
<p>`  workspace: contacts`</p>
</div>
<div class="paragraph">
<p>`  includeProperties: <code>`true</code></p>
</div>
<div class="paragraph">
<p>`  previewDefinition:`</p>
</div>
<div class="paragraph">
<p>`    nodeName: photo`</p>
</div>
<div class="paragraph">
<p>`  allowedNodeTypes:`</p>
</div>
<div class="paragraph">
<p>`    - mgnl:contact`</p>
</div>
<div class="paragraph">
<p>`    - mgnl:folder`</p>
</div>
<div class="paragraph">
<p>`    - mgnl:content`</p>
</div>
<div class="paragraph">
<p>`    - mgnl:contentNode`</p>
</div>
<div class="paragraph">
<p><code>subApps:</code></p>
</div>
<div class="paragraph">
<p>`  browser:`</p>
</div>
<div class="paragraph">
<p>`    <code>class</code>: info.magnolia.ui.contentapp.configuration.BrowserDescriptor`</p>
</div>
<div class="paragraph">
<p>`    actions:`</p>
</div>
<div class="paragraph">
<p>`      add:`</p>
</div>
<div class="paragraph">
<p>`        label: Add contact`</p>
</div>
<div class="paragraph">
<p>`        icon: icon-people`</p>
</div>
<div class="paragraph">
<p>`        $type: openDetailSubappAction`</p>
</div>
<div class="paragraph">
<p>`        appName: contacts-v8`</p>
</div>
<div class="paragraph">
<p>`        subAppName: detail`</p>
</div>
<div class="paragraph">
<p>`        viewType: add`
. Then, convert the old definitions if you want to get rid of all
deprecated code or to get the benefits of the new 6 UI features such as:
* Short <code>type</code> aliases.
* Column filtering.
* Default <strong>Cancel</strong> and <strong>Save</strong> actions.
* IUX slots.
* <code>jsonDatasource</code> (REST Clients).
* Vaadin 8 with simplified data binding.
* Improved UI composition patterns.
* Sharing state with UI component context.</p>
</div>
<div class="paragraph">
<p>+
For example, see the following dialog and its 5 UI and 6 UI
configurations:<br>
<br>
<span class="image"><img src="../_images/upgrade/6-2-upgradingTo62x-aDialog5UI6UIconfigs.png" alt="196595266/6-2-upgradingTo62x-aDialog5UI6UIconfigs.png"></span></p>
</div>
<div class="paragraph">
<p>+
Click here to see the definition in 5 UI.</p>
</div>
<div class="paragraph">
<p>+
<code>label: Dialog</code></p>
</div>
<div class="paragraph">
<p><code>form:</code></p>
</div>
<div class="paragraph">
<p>`  tabs:`</p>
</div>
<div class="paragraph">
<p>`    tab:`</p>
</div>
<div class="paragraph">
<p>`      fields:`</p>
</div>
<div class="paragraph">
<p>`        fooField:`</p>
</div>
<div class="paragraph">
<p>`          fieldType: text`</p>
</div>
<div class="paragraph">
<p>`          label: Text field`</p>
</div>
<div class="paragraph">
<p><code>actions:</code></p>
</div>
<div class="paragraph">
<p>`  commit:`</p>
</div>
<div class="paragraph">
<p>`    <code>class</code>: info.magnolia.ui.dialog.action.SaveDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>`  cancel:`</p>
</div>
<div class="paragraph">
<p>`    <code>class</code>: info.magnolia.ui.dialog.action.CancelDialogActionDefinition`</p>
</div>
<div class="paragraph">
<p>+
Click here to see the definition in 6 UI.</p>
</div>
<div class="paragraph">
<p>+
<code>label: Dialog</code></p>
</div>
<div class="paragraph">
<p><code>form:</code></p>
</div>
<div class="paragraph">
<p>`  properties:`</p>
</div>
<div class="paragraph">
<p>`    fooField:`</p>
</div>
<div class="paragraph">
<p>`      $type: textField`</p>
</div>
<div class="paragraph">
<p>`      label: Text field`</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/<em>/images/icons/emoticons/warning.svg" alt="images/s/en_GB/8100/5084f018d64a97dc638ca9a178856f851ea353ff/</em>/images/icons/emoticons/warning.svg"></span>
In our documentation, the pages pertaining mainly to the old 5 UI have
been marked as <span class="status  red">DEPRECATED</span> and renamed to have the <strong>5 UI</strong>
suffix in the title, for example
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Column+definition">Column
definition - 5 UI</a>. If a parallel 6 UI page exists, it doesn&#8217;t contain
the suffix, hence
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Column+definition">Column
definition</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Migratingfieldsandfieldvalidators"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Migratingfieldsandfieldvalidators"></a>Migrating fields and field validators</h3>
<div class="paragraph">
<p>A number of field converters have been introduced since the release of
Magnolia 6.2. For more details, see the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Field+converters">Field
converters</a> page.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p><strong>Migrating the definitions or using definition converters?</strong></p>
</div>
<div class="paragraph">
<p>There is no simple answer to this question. It depends on a situation.
Using definition converters can be considered a short-term remedy for
the move from the old UI framework to 6 UI.</p>
</div>
<div class="paragraph">
<p>Definition converters that we ship do not migrate everything. The
converters just adapt the old definitions to the new format at runtime.</p>
</div>
<div class="paragraph">
<p>Converters won&#8217;t work on custom fields and custom validators, which you
must migrate to Magnolia 6 UI.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Migratingfieldtransformers"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Migratingfieldtransformers"></a>Migrating field transformers</h3>
<div class="paragraph">
<p>The Magnolia 5 UI field transformer classes no longer exist in the
Magnolia 6 UI framework. Their functionality has been replaced by the
<code>ItemProviderStrategy</code> interface. For details, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Magnolia+6+UI+ports+of+5+UI+field+transformer+classes">Magnolia
6 UI ports of 5 UI field transformer classes</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Migratingcustommodules"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Migratingcustommodules"></a>Migrating custom modules</h3>
<div class="paragraph">
<p>If you have custom modules that rely on the previous UI modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pre-built JAR files of your custom modules will be binary compatible
with Magnolia 6.x. You can add them to your <code>WEB-INF/libs</code> folder
without further changes.</p>
</li>
<li>
<p>If you want to compile and rebuild your custom modules:<br>
The composition of submodules of the UI project has changed, and some
submodules have been removed.<br>
Several of the stock Magnolia apps have already been migrated to the 6
UI. Many of the legacy 5 UI apps have been moved to the
<code>-compatibility `modules, for example
`magnolia-pages-app-compatibility</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Migratingcontenttypebaseddefinitions"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Migratingcontenttypebaseddefinitions"></a>Migrating content type based definitions</h3>
<div class="paragraph">
<p>In Magnolia 6.2.x, the <code>!content-type</code> directive generates a Magnolia 6
UI app. This means that any overriding or decoration of a content-type
based app needs to be updated to match the 6 UI. As an alternative, you
can use the new <code>!content-type-m5</code> directive, which generates a 5 UI
app.</p>
</div>
<div class="paragraph">
<p>Click to see an example</p>
</div>
<div class="paragraph">
<p>/content-type-examples/apps/tourGuides-app.yaml</p>
</div>
<div class="paragraph">
<p><code>!content-type-m5:tourGuide</code></p>
</div>
<div class="paragraph">
<p><code>name: tourGuides-app</code></p>
</div>
<div class="paragraph">
<p>In this case, the app will be interpreted as a 5 UI app and you don&#8217;t
have to update its descriptor to conform to the 6 UI definition.</p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>If you
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definition+decoration">decorate</a>,
<a href="https://wiki.magnolia-cms.com/display/DOCS62/YAML+inherit+and+include">include,
inherit or override</a> definitions, make sure that you don&#8217;t mix 5 UI and
6 UI definitions.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-UpgradingcustomizedPagesandAssetsapps"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-UpgradingcustomizedPagesandAssetsapps"></a>Upgrading customized Pages and Assets apps</h3>
<div class="paragraph">
<p>With the 6.2 release, the Pages and Assets apps have been migrated to
the 6 UI framework. If in code you refer to any of these apps through
app ID, be aware that under 6 UI, the ID is different.</p>
</div>
<div class="paragraph">
<p>|==
|App name |5 UI ID |6 UI ID
|Assets |<code>assets</code> |<code>dam</code>
|Pages |<code>pages</code> |<code>pages-app</code>
|==</p>
</div>
<div class="paragraph">
<p>Due to module dependencies, most of the old 5 UI apps are still included
in our webapps but are hidden in the UI. They are now part of the
<code>/modules/ui-admincentral/config/appLauncherLayout/hiddenApps</code> group. An
exception is the 5 UI Pages app, which has been removed from the CE
webapps. To bring it back to a CE webapp, you need to add
<code>magnolia-pages-app-compatibility</code> to your webapp project.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Restoringthelegacy5UIappsforauthors"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Restoringthelegacy5UIappsforauthors"></a>Restoring the legacy 5 UI apps for authors</h3>
<div class="paragraph">
<p>If you wish to let the editors use the old 5 UI apps instead of the new
ones, the most straightforward procedure is:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the Configuration app, go to
<code>/modules/ui-admincentral/config/appLauncherLayout/groups/edit/apps/</code>.</p>
</li>
<li>
<p>Rename <code>pages-app</code> to <code>pages</code>.</p>
</li>
<li>
<p>Go to <code>/modules/ui-admincentral/config/appLauncherLayout/hiddenApps/</code>.</p>
</li>
<li>
<p>Delete the <code>pages</code> item.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Restoringthelegacy5UIappsduringmigrationdevelopment"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Restoringthelegacy5UIappsduringmigrationdevelopment"></a>Restoring the legacy 5 UI apps during migration development</h3>
<div class="paragraph">
<p>If you need to use the legacy apps during migration development, often
side-by-side with the new 6 UI apps, consider some of these options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configure a role based setup.</p>
</li>
<li>
<p>Rename or decorate an app with a different label. See
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Definition+decoration#Definitiondecoration-Changingthetitleandiconofanapp">Changing
the title and icon of an app</a>.</p>
</li>
<li>
<p>Reconfigure the App launcher
<a href="https://wiki.magnolia-cms.com/display/DOCS62/App+launcher+layout">layout</a>
of groups through
<code>/modules/ui-admincentral/config/appLauncherLayout/groups</code> . For
example, add a new <strong>Edit</strong> group for the legacy apps:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/upgrade/6-2-upgradingTo62x-twoPagesApps-New5UIGroup-.png" alt="196595266/6-2-upgradingTo62x-twoPagesApps-New5UIGroup-.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-ChangesintheRESTClientmodule"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-ChangesintheRESTClientmodule"></a>Changes in the REST Client module</h3>
<div class="paragraph">
<p>As of
<a href="https://wiki.magnolia-cms.com/display/DOCS62/REST+Client+module">REST
Client module</a> version 2.0, released with Magnolia 6.2, the Magnolia
RESTEasy Client module (<code>magnolia-resteasy-client</code>) has been deprecated
and merged into the Magnolia REST Client module. A relocation is in
place which relocates <code>magnolia-resteasy-client</code> to the
<code>magnolia-rest-client</code> module, see
<a href="https://git.magnolia-cms.com/projects/MODULES/repos/rest-client/browse/magnolia-resteasy-client-maven-relocate/pom.xml" class="bare">https://git.magnolia-cms.com/projects/MODULES/repos/rest-client/browse/magnolia-resteasy-client-maven-relocate/pom.xml</a>.</p>
</div>
<div class="paragraph">
<p>If your projects have a dependency to <code>magnolia-resteasy-client</code>, we
recommend that you:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Either update and rebuild the projects without the dependency.</p>
</li>
<li>
<p>Or add an older version of the dependency.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally in this version of the module, <code>ClientServiceDefinition</code>
has been deprecated as well and <code>ProxyDefinition</code> should be used
instead.</p>
</div>
<div class="paragraph">
<p>[<mark>src-196595266_UpgradingtoMagnolia6.2.x-anc-maven-managed-webapps]</mark>#</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-ServerpushinAdminCentral"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-ServerpushinAdminCentral"></a>Server push in AdminCentral</h3>
<div class="paragraph">
<p>Server-side <code>push</code> functionality is now provided in AdminCentral. For
this to work, you must update your <code>WEB-INF/web.xml</code> file. It must
declare async support on Magnolia&#8217;s main filter.</p>
</div>
<div class="paragraph">
<p><code>&lt;<code>filter</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>display</code>-name&gt;Magnolia global filters&lt;/<code>display</code>-name&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>filter</code>-name&gt;magnoliaFilterChain&lt;/<code>filter</code>-name&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>filter</code>-class&gt;info.magnolia.cms.filters.MgnlMainFilter&lt;/<code>filter</code>-class&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>async</code>-supported&gt;true&lt;/<code>async</code>-supported&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>filter</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>Since Magnolia does not support <code>push</code> operations over WebSockets, you
must also add the following new context parameters:</p>
</div>
<div class="paragraph">
<p><code>&lt;!-- The following two parameters prevent the Atmosphere Framework from attempting to install -&#8594;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;!-- JSR-356 is not needed and causes issues with our servlet setup -&#8594;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>context</code>-param&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>param</code>-name&gt;org.atmosphere.cpr.AtmosphereConfig.getInitParameter&lt;/<code>param</code>-name&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>param</code>-value&gt;true&lt;/<code>param</code>-value&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>context</code>-param&gt;</code></p>
</div>
<div class="paragraph">
<p><code>&lt;<code>context</code>-param&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>param</code>-name&gt;org.atmosphere.websocket.suppressJSR356&lt;/<code>param</code>-name&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>param</code>-value&gt;true&lt;/<code>param</code>-value&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>context</code>-param&gt;</code></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-Solrmoduleneedsanadditionaldependency"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Solrmoduleneedsanadditionaldependency"></a>Solr module needs an additional dependency</h3>
<div class="paragraph">
<p>If you are migrating from Magnolia 5.x and you are using the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Solr+module">Solr module</a>,
you need to add the following dependency to your bundle:</p>
</div>
<div class="paragraph">
<p><code>&lt;dependency&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;groupId&gt;info.magnolia&lt;/groupId&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;artifactId&gt;magnolia-core-compatibility&lt;/artifactId&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/dependency&gt;</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-UpgradingMaven-managedwebapps"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-UpgradingMaven-managedwebapps"></a>Upgrading Maven-managed webapps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section, we assume that you use Maven to manage your (custom)
webapp. How you do this depends on how you have organized your POM
files.</p>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-UpgradingtheversionsofinheritedBOMfiles"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-UpgradingtheversionsofinheritedBOMfiles"></a>Upgrading the versions of inherited BOM files</h3>
<div class="paragraph">
<p>The most typical use case is that your custom webapp is based on one of
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps#Bundlesandwebapps-anc-artifacts-tableListofpreconfiguredMagnoliabundles">Magnolia&#8217;s
preconfigured webapps</a>. The structure of the Maven project that manages
your webapp may look like this:</p>
</div>
<div class="paragraph">
<p><code>custom-project/</code></p>
</div>
<div class="paragraph">
<p><code>├── custom-project-webapp</code></p>
</div>
<div class="paragraph">
<p><code>│   ├── pom.xml</code></p>
</div>
<div class="paragraph">
<p><code>│   └── src</code></p>
</div>
<div class="paragraph">
<p><code>└── pom.xml</code></p>
</div>
<div class="paragraph">
<p>Line 3: <code>custom-project/custom-project-webapp/pom.xml</code> is the POM file
of your custom webapp.</p>
</div>
<div class="paragraph">
<p>Click to see an example</p>
</div>
<div class="paragraph">
<p>custom-project/custom-project-webapp/pom.xml</p>
</div>
<div class="paragraph">
<p><code>&lt;<code>project</code> <code>xmlns</code>=<code>"http://maven.apache.org/POM/4.0.0"</code> <code>xmlns:xsi</code>=<code>"http://www.w3.org/2001/XMLSchema-instance"</code> <code>xsi:schemaLocation</code>=<code>"http://maven.apache.org/POM/4.0.0 <a href="http://maven.apache.org/maven-v4_0_0.xsd"" class="bare">http://maven.apache.org/maven-v4_0_0.xsd"</a></code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>modelVersion</code>&gt;4.0.0&lt;/<code>modelVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>parent</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>groupId</code>&gt;com.example&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>artifactId</code>&gt;custom-project&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>version</code>&gt;1.0-SNAPSHOT&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>relativePath</code>&gt;../pom.xml&lt;/<code>relativePath</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>parent</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>artifactId</code>&gt;custom-project-webapp&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>name</code>&gt;custom-magnolia: webapp&lt;/<code>name</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>packaging</code>&gt;war&lt;/<code>packaging</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>groupId</code>&gt;info.magnolia.dx&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>artifactId</code>&gt;magnolia-dx-core-webapp&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>type</code>&gt;war&lt;/<code>type</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>groupId</code>&gt;info.magnolia.dx&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>artifactId</code>&gt;magnolia-dx-core-webapp&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>type</code>&gt;pom&lt;/<code>type</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;!-- More custom modules here -&#8594;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>groupId</code>&gt;com.example&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>artifactId</code>&gt;foobar-module&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>build</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>plugins</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>plugin</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>artifactId</code>&gt;maven-war-plugin&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>configuration</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;!-- exclude jars copied "physically" from the webapp overlay - so we only get those resolved by Maven&#8217;s dependency management -&#8594;`</p>
</div>
<div class="paragraph">
<p>`          &lt;<code>dependentWarExcludes</code>&gt;WEB-INF/lib/*.jar&lt;/<code>dependentWarExcludes</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;/<code>configuration</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>plugin</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>plugins</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>build</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>project</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>Line 5: <code>custom-project/pom.xml</code> is the parent POM file of your custom
webapp. This file manages the dependencies and their versions.</p>
</div>
<div class="paragraph">
<p>Click to see an example</p>
</div>
<div class="paragraph">
<p>custom-project/pom.xml</p>
</div>
<div class="paragraph">
<p><code>&lt;<code>project</code> <code>xmlns</code>=<code>"http://maven.apache.org/POM/4.0.0"</code> <code>xmlns:xsi</code>=<code>"http://www.w3.org/2001/XMLSchema-instance"</code> <code>xsi:schemaLocation</code>=<code>"http://maven.apache.org/POM/4.0.0 <a href="http://maven.apache.org/maven-v4_0_0.xsd"" class="bare">http://maven.apache.org/maven-v4_0_0.xsd"</a></code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>modelVersion</code>&gt;4.0.0&lt;/<code>modelVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>groupId</code>&gt;com.example&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>artifactId</code>&gt;custom-project&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>name</code>&gt;custom-magnolia (parent pom)&lt;/<code>name</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>version</code>&gt;1.0-SNAPSHOT&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>packaging</code>&gt;pom&lt;/<code>packaging</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>properties</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>magnoliaBundleVersion</code>&gt;6.2&lt;/<code>magnoliaBundleVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>foobarModuleVersion</code>&gt;1.2&lt;/<code>foobarModuleVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>javaVersion</code>&gt;1.8&lt;/<code>javaVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>properties</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>scm</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>connection</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>developerConnection</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>url</code>/&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>scm</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>dependencyManagement</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>groupId</code>&gt;info.magnolia.dx&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>artifactId</code>&gt;magnolia-dx-core-parent&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>version</code>&gt;${magnoliaBundleVersion}&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>type</code>&gt;pom&lt;/<code>type</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>scope</code>&gt;import&lt;/<code>scope</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;!-- More dependencies for your custom modules here -&#8594;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>groupId</code>&gt;com.example&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>artifactId</code>&gt;foobar-module&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>version</code>&gt;${foobarModuleVersion}&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>dependency</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>dependencies</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>dependencyManagement</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>build</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>plugins</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>plugin</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>groupId</code>&gt;org.apache.maven.plugins&lt;/<code>groupId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>artifactId</code>&gt;maven-compiler-plugin&lt;/<code>artifactId</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>version</code>&gt;3.7.0&lt;/<code>version</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>configuration</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;<code>source</code>&gt;${javaVersion}&lt;/<code>source</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;<code>target</code>&gt;${javaVersion}&lt;/<code>target</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;/<code>configuration</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>plugin</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>plugins</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;!-- default resources configuration which will filter your module descriptors -&#8594;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>resources</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>resource</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>directory</code>&gt;src/main/resources&lt;/<code>directory</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>includes</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;<code>include</code>&gt;*<strong>/</strong>&lt;/<code>include</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;/<code>includes</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>resource</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>resource</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>filtering</code>&gt;true&lt;/<code>filtering</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>directory</code>&gt;src/main/resources&lt;/<code>directory</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>includes</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`          &lt;<code>include</code>&gt;META-INF/magnolia/*&lt;/<code>include</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;/<code>includes</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>resource</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>resources</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>build</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>repositories</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>id</code>&gt;magnolia.public&lt;/<code>id</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>url</code>&gt;<code><a href="https://nexus.magnolia-cms.com/content/groups/public" class="bare">https://nexus.magnolia-cms.com/content/groups/public</a></code>&lt;/<code>url</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>snapshots</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>enabled</code>&gt;false&lt;/<code>enabled</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>snapshots</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>id</code>&gt;magnolia.enterprise.releases&lt;/<code>id</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>url</code>&gt;<code><a href="https://nexus.magnolia-cms.com/content/repositories/magnolia.enterprise.releases" class="bare">https://nexus.magnolia-cms.com/content/repositories/magnolia.enterprise.releases</a></code>&lt;/<code>url</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>snapshots</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`        &lt;<code>enabled</code>&gt;false&lt;/<code>enabled</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;/<code>snapshots</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>id</code>&gt;vaadin-addons&lt;/<code>id</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`      &lt;<code>url</code>&gt;<code><a href="https://maven.vaadin.com/vaadin-addons" class="bare">https://maven.vaadin.com/vaadin-addons</a></code>&lt;/<code>url</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;/<code>repository</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>repositories</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>modules</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`    &lt;<code>module</code>&gt;custom-project-webapp&lt;/<code>module</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;/<code>modules</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>project</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>Note that the parent POM (<code>custom-project/pom.xml</code>) manages all versions
for Magnolia modules as well as for third-party libraries. It imports
<code>info.magnolia.dx:magnolia-dx-core-parent</code>, which manages Magnolia
Enterprise module versions and imports the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>info.magnolia.bundle:magnolia-bundle-parent</code> to manage Magnolia CE
module versions.</p>
</li>
<li>
<p><code>info.magnolia.boms:magnolia-external-dependencies</code> to manage
third-party library versions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the POM files for your custom webapp are organized as shown in this
example, you will only need to change one property. In the
<code>&lt;properties&gt;</code> tag of your parent POM, change the version of the
<code>magnoliaBundleVersion</code> property:</p>
</div>
<div class="paragraph">
<p><code>&lt;<code>properties</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>`  &lt;<code>magnoliaBundleVersion</code>&gt;6.2&lt;/<code>magnoliaBundleVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>foobarModuleVersion</code>&gt;1.2&lt;/<code>foobarModuleVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p>`  &lt;<code>javaVersion</code>&gt;1.8&lt;/<code>javaVersion</code>&gt;`</p>
</div>
<div class="paragraph">
<p><code>&lt;/<code>properties</code>&gt;</code></p>
</div>
<div class="paragraph">
<p>Line 2: Set <code>magnoliaBundleVersion</code> to your required version. That is
all you need to change in the POM files of your webapp.</p>
</div>
</div>
<div class="sect2">
<h3 id="src-196595266_UpgradingtoMagnolia6.2.x-CheckingtheMavendependencytree"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-CheckingtheMavendependencytree"></a>Checking the Maven dependency tree</h3>
<div class="paragraph">
<p>Regardless of how your Maven project is organized, building the Maven
dependency tree helps you analyze the versions of all the Magnolia
modules and all the third-party libraries of your custom webapp.</p>
</div>
<div class="paragraph">
<p>Open a shell, go to the directory of your webapp and execute the
<a href="https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html">Maven
command for the dependency tree</a>:</p>
</div>
<div class="paragraph">
<p><code>cd /Users/jdoe/dev/repo/custom-mgnl-webapps/custom-project/custom-project-webapp</code></p>
</div>
<div class="paragraph">
<p><code>mvn dependency:tree</code></p>
</div>
<div class="paragraph">
<p>[<mark>src-196595266_UpgradingtoMagnolia6.2.x-anc-updating-manually]</mark>#</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Upgradingmanually"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Upgradingmanually"></a>Upgrading manually</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Click here if your project is not using a project build/management tool
&#8230;&#8203;</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the application server.</p>
</li>
<li>
<p>Extract the new Magnolia
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>.</p>
</li>
<li>
<p>Replace the JAR files in the <code>WEB-INF/lib</code> folder of your old Magnolia
instances with the new ones from the bundle.<br>
Magnolia 6.2 updates numerous
<a href="#src-196595266_UpgradingtoMagnolia6.2.x-anc-library-updates">third-party
libraries</a>.</p>
</li>
<li>
<p>Remove any module JARs you previously removed from your instances. Add
any modules you previously added.</p>
</li>
<li>
<p>Add new Magnolia modules.</p>
</li>
<li>
<p>Optional: delete all indexes to give them a boost. Delete the <code>index</code>
folder under each workspace directory:
<code>repositories/magnolia/workspaces/&lt;workspace&gt;/index</code>. Indexes are
re-created on startup, which might take a while depending on the size of
your repository.</p>
</li>
<li>
<p>If you customized your <code>magnolia.properties</code> file, compare the changes
to the file in the new bundle. Properties may have been added or
removed.</p>
</li>
<li>
<p>Read the release notes for all intermediate versions for any
additional update tasks. See the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Releases">Releases</a> page.</p>
</li>
<li>
<p>Restart the application server.</p>
</li>
<li>
<p>In your browser, go to the Magnolia instances and run the web update.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>[<mark>src-196595266_UpgradingtoMagnolia6.2.x-anc-known-issues]</mark>#</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196595266_UpgradingtoMagnolia6.2.x-Knownissues"><a class="anchor" href="#src-196595266_UpgradingtoMagnolia6.2.x-Knownissues"></a>Known issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the <a href="https://wiki.magnolia-cms.com/display/DOCS62/Known+issues">Known
issues</a> page.</p>
</div>
<div class="paragraph">
<p>Changes in Magnolia 6 UI</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
