<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Model-view-presenter pattern - 5 UI - Magnolia 6.2 documentation :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/support/Model-view-presenter-pattern---5-UI.html">
    <meta name="generator" content="Antora 2.3.3">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
    integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
        <script src="https://use.fontawesome.com/ecc89e1666.js"></script>
    <script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item magnolia-logo" href="../../index.html">
      </a>
      <input type="search" placeholder="Search the docs" name="search" id="searchBar">


      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item disabled" href="../../magnolia-docs/core/index.html">Core</a>
        <a class="navbar-item disabled" href="../../magnolia-docs/cloud/index.html">Cloud</a>
        <a class="navbar-item disabled" href="../../magnolia-docs/faqs.html">FAQs</a>
        <a href="https://www.magnolia-cms.com/get-started.html" class="navbar-item" target="_blank"><button class="magnolia-btn">Try Magnolia</button></a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="Model-view-presenter-pattern---5-UI.html">master</a>
    <a class="version" href="../6.2.1/support/Model-view-presenter-pattern---5-UI.html">6.2.1</a>
    <a class="version is-missing" href="../6.2/index.html">6.2</a>
  </div>
</div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Magnolia Documentation</a></li>
    <li><a href="Model-view-presenter-pattern---5-UI.html">Model-view-presenter pattern - 5 UI - Magnolia 6.2 documentation</a></li>
  </ul>
</nav>
</div>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Dump</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/features/Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../core/authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
  </div>
</div>
    </div>
  </aside>
</div>
<main>
<article class="doc">
    <h1 class="page">Model-view-presenter pattern - 5 UI - Magnolia 6.2 documentation</h1>
    <div id="preamble">
<div class="sectionbody">
<div id="ht-loader" class="paragraph">
<p>This content cannot be displayed without JavaScript.<br>
Please enable JavaScript and reload the page.</p>
</div>
<div class="paragraph">
<p><a href="" class="bare"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_docs62"><a class="anchor" href="#_docs62"></a><span class="ht-logo-label">DOCS62</span> <span class="image"><img src="../_images/DOCS62.png" alt="image"></span></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Support.html" class="bare">Support.html</a></p>
</div>
<div class="sect2">
<h3 id="_magnolia_6_2_documentation"><a class="anchor" href="#_magnolia_6_2_documentation"></a>Magnolia 6.2 documentation</h3>
<div id="ht-sidebar-dragbar" class="paragraph">
<p><span class="drag-handle-1"> [.drag-handle-2]</span> [.drag-handle-3]##</p>
</div>
<div id="ht-breadcrumb" class="ulist">
<ul>
<li>
<p><a href="Support.html">Magnolia 6.2 documentation</a></p>
</li>
<li>
<p><a href="">&#8230;&#8203;</a></p>
</li>
<li>
<p><a href="Magnolia-5-UI-documentation.html">Magnolia 5 UI documentation</a></p>
</li>
<li>
<p><a href="Content-apps---5-UI.html">Content apps - 5 UI</a></p>
</li>
<li>
<p><a href="Developing-an-app---5-UI.html">Developing an app - 5 UI</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598439"><a class="anchor" href="#src-196598439"></a>Model-view-presenter pattern - 5 UI</h2>
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p><span class="status  red">DEPRECATED</span></p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>This model-view-presenter pattern has been deprecated since Magnolia
6.0. It is part of the <em>Magnolia 5 UI</em> framework.</p>
</div>
<div class="paragraph">
<p>For the updated implementation, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/UI+framework+and+development+pattern+changes+in+Magnolia+6">UI
framework and development pattern changes in Magnolia 6</a> instead.</p>
</div>
<div class="paragraph">
<p>Magnolia uses the model-view-presenter pattern. The separation of views
and presenters is done consistently throughout the application on server
and client and within complex components. The presenter reacts on events
raised by user interaction, driving the view by populating it with data
to display.</p>
</div>
<div class="sect2">
<h3 id="src-196598439_Model-view-presenterpattern-5UI-UIevents"><a class="anchor" href="#src-196598439_Model-view-presenterpattern-5UI-UIevents"></a>UI events</h3>
<div class="paragraph">
<p>Magnolia uses a
<a href="http://en.wikipedia.org/wiki/Model_View_Presenter">model-view-presenter</a>
pattern to handle UI events.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The View does not implement business logic or communicate with the
Model. The view provides the interface to the end user and reacts on and
informs the Presenter about user actions (input).</p>
</li>
<li>
<p>The View and Presenter communicate together.</p>
</li>
<li>
<p>The Presenter uses the Model to fetch data and implements business
logic, informing the View to display content (such as a form).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/download/attachments/196598439/Model-view-present-pattern.png" alt="images/download/attachments/196598439/Model-view-present-pattern.png"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The View interface defines a Listener interface that is implemented by
the Presenter. The purpose of the Listener interface is to ensure that
the view does not inadvertently communicate to the Presenter.</p>
</li>
<li>
<p>The Listener methods are implemented by the Presenter; the callback
methods from the view to the Presenter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/download/attachments/196598439/model-view-presenter-pattern-workbench.png" alt="images/download/attachments/196598439/model-view-presenter-pattern-workbench.png"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Presenter</code> only knows about the <code>View&#8217;s Interface; this ensures
that the `Presenter</code> is not bypassing the pattern and cannot directly
communicate to the <code>View</code> implementation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/download/attachments/196598439/model-view-presenter-pattern-notifications-and-updates.png" alt="images/download/attachments/196598439/model-view-presenter-pattern-notifications-and-updates.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="src-196598439_Model-view-presenterpattern-5UI-MVPandtheappframework"><a class="anchor" href="#src-196598439_Model-view-presenterpattern-5UI-MVPandtheappframework"></a>MVP and the app framework</h3>
<div class="paragraph">
<p>Here we look at an example of how the MVP pattern is employed in a
subapp.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The View&#8217;s interface defines an inline <code>Listener</code> interface with the
method <code>greetUser(String user)</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><code>public<code> </code>interface<code> HelloWorldMainSubAppView </code>extends`</code> View {`</p>
</div>
<div class="paragraph">
<p>`    <code>void</code> setListener(Listener listener);`</p>
</div>
<div class="paragraph">
<p>`    <code>void</code> addUser(String user);`</p>
</div>
<div class="paragraph">
<p>`    `</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>interface</code> Listener {`</p>
</div>
<div class="paragraph">
<p>`        <code>void</code> greetUser(String user);`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>2. The Presenter (subclass) implements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p></p>
<div class="ulist">
<ul>
<li>
<p><code>View</code> inline listener interface and the <code>greetUser(String user)</code>
callback method. The method is called by the View (via the listener) on
user input through the UI.</p>
</li>
<li>
<p>The interface type of the View is determined by the <code>getView()</code>
method.</p>
</li>
<li>
<p><code>The Presenter</code> registers itself as the <code>View&#8217;s Listener using
the</code> onSubAppStart()` method.</p>
</li>
<li>
<p>In the <code>onSubAppStart()`method the `Presenter</code> calls the `View&#8217;s
interface `getView().addUser("Lisa")`method.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>//The Presenter implements the View&#8217;s Listener by providing the View&#8217;s callback method to the Presenter.</code></p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> HelloWorldMainSubApp </code>extends<code> BaseSubApp </code>implements`</code> HelloWorldMainSubAppView.Listener {`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> LocationController locationController;`</p>
</div>
<div class="paragraph">
<p>`  <code>`// The View is injected into the Presenter&#8217;s constructor. The View&#8217;s implementation is defined by the IOC component provider.</code></p>
</div>
<div class="paragraph">
<p>`    <code>`@Inject</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> HelloWorldMainSubApp(<code>final</code> SubAppContext subAppContext, HelloWorldMainSubAppView view, LocationController locationController) {`</p>
</div>
<div class="paragraph">
<p>`        <code>super</code>(subAppContext, view);`</p>
</div>
<div class="paragraph">
<p>`        <code>`// Set the location controller</code></p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.locationController = locationController;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`  <code>`// Defines the implementation of the injected view in use.</code></p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> HelloWorldMainSubAppView getView() {`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> (HelloWorldMainSubAppView) <code>super</code>.getView();`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`  <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>protected</code> <code>void</code> onSubAppStart() {`</p>
</div>
<div class="paragraph">
<p>`        <code>`// Register this presenter as the View&#8217;s Listener.</code></p>
</div>
<div class="paragraph">
<p>`        getView().setListener(<code>this</code>);`</p>
</div>
<div class="paragraph">
<p>`        <code>`// Call the view to display something.</code></p>
</div>
<div class="paragraph">
<p>`        getView().addUser(<code>"Lisa"</code>);`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`  <code>`// Implements the View&#8217;s Listener method. Is the View&#8217;s callback function to the presenter.</code></p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> greetUser(String user) {`</p>
</div>
<div class="paragraph">
<p>`        <code>`// Do what ever logic needed triggered by this UI action.</code></p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p><code>View</code> calls the <code>Presenter</code> via the <code>Listener&#8217;s `callback-function
`listener.greetUser(user):</code></p>
</div>
<div class="paragraph">
<p><code>@Override</code></p>
</div>
<div class="paragraph">
<p><code>public<code> </code>void<code> addUser(</code>final`</code> String user) {`</p>
</div>
<div class="paragraph">
<p>`    Button button = <code>new</code> Button(<code>"Say hello to &#8220;` + user + <code>&#8221;!"</code>);</code></p>
</div>
<div class="paragraph">
<p>`    button.addClickListener(<code>new</code> Button.ClickListener() {`</p>
</div>
<div class="paragraph">
<p>`        <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`        <code>public</code> <code>void</code> buttonClick(Button.ClickEvent event) {`</p>
</div>
<div class="paragraph">
<p>`            listener.greetUser(user);`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`    });`</p>
</div>
<div class="paragraph">
<p>`    layout.addComponent(button);`</p>
</div>
<div class="paragraph">
<p>` }`</p>
</div>
<div class="paragraph">
<p>Developing an app - 5 UI</p>
</div>
<div class="paragraph">
<p>Overlays and modality - 5 UI</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
    <h3 class="toc-title">PAGE CONTENTS</h3>
    <div id="article-toc"></div>
</aside>
<script>
    var clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function (e) {
        console.log(e);
    });

    clipboard.on('error', function (e) {
        console.log(e);
    });
</script>
</main>
</div>
<footer class="footer">
    <p> &copy; <span id="year"></span> <a href="http://www.magnolia-cms.com" target="_blank"
        title="Link to Magnolia's official website" class="footer-link">Magnolia CMS</a></p>
    
    <div class="footer-bottom">
      <hr class="footer-hr">
    </div>

    <div class="bottom-icons">
      <a href="https://www.facebook.com/Magnolia" target="_blank" title="Magnolia's Facebook Page"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a> <a href="https://twitter.com/magnolia_cms" target="_blank" title="Magnolia's Twitter Page"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/company/magnolia-cms/" target="_blank" title="Magnolia's LinkedIn Page"><i
        class="fa fa-linkedin fa-2x" aria-hidden="true"></i></a>
    </div>

    <div class="bottom-logo">

    </div>

</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.10.0/tocbot.min.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>

<script>
    tocbot.init( {
        tocSelector: '#article-toc',
        contentSelector: 'article',
        headingSelector: 'h1, h2, h3, h4, h5',
        collapseDepth: 3,
        positionFixedSelector: null,
        scrollSmooth: true,
        scrollSmoothDuration: 420
    } );
    var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
    if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
        document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
    }
</script>

 <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript"> docsearch({
      appId: '89ZVZ4S26W',
      apiKey: 'a797119372b8a613eb38a9564867085c',
      indexName: 'dev_DOCS',
      inputSelector: '#searchBar',
      algoliaOptions: { hitsPerPage: 10 },
    });
  </script>
  </body>
</html>
