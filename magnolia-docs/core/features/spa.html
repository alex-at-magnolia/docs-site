<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Single-page applications :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/features/spa.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Cloud Light Development</a>
            <a class="navbar-item" href="#">Upgrading in the Cloud</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Visual SPA Editor</a>
            <a class="navbar-item" href="#">API</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Get Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../administration/Administration.html">Administration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../authoring/Authoring.html">Authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../support/Support.html">Need Support?</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
        <li class="version">
          <a href="../../6.2.1/index.html">6.2.1</a>
        </li>
        <li class="version">
          <a href="../../6.2/index.html">6.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="spa.html">master</a>
    <a class="version" href="../../6.2.1/core/features/spa.html">6.2.1</a>
    <a class="version is-missing" href="../../6.2/index.html">6.2</a>
  </div>
</div>
  <a href="../../releases/Releases.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="spa.html">Single-page applications</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Single-page applications</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="/Developing/SPA+development+and+Magnolia">SPA development and
Magnolia</a></p>
</li>
<li>
<p><a href="https://hd.magnolia-cms.com/">Headless Documentation</a></p>
</li>
<li>
<p><a href="https://hd.magnolia-cms.com/docs/getting-started/hello-spa">Hello
Magnolia - SPA</a></p>
</li>
<li>
<p><a href="/Modules/List+of+modules/Pages+module">Pages module</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since the 6.2 LTS release, marketers and content practitioners can edit
a JavaScript-based SPA (such as React or Angular) in the Magnolia Page
editor in the same way they would edit a traditional website. This means
developers can implement a headless approach with all of its advantages,
and yet content authors still get the control, context and high-fidelity
preview of the Page Editor.</p>
</div>
<div class="paragraph">
<p>Magnolia comes with modules and libraries that help you develop a
<em>Single-Page Application</em> (SPA),</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>``a web application or web site that interacts with the user by
dynamically rewriting the current page rather than loading entire new
pages from a server.'' (Wikipedia).</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>In the SPA scenario, while editing and publishing of page content that
is fed to an SPA still happens in a Magnolia author instance, retrieval
and rendering of that content is delegated to a JavaScript-based
front-end web framework running externally to Magnolia instances.
Likewise, development of an SPA is completely independent of Magnolia:
You don’t need to have our libraries or support to write an SPA.</p>
</div>
<div class="paragraph">
<p><a href="!toc" class="bare">!toc</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a>Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To serve SPA pages, you need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Develop and host a JavaScript SPA. It could be hosted on a Magnolia
instance or another delivery platform such as a CDN, front-end app
server like Next, or any other server. Currently, Angular and React are
supported.</p>
</li>
<li>
<p>Connect the SPA to the REST endpoints of the Magnolia public instance
which will serve page content and template information to the SPA.</p>
</li>
<li>
<p>Make sure that page and component templates developed in the front-end
framework are correctly mapped to their Magnolia counterparts, and that
the page template definition (using the SPA root index.html file)
correctly references all CSS and JavaScript files assembled by the
front-end framework.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_is_a_magnolia_page_served_as_an_spa_page"><a class="anchor" href="#_how_is_a_magnolia_page_served_as_an_spa_page"></a>How is a Magnolia page served as an SPA page?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An SPA expects two types of input: <em>page content</em> and <em>template
definitions</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Page content, which is always edited in the
<a href="/Apps/List+of+apps/Pages+app">Pages app</a>, is requested by an
external SPA through the
<a href="/Developing/API/REST+API/Delivery+endpoint+API/Delivery+endpoint+API+v2">Magnolia
Delivery endpoint API v2</a>.</p>
</li>
<li>
<p>Page, area and component template definitions are requested by the SPA
through a dedicated Magnolia template definition endpoint.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once available to the external app, they are passed to a function in the
app app that renders the final page tree.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rendering_an_spa_page"><a class="anchor" href="#_rendering_an_spa_page"></a>Rendering an SPA page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The rendering of an SPA page is done through the Magnolia JavaScript
libraries available via npm
([@magnolia/react-editor](<a href="https://www.npmjs.com/package/@magnolia/react-editor" class="bare">https://www.npmjs.com/package/@magnolia/react-editor</a>)
and
[@magnolia/angular-editor](<a href="https://www.npmjs.com/package/@magnolia/angular-editor)" class="bare">https://www.npmjs.com/package/@magnolia/angular-editor)</a>).
The libraries assemble a component tree from the REST-delivered content
and templates.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The page node represents the root content for a given application
state, for example a page title or page properties.</p>
<div class="paragraph">
<p>Note: In front-end terms, a page is also a component, just a top-level
one.</p>
</div>
</li>
<li>
<p>Each JCR node then represents a page, area or component.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The
<a href="/Templating/Template+definition#referencing-templates-with-id-property">template
id</a>, typically stored in the
<a href="/Administration/Architecture/Node+types#magnolia-mixin-node-types"><code>mgnl:template</code></a>
property, is used as a key to get the correct JavaScript component.</p>
</div>
<div class="paragraph">
<p>In order to create components based on their template id, component
mappings must be defined. The mappings contain entries whose key is the
template id string, and whose value is a direct JavaScript reference to
the component type. The mappings are stored in the front-end project,
close to template implementations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_editing_content_of_an_spa_page"><a class="anchor" href="#_editing_content_of_an_spa_page"></a>Editing content of an SPA page</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All content editing is done in the Pages app of the Magnolia author
instance. The Magnolia-provided
<a href="/Developing/SPA+development+and+Magnolia/Magnolia+front-end+helpers+for+SPA">SPA
renderer libraries</a> ensure that a SPA project can be edited in the Pages
app. The SPA renderer produces template annotations, which the Pages app
transforms into the green
<a href="/Authoring/Editing+pages#toolbars">toolbars</a> – editable page
elements. Note: The green toolbars are generated whenever the page
iFrame is loaded. Additionally, the green toolbars can also be generated
by calling the <code>document.mgnlRefresh()</code> function.</p>
</div>
<div class="paragraph">
<p>The renderer libraries allow you to work with page hierarchies in the
same way you would expect when creating non-SPA pages. SPA applications
can load content from different Magnolia pages. The content can be
organized using a navigation component or through back and forth
buttons.</p>
</div>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="paragraph">
<p>The <code>angular-minimal</code> is a parent page to the <code>about</code> page:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPages.png" alt="image" width="600"></span></p>
</div>
<div class="paragraph">
<p>Content of both pages is freely accessible to the editor of an SPA
application and links to both pages are placed next to each other on a
blue navigation bar:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPagesEditMode.png" alt="image" width="600"></span>
<span class="image"><img src="../../_images/6-2-singlePageApplications-nestedPagesEditModeAbout.png" alt="image" width="600"></span></p>
</div>
<div class="paragraph">
<p>On the Magnolia side, an SPA has a very simple template definition that
just references the index.html file generated by the external React or
Angular app.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spa_editing_tutorial"><a class="anchor" href="#_spa_editing_tutorial"></a>SPA editing tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Walk through the steps of adding new dynamic components to a managed
SPA:</p>
</div>
<div class="paragraph">
<p><a href="https://hd.magnolia-cms.com/docs/getting-started/hello-spa">Hello
Magnolia - SPA</a></p>
</div>
<div class="paragraph">
<p>Browse a minimal demonstration project:</p>
</div>
<div class="paragraph">
<p><a href="https://git.magnolia-cms.com/projects/demos/repos/minimal-headless-spa-demos">Minimal
Headless SPA Demo</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>See also</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Single-page_application">Single-page
application</a> (Wikipedia).</p>
</li>
<li>
<p><a href="https://angular.io/">angular.io</a> - a TypeScript-based open-source web
application framework.</p>
</li>
<li>
<p><a href="https://reactjs.org/">reactjs.org</a> - a JavaScript library for building
user interfaces.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
