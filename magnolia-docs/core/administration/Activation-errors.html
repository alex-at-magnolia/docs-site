<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Activation errors :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/core/administration/Activation-errors.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Features</a>
            <a class="navbar-item" href="#">Cloud Light Development</a>
            <a class="navbar-item" href="#">Upgrading in the Cloud</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Headless</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Getting Started</a>
            <a class="navbar-item" href="#">Visual SPA Editor</a>
            <a class="navbar-item" href="#">API</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Releases and Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Cache.html">Cache</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Commenting.html">Commenting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/content-authoring.html">Content authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/content-editor.html">Content editor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/content-tagging.html">Content tagging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/content-types.html">Content types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/data-privacy.html">Data privacy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/dam.html">Digital asset management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/find-bar.html">Find bar</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/image-recognition.html">Image recognition</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#core/features/integration.adoc">Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/Personalization.html">Personalization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features/component-personalization.html">Component personalization</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/rest-in-magnolia.html">REST in Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../features/Search.html">Search</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/jackrabbit-search.adoc">Placeholder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/solr-search.adoc">Placeholder</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/search-engine-optimization.html">SEO</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/spa.html">SPA</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Tasks.html">Tasks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/text-classification.html">Text classification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../features/Workflow.html">Workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../cloud/Magnolia-Cloud.html">Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Administration.html">Administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../developing/Developing.html">Developing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Templating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../templating/Templating.html">Templating</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../modules/Modules.html">Modules</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Authoring</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connector Packs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../connector-packs/Connector_Packs.html">Connector Packs Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connector-packs/Analytics_Connector_Pack.html">Analytics Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Analytics_module.html">Analytics module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Integrated_User_Experience.html">Integrated User Experience</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connector-packs/Commerce_Connector_Pack.html">Commerce Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/E-commerce_app.html">E-commerce app</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/E-commerce_module.html">E-commerce module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/ecomfn.html">ecomfn Templating function</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/E-commerce_REST_endpoints.html">E-commerce REST endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/How_to_configure_a_custom_e-commerce_connector.html">Configure a custom e-commerce connector</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connector-packs/DAM_Connector_Pack.html">DAM Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/External_DAM_module.html">External DAM module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connector-packs/Marketing_Automation_Connector_Pack.html">Marketing Automation Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Marketing_Automation_module.html">Marketing automation module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Marketing_Automation_REST_endpoint.html">Marketing automation REST endpoint</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connector-packs/Optimization_Connector_Pack.html">Optimization Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connector-packs/Siteimprove_module.html">Siteimprove module</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Apps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../apps/Apps.html">Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CLI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Special Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../special-features/Special-Features.html">Special Features</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
    <a href="../../index.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Magnolia Documentation</a></li>
    <li><a href="Activation-errors.html">Activation errors</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Activation errors</h1>
<div id="preamble">
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p>Related topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="Activation-security.html">Activation security</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Activation+module">Activation
module</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Transactional+Activation+module">Transactional
Activation module</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Activation+Tools+app">Activation
Tools app</a></p>
</li>
<li>
<p><a href="Publishing-and-activation.html">Publishing and activation</a></p>
</li>
<li>
<p><a href="https://wiki.magnolia-cms.com/display/DOCS62/Publishing+module">Publishing
module</a></p>
</li>
<li>
<p><a href="Publishing-errors.html">Publishing errors</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This page describes some errors that may occur during the
<a href="Activation-security.html">activation</a> of content from the author to
public instance(s).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196595953_Activationerrors-Errortypes"><a class="anchor" href="#src-196595953_Activationerrors-Errortypes"></a>Error types</h3>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Mismatchingkeys"><a class="anchor" href="#src-196595953_Activationerrors-Mismatchingkeys"></a>Mismatching keys</h4>
<div class="paragraph">
<p>If activation fails due to a mismatch of the keys on the two instances,
an error "Handshake information for activation was incorrect" is
displayed. You can also find the error message in the logs:</p>
</div>
<div class="paragraph">
<p><code>ERROR  info.magnolia.module.exchangetransactional.TransactionalSyndicator <code>29.11</code>.<code>2013</code> <code>12</code>:<code>46</code>:<code>50</code>&#8201;&#8212;&#8201;Failed to activate content.</code></p>
</div>
<div class="paragraph">
<p><code>info.magnolia.cms.exchange.ExchangeException: Message received from subscriber: Handshake information <code>for</code> activation was incorrect. Someone attempted to impersonate author instance. Incoming request was from <code>127.0</code>.``0.1</code></p>
</div>
<div class="paragraph">
<p>`  at info.magnolia.module.activation.BaseSyndicatorImpl.activate(BaseSyndicatorImpl.java:<code>425</code>)`</p>
</div>
<div class="paragraph">
<p>`  at info.magnolia.module.exchangetransactional.TransactionalSyndicator$<code>2</code>.run(TransactionalSyndicator.java:<code>175</code>)`</p>
</div>
<div class="paragraph">
<p>`  at EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(Unknown Source)`</p>
</div>
<div class="paragraph">
<p>`  at java.lang.Thread.run(Thread.java:<code>724</code>)`</p>
</div>
<div class="paragraph">
<p>To resolve the issue,
<a href="Activation-security.html#src-196595937_Activationsecurity-Generatinganewpublickey">generate
a new public key</a> and copy it to the public instance.</p>
</div>
<div class="paragraph">
<p>See <a href="Monitoring.html">Monitoring</a> for more about logging and
debugging Magnolia.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Handshakingerrors"><a class="anchor" href="#src-196595953_Activationerrors-Handshakingerrors"></a>Handshaking errors</h4>
<div class="sect4">
<h5 id="src-196595953_Activationerrors-Non-EEsubscriberdetected"><a class="anchor" href="#src-196595953_Activationerrors-Non-EEsubscriberdetected"></a>Non-EE subscriber detected</h5>
<div class="paragraph">
<p>If you activate SSL certificates on your magnolia public instance, and
configure everything so that any http request is redirected to https by
default but leave the subscriber on the author instance configured to
point to <code>http://</code> , any activation request will fail with the following
message:</p>
</div>
<div class="paragraph">
<p><code>Non EE subscriber detected on xxx.</code></p>
</div>
<div class="paragraph">
<p>Change the <code>URL</code> property in the configuration at the
<code>/server/activation/subscribers/&lt;subscriber-name&gt;@URL</code> path. Make sure
it starts with <code>https://</code> .</p>
</div>
</div>
<div class="sect4">
<h5 id="src-196595953_Activationerrors-Simpleexchangetransportfailed"><a class="anchor" href="#src-196595953_Activationerrors-Simpleexchangetransportfailed"></a>Simple exchange transport failed</h5>
<div class="paragraph">
<p>Whenever Java attempts to connect to another application over SSL (e.g.
HTTPS, IMAPS or LDAPS), it will only be able to connect to that
application if it can trust it. The way trust is handled in the Java
world is that you have a keystore, typically
<code>JAVA_HOME/lib/security/cacerts</code> , also known as the <em>truststore</em>. The
error message in this type of failure will look like as follows:</p>
</div>
<div class="paragraph">
<p><code>Can&#8217;t activate: : info.magnolia.cms.exchange.ExchangeException: <code>1</code> error detected: Simple exchange transport failed: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target on xxx.</code></p>
</div>
<div class="paragraph">
<p>To fix this, make sure that <code>-Djavax.net.ssl.trustStore</code> is present in
your JVM arguments. Java will use the keystore specified with that
argument.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="src-196595953_Activationerrors-Cleaningtheerrors"><a class="anchor" href="#src-196595953_Activationerrors-Cleaningtheerrors"></a>Cleaning the errors</h3>
<div class="paragraph">
<p>During the activation process Magnolia makes a copy of the current
content on the public instance and stores it in the <code>mgnlSystem</code>
workspace. The system rolls back any changes using the backup copy if
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Transactional+Activation+module">transactional
activation</a> fails for some reason. If the activation succeeds, the
system overwrites the current content with the activated content and
removes the backup copy.</p>
</div>
<div class="paragraph">
<p>Below tips and tools could help you either detect the issue or clean up
unnecessary content before publishing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#src-196595953_Activationerrors-Debuggingactivation">Debugging
activation</a></p>
</li>
<li>
<p><a href="#src-196595953_Activationerrors-Checkingatstartup">Checking at
startup</a></p>
</li>
<li>
<p><a href="#src-196595953_Activationerrors-Cleaningtool">Cleaning tool</a></p>
</li>
<li>
<p><a href="#src-196595953_Activationerrors-Visualinspection">Visual
inspection</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Debuggingactivation"><a class="anchor" href="#src-196595953_Activationerrors-Debuggingactivation"></a>Debugging activation</h4>
<div class="paragraph">
<p>The steps of an activation on Public can be viewed by turning the
<code>XAReceiveFilter</code> to <code>DEBUG</code> using the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Log+Tools+module">Log Tools
app</a>. Here we see an example of the steps during page activation.<br>
<strong>Activation of page /travel/about/company</strong></p>
</div>
<div class="paragraph">
<p>Activation of page /travel/about/company</p>
</div>
<div class="paragraph">
<p><code>About to begin activate of website:8fa4a73f-51c3-40ac-b698-715595216186:/travel/about/company</code></p>
</div>
<div class="paragraph">
<p><code>Got clearance for JCR lock on parent node /travel/about</code></p>
</div>
<div class="paragraph">
<p><code>Requesting XA lock</code></p>
</div>
<div class="paragraph">
<p><code>About to perform activate</code></p>
</div>
<div class="paragraph">
<p><code>Starting content update</code></p>
</div>
<div class="paragraph">
<p><code>Checking for existence of content website:8fa4a73f-51c3-40ac-b698-715595216186</code></p>
</div>
<div class="paragraph">
<p><code>Content 8fa4a73f-51c3-40ac-b698-715595216186 was located under path website:/travel/about/company</code></p>
</div>
<div class="paragraph">
<p><code>Stored content website:/travel/about/company:8fa4a73f-51c3-40ac-b698-715595216186 for rollback later</code></p>
</div>
<div class="paragraph">
<p><code>User superuser successfully activated /travel/about/company on magnoliaPublic.</code></p>
</div>
<div class="paragraph">
<p><code>User superuser attempted to activate 8fa4a73f-51c3-40ac-b698-715595216186 on magnoliaPublic.</code></p>
</div>
<div class="paragraph">
<p><code>Finished activate of website:8fa4a73f-51c3-40ac-b698-715595216186:/travel/about</code></p>
</div>
<div class="paragraph">
<p><code>Activate was executed in total of 0.757 seconds</code></p>
</div>
<div class="paragraph">
<p><code>About to begin commit of website:8fa4a73f-51c3-40ac-b698-715595216186:/travel/about/company</code></p>
</div>
<div class="paragraph">
<p><code>Got clearance for JCR lock on parent node /travel/about/company</code></p>
</div>
<div class="paragraph">
<p><code>About to perform commit</code></p>
</div>
<div class="paragraph">
<p><code>Proceeding with commit of content 8fa4a73f-51c3-40ac-b698-715595216186</code></p>
</div>
<div class="paragraph">
<p><code>Commited content 8fa4a73f-51c3-40ac-b698-715595216186</code></p>
</div>
<div class="paragraph">
<p><code>User transaction committed on MgnlUser - superuser [51ae3379-67cf-4994-9e05-f97cb8bc3e4a].</code></p>
</div>
<div class="paragraph">
<p><code>Finished commit of website:8fa4a73f-51c3-40ac-b698-715595216186:/travel/about/company</code></p>
</div>
<div class="paragraph">
<p>`Commit was executed in total of 0.073 seconds `</p>
</div>
<div class="paragraph">
<p>It is possible that something goes wrong while Magnolia is activating
the content. For example, the server process is killed or the server
loses power. This means that the backup copy may have gotten left in the
<code>mgnlSystem</code> workspace. Never clean up properly after the activation
during the commit step.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Checkingatstartup"><a class="anchor" href="#src-196595953_Activationerrors-Checkingatstartup"></a>Checking at startup</h4>
<div class="paragraph">
<p>The system will automatically check for nodes. If a node is found in the
<code>mgnlSystem</code> workspace during startup this message will be recorded in
the public log.</p>
</div>
<div class="paragraph">
<p><code>WARN PUBLIC [main] info.magnolia.module.exchangetransactional.ExchangeTransactionalUtil: Removing backup copy of /company from mgnlSystem, please verify that page was activated correctly to <code>this</code> <code>public</code> instance.</code></p>
</div>
<div class="paragraph">
<p>This is a sign that the server went down during the activation step. The
backup copy remains indicating that the commit step was never reached.
This means that the page may have not been activated correctly.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Cleaningtool"><a class="anchor" href="#src-196595953_Activationerrors-Cleaningtool"></a>Cleaning tool</h4>
<div class="paragraph">
<p>After a successful activation a cleanup procedure is run to remove the
backup copies. This is performed during the commit step. If for some
reason it cannot cleanup then a message like this will occur in the log.</p>
</div>
<div class="paragraph">
<p><code>ERROR info.magnolia.module.exchangetransactional.XAReceiveFilter - Failed to cleanup backup of a1918662-8cbe-<code>4346</code>-ac5a-1b24a9950e2b. Activation of <code>this</code> content will not be possible until manual cleanup of mgnlSystem workspace is performed.</code></p>
</div>
<div class="paragraph">
<p>To try and resolve the issue, clean the <code>mgnlSystem</code> workspace yourself
on the public instance. There is a cleaning tool in the
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Activation+Tools+app">Activation
Tools app</a>. This is the same procedure that is run during startup but
triggered manually using this app.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595953/clean-mgnlSystem-workspace.png" alt="images/download/attachments/196595953/clean-mgnlSystem-workspace.png"></span></p>
</div>
<div class="paragraph">
<p>After running be sure to check the log. If you see repository exceptions
then you need to take other actions. For example, restarting the server
to release any locks that may still be present. Restarting will
automatically call the cleanup procedure described above. If locks was
the issue then you should see the system successfully remove the backup
copies during the restart. However, if you still see repository
exceptions in your log during startup then you most likely have a
repository corruption issue. In that case probably the best course of
action would be to recreate the workspace from scratch.</p>
</div>
</div>
<div class="sect3">
<h4 id="src-196595953_Activationerrors-Visualinspection"><a class="anchor" href="#src-196595953_Activationerrors-Visualinspection"></a>Visual inspection</h4>
<div class="paragraph">
<p>The <a href="https://wiki.magnolia-cms.com/display/DOCS62/JCR+Browser+app">JCR
Browser app</a> will allow you to visually inspect the workspace as well.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../_images/images/download/attachments/196595953/jcr-browser.png" alt="images/download/attachments/196595953/jcr-browser.png"></span></p>
</div>
<div class="paragraph">
<p>The <code>mgnlSystem</code> workspace should normally be empty if there is no
activation in progress. After cleaning, make sure the website tree is OK
on your public instance.</p>
</div>
<div class="paragraph">
<p>Troubleshooting</p>
</div>
<div class="paragraph">
<p>Publishing errors</p>
</div>
<div class="paragraph">
<p><a href="#" class="bare">#</a></p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
