<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content app with non-JCR content - 5 UI :: Magnolia CMS Docs</title>
    <link rel="canonical" href="http://localhost:9096/magnolia-docs/support/Content-app-with-non-JCR-content---5-UI.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="">
        <img class="logo" src="../../_/img/magnolia-medium.png" style="width: 10rem; height:auto; margin-left:0.8rem; margin-top:0.4rem;" alt="Magnolia">
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../magnolia-docs/releases/Releases.html">Releases</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Core</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../magnolia-docs/core/getting-started/hello-magnolia.html">Getting Started</a>
            <a class="navbar-item" href="../../magnolia-docs/core/features/Features.html">Features</a>
            <a class="navbar-item" href="../../magnolia-docs/core/developing/Developing.html">Developing</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Cloud</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../magnolia-docs/cloud/getting-started/hello-cloud.html">Getting Started</a>
            <a class="navbar-item" href="../../magnolia-docs/cloud/Cockpit.html">The Cockpit</a>
            <a class="navbar-item" href="../../magnolia-docs/cloud/Developing-for-Magnolia-in-the-cloud.html">Developing in the Cloud</a>
            <a class="navbar-item" href="../../magnolia-docs/cloud/Upgrading-Magnolia-in-the-cloud.html">Upgrading in the Cloud</a>
          </div>
        </div>
        <a class="navbar-item" href="https://hd.magnolia-cms.com/docs/introduction/" target="_blank">Headless</a>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.magnolia-cms.com/get-started">Get Magnolia</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
  <div class="lower-head">
    
  </div>
</header>
<div class="body">
<div class="nav-container" data-component="magnolia-docs" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Releases and Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../releases/Releases.html">Releases</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../upgrade/Upgrading-to-Magnolia-6.2.x.html">Upgrading-to-Magnolia-6.2.x</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/getting-started/hello-magnolia.html">Hello Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cloud/getting-started/hello-cloud.html">Hello Magnolia Cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/Cache.html">Cache</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/Commenting.html">Commenting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/features/content-authoring.html">Content authoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/features/content-editor.html">Content editor</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/content-tagging.html">Content tagging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/content-types.html">Content types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/data-privacy.html">Data privacy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/dam.html">Digital asset management</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/find-bar.html">Find bar</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/image-recognition.html">Image recognition</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#core/features/integration.adoc">Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/features/Personalization.html">Personalization</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/features/component-personalization.html">Component personalization</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/rest-in-magnolia.html">REST in Magnolia</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/features/Search.html">Search</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/jackrabbit-search.adoc">Placeholder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#core/features/solr-search.adoc">Placeholder</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/search-engine-optimization.html">SEO</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/spa.html">SPA</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/Tasks.html">Tasks</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/text-classification.html">Text classification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/features/Workflow.html">Workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cloud</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cloud/Magnolia-Cloud.html">Cloud Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cloud/getting-started/hello-cloud.html">Hello Cloud</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Onboarding-to-Magnolia-Cloud.html">Onboarding to Magnolia Cloud</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Cloud-domains-and-certificates.html">Domains and Certificates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Cloud-user-management.html">Cloud user management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/ses-email.html">AWS SES Email</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Cockpit.html">The Cockpit</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Magnolia-cockpit-concepts.html">Cockpit concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Managing-subscribers.html">Managing subscribers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Understanding-activity-logs.html">Cockpit Activity logs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Understanding-cockpit-notifications.html">Cockpit Notifications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Developing-for-Magnolia-in-the-cloud.html">Developing for Magnolia Cloud</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Creating-and-deploying-custom-cloud-bundles.html">Creating custom cloud bundles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Setting-up-a-local-Git-repository.html">Setting up git repository</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Setting-up-a-Magnolia-bundle-for-local-development.html">Setting up bundle for local development</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Developing-and-testing.html">Developing and testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#cloud/Committing-and-pushing-to-the-remote-Magnolia-git-repository.adoc">Pushing to the remote git repository</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Installing-updates-using-the-Magnolia-cockpit.html">Installing updates in the cloud</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Installing-a-snapshot.html">Installing a snapshot</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Defining-a-release.html">Defining a release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Installing-a-release-in-UAT.html">Installing release in UAT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Installing-a-release-in-Live.html">Installing release in Live</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Copying-content-for-testing.html">Copying content for testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Upgrading-Magnolia-in-the-cloud.html">Upgrading Magnolia from the Cockpit</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Managing-environments-using-the-Magnolia-cockpit.html">Managing environments in the cloud</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Monitoring-and-logging.html">Monitoring and logging</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cloud/Managing-cloud-log-levels.html">Managing cloud log levels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cloud/Using-REST-to-access-cloud-logs.html">Using REST to access Cloud logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Restarting-instances.html">Restarting instances</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Viewing-cloud-database-information.html">Viewing cloud database information</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Setting-up-a-new-environment.html">Setting up a new environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Tearing-down-an-environment.html">Tearing down an environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Configuring-domain-redirect-rules.html">Configuring domain redirect rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cloud/Protecting-environments.html">Protecting environments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../cloud/Backing-up-and-restoring.html">Backing up and restoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cloud/Creating-a-backup-manually.html">Creating a manual backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../cloud/Recovering-the-Live-environment.html">Recovering the Live environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#cloud/Hiding-custom-cloud-bundle-snapshots.adoc">Hiding custom cloud bundle snapshots</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../cloud/Supported-modules-in-the-cloud.html">Supported Magnolia modules in the cloud</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/administration/Administration.html">Administration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/developing/Developing.html">Developing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Templating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/templating/Templating.html">Templating</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Modules.html">Modules Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/List_of_modules.html">Modules list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Light_modules.html">Light modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Installing_a_module.html">Installing a module</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Module_structure.html">Module structure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Module_configuration.html">Module configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#core/modules/Module_definition_terms.adoc">Module definition terms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/modules/Module_descriptor.html">Module descriptor</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/modules/XML-based_module_descriptor.html">XML Based</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/modules/YAML-based_module_descriptor.html">YAML Based</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/modules/Dependency_injection.html">Dependency injection</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Authoring</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Logging_in.html">Logging in</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Editing_pages.html">Editing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Managing_pages.html">Managing pages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Editing_images.html">Editing images</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Managing_assets.html">Managing assets</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Deleting_and_restoring.html">Deleting and restoring</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Keyboard_shortcuts.html">Keyboard shortcuts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/authoring/Feeds.html">Feeds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connector Packs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/connector-packs/Connector_Packs.html">Connector Packs Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/connector-packs/Analytics_Connector_Pack.html">Analytics Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Analytics_module.html">Analytics module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Integrated_User_Experience.html">Integrated User Experience</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/connector-packs/Commerce_Connector_Pack.html">Commerce Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/E-commerce_app.html">E-commerce app</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/E-commerce_module.html">E-commerce module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/ecomfn.html">ecomfn Templating function</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/E-commerce_REST_endpoints.html">E-commerce REST endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/How_to_configure_a_custom_e-commerce_connector.html">Configure a custom e-commerce connector</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/connector-packs/DAM_Connector_Pack.html">DAM Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/External_DAM_module.html">External DAM module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/connector-packs/Marketing_Automation_Connector_Pack.html">Marketing Automation Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Marketing_Automation_module.html">Marketing automation module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Marketing_Automation_REST_endpoint.html">Marketing automation REST endpoint</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core/connector-packs/Optimization_Connector_Pack.html">Optimization Connector Pack</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core/connector-packs/Siteimprove_module.html">Siteimprove module</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Apps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/apps/Apps.html">Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CLI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/cli/Magnolia-CLI.html">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/cli/Magnolia-CLI-v3.html">Magnolia CLI v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/cli/Updating-CLI-to-v3.html">Updating CLI to v3</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/cli/Magnolia-CLI-v2.html">Magnolia CLI v2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../core/cli/Magnolia-CLI-walkthrough.html">Magnolia CLI walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Special Features</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../special-features/Special-Features.html">Special Features</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Magnolia Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Magnolia Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
    <a href="../index.html" class="home-link"></a>

<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Magnolia Documentation</a></li>
    <li><a href="Content-app-with-non-JCR-content---5-UI.html">Content app with non-JCR content - 5 UI</a></li>
  </ul>
</nav>

</div>
  <div class="content">
<article class="doc">
<h1 class="page">Content app with non-JCR content - 5 UI</h1>
<div id="preamble">
<div class="sectionbody">
<div id="main-content" class="paragraph">
<p><span class="status  red">DEPRECATED</span></p>
</div>
<div class="paragraph">
<p>[.admonition-icon .confluence-information-macro-icon]##</p>
</div>
<div class="paragraph">
<p>This content app framework is based on the deprecated Vaadin 7, which
has been replaced with Vaadin 8 since Magnolia 6.0. It is part of the
<em>Magnolia 5 UI</em> framework.</p>
</div>
<div class="paragraph">
<p>For Vaadin 8 data binding, see
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Data+source+definition">Data
source definition</a> and
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Item+providers">Item
providers</a> instead.</p>
</div>
<div class="paragraph">
<p>In this tutorial you create an app that operates on data stored outside
the JCR repository. The app uses the
<a href="Parts-of-a-content-app---5-UI.html">content app framework</a> but
stores data on the local file system. This is an example of connecting
to a custom data source. Editors don&#8217;t have to leave Magnolia in order
to work on third-party data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Background"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Background"></a>Background</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="Parts-of-a-content-app---5-UI.html">content app framework</a>
allows you to create standardized apps. Standardization makes apps easy
to use and learn. Since all content apps look and behave the same way, a
user who has used one can quickly learn another, even if the apps
operate on different content.</p>
</div>
<div class="paragraph">
<p>The data that content apps operate on is typically stored in the Java
Content Repository (JCR). However, apps can also operate on data that
resides outside the JCR. Editing and viewing custom data is a common
requirement. For example, editors may need to access product data in a
remote ERP system in order to create content to sell the products. Such
remote data can reside in a relational database, on the filesystem, in a
Web service, or some other data delivery service. For convenience, you
want to make the remote data available inside Magnolia in a familiar
environment so editors don&#8217;t need to jump from one system to another.</p>
</div>
<div class="paragraph">
<p>Read
<a href="https://wiki.magnolia-cms.com/display/DOCS62/My+first+content+app">My
first content app</a> and the
<a href="Parts-of-a-content-app---5-UI.html">content app framework</a> if you
are not yet familiar with JCR-based content apps. In this tutorial you
customize an app which requires some Java programming. You need a
development environment and a basic understanding of Magnolia modules.
You will work with interfaces originating from the Vaadin framework used
to build the Magnolia UI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Createamodule"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Createamodule"></a>Create a module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The file system browser app created in this tutorial needs to be
deployed as a Magnolia module. Choose from the following options
depending on your skill level.</p>
</div>
<div class="sect2">
<h3 id="src-196598273_safe-id-Q29udGVudGFwcHdpdGhub24tSkNSY29udGVudC01VUktT3B0aW9uMTpDbG9uZXRoZXByb2plY3RpbkdpdA"><a class="anchor" href="#src-196598273_safe-id-Q29udGVudGFwcHdpdGhub24tSkNSY29udGVudC01VUktT3B0aW9uMTpDbG9uZXRoZXByb2plY3RpbkdpdA"></a>Option 1: Clone the project in Git</h3>
<div class="paragraph">
<p>Choose this option if you know how to work with a Magnolia project and
Git. You get the module code on your local system and can edit it in
your IDE.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone the `fs-browser-app `repository.</p>
<div class="paragraph">
<p><code>git clone http:<code>//git</code>.magnolia-cms.com<code>/git/documentation/fs-browser-app</code>.git</code></p>
</div>
</li>
<li>
<p>Import the project into your IDE. Here&#8217;s what the project looks like
in IntelliJ IDEA:</p>
<div class="paragraph">
<p><span class="image"><img src="../_images/images/download/attachments/196598273/fs-browser-app_in-intelliJ.png" alt="images/download/attachments/196598273/fs-browser-app_in-intelliJ.png"></span></p>
</div>
</li>
<li>
<p>Build the project into a JAR and deploy it to Magnolia instance or run
the project in your IDE. To run it in the IDE, add the module as a
dependency in the .pom file of your bundle, see below.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="src-196598273_safe-id-Q29udGVudGFwcHdpdGhub24tSkNSY29udGVudC01VUktT3B0aW9uMjpBZGR0aGVwcm9qZWN0YXNhZGVwZW5kZW5jeXRveW91cmJ1bmRsZQ"><a class="anchor" href="#src-196598273_safe-id-Q29udGVudGFwcHdpdGhub24tSkNSY29udGVudC01VUktT3B0aW9uMjpBZGR0aGVwcm9qZWN0YXNhZGVwZW5kZW5jeXRveW91cmJ1bmRsZQ"></a>Option 2: Add the project as a dependency to your bundle</h3>
<div class="paragraph">
<p>Choose this option if you want to add the project to your own Magnolia
bundle. The module code will not be stored on your local system. Add the
following dependency to your
<a href="https://wiki.magnolia-cms.com/display/DOCS62/Bundles+and+webapps">bundle</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
  &lt;groupId&gt;info.magnolia.documentation&lt;/groupId&gt;
  &lt;artifactId&gt;fs-browser-app&lt;/artifactId&gt;
  &lt;version&gt;1.2&lt;/version&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Overview"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create a custom content app you need to implement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Container and related classes.</p>
</li>
<li>
<p>Custom presenter classes for every view type you want
(<code>ListPresenter</code>, <code>TreePresenter</code>, <code>ThumbnailPresenter</code>, others)</p>
</li>
<li>
<p>Custom <code>ContentConnector</code></p>
</li>
<li>
<p><code>Action</code> classes to interact with and manipulate your custom content</p>
</li>
<li>
<p>Custom <code>AvailabilityRule</code> classes (if required)</p>
</li>
<li>
<p>Configuration</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Createacontainer"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Createacontainer"></a>Create a container</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A container represents your data source in Vaadin context. The container
provides methods to get, add and remove items and properties in the data
source. The container can hold 0 to n items.</p>
</div>
<div class="paragraph">
<p>The interface you have to implement for your container is
<code>com.vaadin.data.Container</code>. If you want to have a more sophisticated
container you also may want to implement:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>info.magnolia.ui.workbench.container.Refreshable</code></p>
</li>
<li>
<p><code>com.vaadin.data.Container.Sortable</code></p>
</li>
<li>
<p><code>com.vaadin.data.Container.Indexed</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Vaadin framework itself provides some container implementations
which may be helpful for your own custom container. Use them as a source
of inspiration or just as a superclass:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>com.vaadin.data.util.BeanContainer</code></p>
</li>
<li>
<p><code>com.vaadin.data.util.sqlcontainer.SQLContainer</code></p>
</li>
<li>
<p><code>com.vaadin.ui.Table</code></p>
</li>
<li>
<p><code>com.vaadin.ui.TreeTable</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Filesystemcontainer"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Filesystemcontainer"></a>File system container</h3>
<div class="paragraph">
<p>The container class for the file system browser app is
<code>info.magnolia.filesystembrowser.app.contentview.RefreshableFSContainer</code>.
The class delegates most of the work to
<code>com.vaadin.data.util.FilesystemContainer</code> which again is a container
implementation provided by the Vaadin framework. When creating your own
custom container, study the interface and related classes.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Contentviewsandpresenters"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Contentviewsandpresenters"></a>Content views and presenters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Workbench is a view that displays content items in a workspace. It is
part of the content app framework, typically defined in the browser
subapp. The workbench contains a list of content views. Common view
types are tree, list and thumbnail.</p>
</div>
<div class="paragraph">
<p>Your custom app can use the same views as a typical JCR content app such
as tree, list and thumbnail but other views are possible too.</p>
</div>
<div class="paragraph">
<p>To implement a presenter:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Provide a concrete implementation of
<code>info.magnolia.ui.workbench.AbstractContentPresenterBase</code>.</p>
</li>
<li>
<p>Implement the <code>initializeContainer()</code> method. This method is a link to
your custom container. Instantiate and initialize the container in the
method.</p>
<div class="paragraph">
<p><code>protected<code> </code>abstract`</code> Container initializeContainer();`</p>
</div>
</li>
<li>
<p>Depending on whether you want your custom content presenter to display
a tree, list or thumbnail view, extend one of the following:</p>
<div class="ulist">
<ul>
<li>
<p><code>info.magnolia.ui.workbench.list.ListPresenter</code></p>
</li>
<li>
<p><code>info.magnolia.ui.workbench.tree.TreePresenter</code></p>
</li>
<li>
<p><code>info.magnolia.ui.workbench.thumbnail.ThumbnailPresenter</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Override the <code>initializeContainer()</code> method.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the example app we extend the <code>TreePresenter</code>:</p>
</div>
<div class="paragraph">
<p>info.magnolia.filesystembrowser.app.contentview.FSTreePresenter</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> FSTreePresenter </code>extends`</code> TreePresenter {`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Inject</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> FSTreePresenter(TreeView view, ComponentProvider componentProvider) {`</p>
</div>
<div class="paragraph">
<p>`        <code>super</code>(view, componentProvider);`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> Container initializeContainer() {`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> <code>new</code> RefreshableFSContainer(<code>new</code> File;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>The code fragment above is simplified. The package declaration, imports
and some comments have been removed.</p>
</div>
<div class="paragraph">
<p>The other presenter used for the fs-browser-app is very similar; it
extends <code>info.magnolia.ui.workbench.thumbnail.ThumbnailPresenter</code>, but
the method <code>initializeContainer()</code> is a little bit more complicated, but
still easy.</p>
</div>
<div class="paragraph">
<p>When you have the custom-presenters, you also should create definition
classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>info.magnolia.filesystembrowser.app.contentview.FSTreePresenterDefinition</code></p>
</li>
<li>
<p><code>info.magnolia.filesystembrowser.app.contentview.FSThumbnailPresenterDefinition</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>for example:</p>
</div>
<div class="paragraph">
<p>info.magnolia.filesystembrowser.app.contentview.FSThumbnailPresenterDefinition</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> FSThumbnailPresenterDefinition </code>extends`</code> ThumbnailPresenterDefinition {`</p>
</div>
<div class="paragraph">
<p>`    <code>public</code> FSThumbnailPresenterDefinition() {`</p>
</div>
<div class="paragraph">
<p>`        setImplementationClass(FSThumbnailPresenter.<code>class</code>);`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>Now the views can be configured:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">workbench</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentViews</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tree</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">columns</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.ui.workbench.column.definition.PropertyColumnDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expandRatio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">propertyName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.filesystembrowser.app.contentview.FSTreePresenterDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">thumbnail</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.filesystembrowser.app.contentview.FSThumbnailPresenterDefinition</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The tree above is just a part of the whole configuration of the
fs-browser-app. However, it contains the relevant parts for the content
views and presenters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Createacustomcontentconnector"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Createacustomcontentconnector"></a>Create a custom content connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="Content-connector---5-UI.html">content connector</a> is one of the
core pieces for the your custom content app with non-JCR content. You
need a custom implementation and <code>contentConnector</code> node in the
configuration.</p>
</div>
<div class="paragraph">
<p>In the fs-browser-app, the custom implementation is
<code>info.magnolia.filesystembrowser.app.contentconnector.FileSystemContentConnector</code>.
Its definition class is
<code>info.magnolia.filesystembrowser.app.contentconnector.FSContentConnectorDefinition</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">browser</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contentConnector</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.filesystembrowser.app.contentconnector.FSContentConnectorDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rootFolder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/Users/cmeier/Documents/magnolia</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>contentConnector</code> node of your own custom content app can have more
properties. It depends on the implementation of your definition class.
Here <code>FSContentConnectorDefinition</code> has just one bean-property: the root
folder. The other property <code>class</code> comes from the superclass of the
definition class
(<code>info.magnolia.ui.vaadin.integration.contentconnector.ConfiguredContentConnectorDefinition</code>).
You must always provide the property <code>class</code> when creating a custom
content app.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Implementactionclassestooperateoncustomcontent"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Implementactionclassestooperateoncustomcontent"></a>Implement action classes to operate on custom content</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have a container and a content connector, your data source
is anchored in the content app and is now ready to be used. As you
already know from JCR-related content apps, to work with the items, you
have to create <a href="Action-definition---5-UI.html">action definitions</a>
and configure the app with the available actions.</p>
</div>
<div class="paragraph">
<p>Start with <code>info.magnolia.filesystembrowser.app.action.RefreshFSAction</code>:</p>
</div>
<div class="paragraph">
<p>info.magnolia.filesystembrowser.app.action.RefreshFSAction</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> RefreshFSAction&lt;T </code>extends<code> RefreshFSActionDefinition&gt; </code>extends`</code> AbstractAction&lt;T&gt; {`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> ContentConnector contentConnector;`</p>
</div>
<div class="paragraph">
<p>`    <code>private</code> EventBus eventBus;`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Inject</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> RefreshFSAction(T definition, ContentConnector contentConnector, <code>@Named</code>(AdmincentralEventBus.NAME)EventBus eventBus) {`</p>
</div>
<div class="paragraph">
<p>`        <code>super</code>(definition);`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.contentConnector = contentConnector;`</p>
</div>
<div class="paragraph">
<p>`        <code>this</code>.eventBus = eventBus;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>void</code> execute() <code>throws</code> ActionExecutionException {`</p>
</div>
<div class="paragraph">
<p>`        eventBus.fireEvent(<code>new</code> ContentChangedEvent(contentConnector.getDefaultItemId()));`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>This action does not do a lot. The execute method is only firing an
event which leads to a refresh of the content view. Imagine that you
have added a file to a root folder which is represented by your
fs-browser-app and you want your app to reflect the changes in the
filesystem. You can inject the contentConnector into the constructor
which is really handy.</p>
</div>
<div class="paragraph">
<p>The next example shows the typical pattern where the scenario is started
with <code>OpenEditDialogAction</code> and where a dialog must be provided. In that
case the custom action
<code>info.magnolia.filesystembrowser.app.action.SaveFileActionDefinition</code> is
defined as the commit action in the dialog.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">browser</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">actions</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editFile</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.ui.framework.action.OpenEditDialogActionDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">icon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">icon-edit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialogName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fs-browser-app:editFileProperties</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subAppId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dialogs</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editFileProperties</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editFile</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">form</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">action</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commit</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.filesystembrowser.app.action.SaveFileActionDefinition</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In your custom conten-app you would have more sophisticated action -
e.g. you could implement actions to create, update and delete (CRUD)
items.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Implementcustomavailabilityrules"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Implementcustomavailabilityrules"></a>Implement custom availability rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Availability rules are optional. Generally, availability classes
implement <code>info.magnolia.ui.api.availability.AvailabilityRule</code>, most of
them by extending
<code>info.magnolia.ui.api.availability.AbstractAvailabilityRule</code>.</p>
</div>
<div class="paragraph">
<p>info.magnolia.ui.api.availability.AbstractAvailabilityRule</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>abstract<code> </code>class<code> AbstractAvailabilityRule </code>implements`</code> AvailabilityRule {`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>public</code> <code>boolean</code> isAvailable(Collection&lt;?&gt; itemIds) {`</p>
</div>
<div class="paragraph">
<p>`        <code>if</code> (itemIds == <code>null</code> || itemIds.size() == <code>0</code>) {`</p>
</div>
<div class="paragraph">
<p>`            <code>return</code> <code>false</code>;`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>`// for selected items</code></p>
</div>
<div class="paragraph">
<p>`        <code>for</code> (Object item : itemIds) {`</p>
</div>
<div class="paragraph">
<p>`            <code>if</code> (!isAvailableForItem(item)) {`</p>
</div>
<div class="paragraph">
<p>`                <code>return</code> <code>false</code>;`</p>
</div>
<div class="paragraph">
<p>`            }`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> <code>true</code>;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p>`    <code>protected</code> <code>abstract</code> <code>boolean</code> isAvailableForItem(Object itemId);`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>Note, that the older version was depending on <code>javax.jcr.Item</code> to
compare, whereas the newer version is less strict typed - which allows
it to implement availability rule classes for non-JCR related content.
The fs-browser-app has such an availability rule class, too:</p>
</div>
<div class="paragraph">
<p>info.magnolia.filesystembrowser.app.action.availability.IsImageRule</p>
</div>
<div class="paragraph">
<p><code>public<code> </code>class<code> IsImageRule </code>extends`</code> AbstractAvailabilityRule {`</p>
</div>
<div class="paragraph">
<p>`    <code>`@Override</code></p>
</div>
<div class="paragraph">
<p>`    <code>protected</code> <code>boolean</code> isAvailableForItem(Object itemId) {`</p>
</div>
<div class="paragraph">
<p>`        <code>if</code> (itemId <code>instanceof</code> File) {`</p>
</div>
<div class="paragraph">
<p>`            String mimeType = FileTypeResolver.getMIMEType((File) itemId);`</p>
</div>
<div class="paragraph">
<p>`            <code>return</code> (mimeType != <code>null</code> &amp;&amp; mimeType.matches(<code>"image.*"</code>));`</p>
</div>
<div class="paragraph">
<p>`        }`</p>
</div>
<div class="paragraph">
<p>`        <code>return</code> <code>false</code>;`</p>
</div>
<div class="paragraph">
<p>`    }`</p>
</div>
<div class="paragraph">
<p><code>}</code></p>
</div>
<div class="paragraph">
<p>The rule class itself has a definition class -
<code>info.magnolia.filesystembrowser.app.action.availability.IsImageRuleDefinition</code>
- which then is used in the configuration:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Node name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">actions</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">editImage</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">availability</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rules</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">image</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">info.magnolia.filesystembrowser.app.action.availability.IsImageRuleDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">anotherRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">class</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.yours.yourcustomapp.app.action.availability.AnotherRuleDefinition</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">againAnotherRule</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">implementationClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">com.yours.yourcustomapp.app.action.availability.AgainAnotherRule</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the above tree you can see that it is possible to combine more than
one availability rule classes. The 2nd and the 3rd one under the node
filename doesn&#8217;t exist and is just an example. When using more then one
class, their results are combined with AND-operator.</p>
</div>
<div class="paragraph">
<p>Instead of using the class-property, which points to a definition-class,
you also can use the implementationClass-property, which then must point
directly to the rule-implementation-class,</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="src-196598273_Contentappwithnon-JCRcontent-5UI-Finallyassemble"><a class="anchor" href="#src-196598273_Contentappwithnon-JCRcontent-5UI-Finallyassemble"></a>Finally assemble</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now all parts are ready and if not already done - the app can be
configured. If you are unsure about how to do that, have a look at
<a href="App-configuration---5-UI.html">Configuration</a>. Some of the details
of the configuration have been shown above. To finish, have a look at
the screenshot of the configuration of the <em>fs-browser-ap:</em></p>
</div>
<div class="paragraph">
<p>_<span class="image"><img src="../_images/images/download/attachments/196598273/fs-browser-conf-overview-II.png" alt="images/download/attachments/196598273/fs-browser-conf-overview-II.png"></span><br>
_</p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.magnolia-cms.com" class="icon">
            <img src="../../_/img/magnolia-medium.png" alt="Magnolia">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://documentation.magnolia-cms.com" target="_blank" rel="noopener">Full Docs Set</a></li>
          <li><a href="https://wiki.magnolia-cms.com/" target="_blank" rel="noopener">Community Wiki</a></li>
          <li><a href="https://support.magnolia-cms.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://marketplace.magnolia-cms.com/" target="_blank" rel="noopener">Extend Magnolia</a></li>
          <li><a href="https://magnolia-cms.com/blog" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.magnolia-cms.com/training" target="_blank" >Training</a></li>
        </ul>
      </div>
      <div class="col">
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Magnolia" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/magnolia_cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/magnolia-cms" target="_blank" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2020 Magnolia International Ltd. All rights reserved.</span>
      <a href="https://www.magnolia-cms.com/legal/privacy.html">Privacy Policy</a>
    </div>
  </div>
</footer>

<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
